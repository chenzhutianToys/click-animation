{"version":3,"sources":["webpack:///./src/index.js","webpack:///./~/vue-router/dist/vue-router.js","webpack:///./src/components/App/App.vue","webpack:///./src/components/App/App.vue?a170","webpack:///./src/components/App/App.vue?50ba","webpack:///./~/vue-style-loader/addStyles.js","webpack:///./src/components/App/App.vue?3e32","webpack:///./src/components/App/app.js","webpack:///./src/components/NoBallDrop/NoBallDrop.vue","webpack:///./src/components/NoBallDrop/NoBallDrop.vue?fcdb","webpack:///./src/components/NoBallDrop/NoBallDrop.vue?b2b2","webpack:///./src/components/NoBallDrop/no-ball-drop.js","webpack:///./~/babel-runtime/core-js/object/keys.js","webpack:///./~/core-js/library/fn/object/keys.js","webpack:///./~/core-js/library/modules/es6.object.keys.js","webpack:///./~/core-js/library/modules/_to-object.js","webpack:///./~/core-js/library/modules/_defined.js","webpack:///./~/core-js/library/modules/_object-keys.js","webpack:///./~/core-js/library/modules/_object-keys-internal.js","webpack:///./~/core-js/library/modules/_has.js","webpack:///./~/core-js/library/modules/_to-iobject.js","webpack:///./~/core-js/library/modules/_iobject.js","webpack:///./~/core-js/library/modules/_cof.js","webpack:///./~/core-js/library/modules/_array-includes.js","webpack:///./~/core-js/library/modules/_to-length.js","webpack:///./~/core-js/library/modules/_to-integer.js","webpack:///./~/core-js/library/modules/_to-index.js","webpack:///./~/core-js/library/modules/_shared-key.js","webpack:///./~/core-js/library/modules/_shared.js","webpack:///./~/core-js/library/modules/_global.js","webpack:///./~/core-js/library/modules/_uid.js","webpack:///./~/core-js/library/modules/_enum-bug-keys.js","webpack:///./~/core-js/library/modules/_object-sap.js","webpack:///./~/core-js/library/modules/_export.js","webpack:///./~/core-js/library/modules/_core.js","webpack:///./~/core-js/library/modules/_ctx.js","webpack:///./~/core-js/library/modules/_a-function.js","webpack:///./~/core-js/library/modules/_hide.js","webpack:///./~/core-js/library/modules/_object-dp.js","webpack:///./~/core-js/library/modules/_an-object.js","webpack:///./~/core-js/library/modules/_is-object.js","webpack:///./~/core-js/library/modules/_ie8-dom-define.js","webpack:///./~/core-js/library/modules/_descriptors.js","webpack:///./~/core-js/library/modules/_fails.js","webpack:///./~/core-js/library/modules/_dom-create.js","webpack:///./~/core-js/library/modules/_to-primitive.js","webpack:///./~/core-js/library/modules/_property-desc.js","webpack:///./src/components/BubbleFloat/BubbleFloat.vue","webpack:///./src/components/BubbleFloat/BubbleFloat.vue?67af","webpack:///./src/components/BubbleFloat/bubble-float.js","webpack:///./~/babel-runtime/helpers/typeof.js","webpack:///./~/babel-runtime/core-js/symbol/iterator.js","webpack:///./~/core-js/library/fn/symbol/iterator.js","webpack:///./~/core-js/library/modules/es6.string.iterator.js","webpack:///./~/core-js/library/modules/_string-at.js","webpack:///./~/core-js/library/modules/_iter-define.js","webpack:///./~/core-js/library/modules/_library.js","webpack:///./~/core-js/library/modules/_redefine.js","webpack:///./~/core-js/library/modules/_iterators.js","webpack:///./~/core-js/library/modules/_iter-create.js","webpack:///./~/core-js/library/modules/_object-create.js","webpack:///./~/core-js/library/modules/_object-dps.js","webpack:///./~/core-js/library/modules/_html.js","webpack:///./~/core-js/library/modules/_set-to-string-tag.js","webpack:///./~/core-js/library/modules/_wks.js","webpack:///./~/core-js/library/modules/_object-gpo.js","webpack:///./~/core-js/library/modules/web.dom.iterable.js","webpack:///./~/core-js/library/modules/es6.array.iterator.js","webpack:///./~/core-js/library/modules/_add-to-unscopables.js","webpack:///./~/core-js/library/modules/_iter-step.js","webpack:///./~/core-js/library/modules/_wks-ext.js","webpack:///./~/babel-runtime/core-js/symbol.js","webpack:///./~/core-js/library/fn/symbol/index.js","webpack:///./~/core-js/library/modules/es6.symbol.js","webpack:///./~/core-js/library/modules/_meta.js","webpack:///./~/core-js/library/modules/_wks-define.js","webpack:///./~/core-js/library/modules/_keyof.js","webpack:///./~/core-js/library/modules/_enum-keys.js","webpack:///./~/core-js/library/modules/_object-gops.js","webpack:///./~/core-js/library/modules/_object-pie.js","webpack:///./~/core-js/library/modules/_is-array.js","webpack:///./~/core-js/library/modules/_object-gopn-ext.js","webpack:///./~/core-js/library/modules/_object-gopn.js","webpack:///./~/core-js/library/modules/_object-gopd.js","webpack:///./~/core-js/library/modules/es7.symbol.async-iterator.js","webpack:///./~/core-js/library/modules/es7.symbol.observable.js","webpack:///./src/Static/MoveEngine.js","webpack:///./src/components/BubbleFloat/BubbleFloat.vue?b491","webpack:///./src/Static/TimeLine.js","webpack:///./~/babel-runtime/helpers/classCallCheck.js","webpack:///./~/babel-runtime/helpers/createClass.js","webpack:///./~/babel-runtime/core-js/object/define-property.js","webpack:///./~/core-js/library/fn/object/define-property.js","webpack:///./~/core-js/library/modules/es6.object.define-property.js","webpack:///./src/components/NoBallDrop/no-ball-drop.html","webpack:///./src/components/App/app.html","webpack:///./src/components/CongleiBaseline/CongleiBaseline.vue","webpack:///./src/components/CongleiBaseline/CongleiBaseline.vue?8480","webpack:///./src/components/CongleiBaseline/CongleiBaseline.vue?50f5","webpack:///./src/components/CongleiBaseline/conglei-baseline.js","webpack:///./src/components/CongleiBaseline/conglei-baseline.html","webpack:///./src/components/NoForeShadowBaseline/NoForeshadowBaseline.vue","webpack:///./src/components/NoForeShadowBaseline/NoForeshadowBaseline.vue?44a5","webpack:///./src/components/NoForeShadowBaseline/NoForeshadowBaseline.vue?016b","webpack:///./src/components/NoForeShadowBaseline/no-foreshadow-baseline.js","webpack:///./src/components/NoForeShadowBaseline/no-foreshadow-baseline.html"],"names":["use","router","root","history","saveScrollPosition","map","component","start","ROOTPATH","ready","d3","json","rawDataPath","err","data","rawData","rawStackDataPath","err1","stackData","rawStackData","videoIds","$refs","clickAnimationComponent","setRawdata","components","NoBallDrop","vLinkIndex","vLinkCongleiPath","vLinkNoForeshadow","selectedVideo","zoomScaleMax","zoomScaleList","isAcceleration","methods","getData","SelectVideo","SelectSpeed","ChangeAcceleration","Pause","Resume","BubbleFloat","InitVariables","console","log","clickData","$root","doc","svg","contextTimeLineG","timelineChartData","timelineChartLineGen","animation","digitalClock","focusXscale","contextXscale","contextBarChartYscale","arcGen","brush","dateFormat","timeFormat","padding","top","right","bottom","left","width","height","center","titleHeight","viewInnerWidth","viewInnerHeight","contextTimeLineHeight","contextTimeLineY","stackBarChartHeight","focusRegionWidth","focusRegionScale","focusMoveRange","focusTimeLineViewScale","focusDataScale","accelerateMode","baseDuration","currentDuration","timeInterval","name","ms","is2D","xDomainMin","xDomainMax","time2edInterval","i","len","length","currentTime","date","Date","ts","videoId","videoData","clickDataGroupByTimeArray","clickDataGroupByTimeDict","index","Math","floor","push","timeKeys","j","lenj","value","bubbleFloatComponent","setBarHeight","setIs2D","setTimeInterval","videosData","processData","tempL1A","statics","extent","d","max","min","mean","median","deviation","calOutLier","outliers","sigmaCount","upperBound","lowerBound","isOutlier","bar","siso","t","getTimeInterval","outliersStatics","videoLength","getVideoLength","outlier","newValues","click","newIndex","type","tTypes","maxType","maxValue","forEach","indicatorData","tempL2A","tempL2D","clicks","domain","setTimeout","InitView","select","$el","node","clientHeight","clientWidth","attr","append","time","scale","linear","range","arc","innerRadius","outerRadius","startAngle","endAngle","PI","line","interpolate","tension","x","y","format","drawDigitalClock","chart","text","drawFisheyeContextTimeLine","scaleSize","oneBarRange","getTime","lineChartData","ox","filter","datum","selectAll","enter","indicatorG","style","tempD","timeLinePosition","interrupt","firstDrop","setPosition","setSize","zoomInView","halfTimeLineHeight","zoomOutView","timeLineHeight","hour","offset","remove","zoomIn","syncDelay","drawStackChart","AnimationFisheyeTick","AnimationUpdateDigitalClock","duration","ease","stop","transition","each","self","fisheyeScaleSize","barWidth","centerX","startLine","endLine","lastRange","moveRangeWidth","currentRange","canBeFinished","tween","interpolateRange","interpolateNumber","sX","tempX","inputClicks","drawClicks","attrTween","a","lastOffset","invert","sY","AccelerateByDomain","accelerateBallsDropping","AccelerateByScreen","pause","resume","targetDuration","sourceDuration","end","selectVideoDisabled","originalFocusXscale","copy","halfScreen","AnimationTick","stackLayout","singleYScale","singleXScale","frontGroundStackbar","timeLineAxis","moveLayout","moveLayout2","nodesToAdd","nodesToAdd2","xAxisGen","yAxisGen","xAxis","yAxis","xAxisTimeFormat","areaGen","frontGroundAreaGen","borderLineGen","digitalTimeFormat","digitalDateFormat","digitalClockHourScale","digitalClockMinuteScale","digitalClockRadius","digitalClockHourHandLength","digitalClockMinuteHandLength","digitalClockHandData","boundarys","boundarysUpOrDown","chartWidth","chartHeight","barHeight","stackBarWidth","stackBarMaxY","Infinity","stackBarMaxIndex","isFragmentChart","gDirection","gMagnitude","chartTemplate","layersName","clickColor","orderMapping","clickBallSplitThreshold","count2","count20","timer","sumTime","timeLineTimeFormat","layout","stack","values","axis","tickSize","orient","ticks","area","y0","y1","clickNum","keys","hasAggregate","s","Array","isArray","h","setPadding","p","setFragmentpadding","fragmentPadding","stackGraphIds","stackGraphs","layers","layer","oldValues","ceil","_original_values","maxTime","maxY","tempSum","maxSumValues","sortedlayers","reverse","calBoundarys","boundary","tPath","tPathLength","roundDist","isLowerChart","tempPlainLayerData","layerName","parentNode","classed","getTotalLength","pathLength","point","dist","getPointAtLength","round","abs","drawFregmentStackBarChart","clean","html","maxIndex","data2","tempUppest","unshift","concat","drawLegends","resetMoveLayout","drawStackAreaChart","drawNoStackChart","position","chart2","call","legends","context","getContext","tickFunc","e","TWOPI","gy","balls","ball","n","bounds","clearRect","tickTsData","minBall","barTs","fixed","beginPath","fillStyle","color","r","fill","sedFunc","firstPassNodes","frontData","xIndex","sedLayers","endFunc","friction","gravity","on","m","bubbleInitYPositionGen","lastLayerIndex","indexOf","localUperBoundary","upperY","random","clicksData","ballsToAdd","maxClicks","boundaryIndex","xPos","yGen","ballsKeys","balls2","ballCandidate","py","tempBallCandidates","rThreshold","getOffsetBetweenUpAndDown","totalR","boundaryKeys","lastBoundaryKey","uperBoundary","lowerBoundary","lowerY","testMoveLayout","addNode","addNodes","undefined","finish","move","uIdGen","nodes","rToShrink","isAABBBoundary","isBoundaryGroup","boundaryGroupKeys","worldWidth","worldHeight","timeFrame","stepNumPerFrame","timeScale","isDirectionGravity","eventHandler","raf","hack","multiVec2","x1","x2","y2","subVec2","absVec2","doSomething","node2","preserveImpulse","l","sqrt","v1x","px","v1y","v2x","v2y","penetration","slop","penetrationFactor","cx","cy","active","velAlongNormal","jj","restitution","ResolveCollide","node1","AABBBorder_collide","radius","isFirstPass","firstPass","localBoundary","AABBBorder_collide_preserve_impulse","vx","vy","Border_collide","trriglePassEvent","localLowerBoundary","Border_collide_preserve_impulse","magnitude","nodesNum","iid","timeToShrink","timeFrameDeltaSquare","clearInterval","setInterval","tick","bind","once","gravityAngle","gx","tx","ty","atan2","cos","sin","isSeded","fixedCount","unFixedNodes","apply","event","callback","arguments","params","isNaN","BASECIRCLERADIUS","TIMELINEUIDGEN","backCanvas","frontCanvas","helght","frontContext","backContext","skewLinePerDot","circleRadius","dotRadius","distToSplit","dropBalls","_id","_timeLineData","testTick","drawFunc","parameters","transform","save","translate","splitResult","restore","dotsXPosition","circlesData","xOffset","yOffset","splitBalls","drawer","timeLineData","dotsNum","dotPadding","skewLineNum","skewLinePadding","AtomDrawSkewLines","AtomDrawLinks","resultObj","AtomDrawCircles","lineWidth","circleLineWidth","maxHeight","maxWidth","dotsYPosition","splitBallsFinished","newDrawer","strokeStyle","moveTo","lineTo","stroke","NewAtomDrawCircles","DrawUsingCustom","circleNum","font","textBaseline","textAlign","fillText","dotDelay","skewLineDelay","newCallBack","empty","tempEnd","callBack","startCirclesData","endCirclesData","targetR","startGap","endGap","sourceCirclesData","targetCirclesData","circle","insideIndex","aggregate","sx","ex","newCallback","setTransform","prototype","num","newArray","sum","stackGraph","contextTimeLineXAxisGen","contextTimeLineXAxis","stackXscale","stackYscale","stackXAxisGen","stackYAxisGen","stackXAxis","stackYAxis","animationTimer","playrate","sort","b","tickFormat","drawStackGraph","processStackData","draw","allDataLength","sliceCount","sliceSize","slicedData","slice","dataCount","minTime","endCount","class","opacity","delay","circleRadiu","lastTime","isBegin","clearTimeout","drawContextTimeLine","stopImmediatePropagation","AddOffsetToDomain","xScale","domainWidth","tempDomainMin","tempDomainMax","lastDomain","lastDomainCenter","currentDomain","currentDomainCenter","focusBarData","targetData","interpolateDomain"],"mappings":";;;;;;AAAA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAJA;AAMA,eAAIA,GAAJ;;AAEA,KAAMC,SAAS,wBAAc;AACzB;AACAC,WAAK,EAFoB;AAGzBC,cAAS,IAHgB;AAIzBC,yBAAoB;AAJK,EAAd,CAAf;;AAOAH,QAAOI,GAAP,CAAW;AACP,UAAK;AACDC;AADC,MADE;AAIP,iBAAY;AACRA;AADQ,MAJL;AAOP,uBAAkB;AACdA;AADc;AAPX,EAAX;;AAYAL,QAAOM,KAAP,gBAAkB,MAAlB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,O;;;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,oBAAoB;;AAErB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA0C,OAAO;AACjD;AACA;;AAEA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;;AAEA,uEAAsE,KAAK;;AAE3E;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAwC,OAAO;AAC/C;AACA,mBAAkB,iBAAiB;AACnC;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,kCAAkC;AAClD,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iCAAiC;AACjD,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAoC;AACpC;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAwC,OAAO;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6CAA4C,OAAO;AACnD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,6CAA4C,OAAO;AACnD;;AAEA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oCAAmC,cAAc;AACjD;AACA;AACA,8BAA6B,cAAc;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAsC,4CAA4C;AAClF,4EAA2E,mBAAmB;AAC9F,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA,uCAAsC,OAAO;AAC7C;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAwC,OAAO;AAC/C;AACA;AACA;;AAEA,wCAAuC,OAAO;AAC9C;AACA;;AAEA,oBAAmB,sEAAsE;AACzF;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;;AAEA;;AAEA,yCAAwC,OAAO;AAC/C;AACA;;AAEA;;AAEA;;AAEA,6CAA4C,OAAO;AACnD;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,4CAA2C,kBAAkB;AAC7D;;AAEA;AACA;AACA;AACA;;AAEA,wBAAuB;AACvB;AACA;;AAEA;AACA,0CAAyC,kBAAkB;AAC3D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA,iDAAgD,OAAO;AACvD;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,2CAA0C,OAAO;AACjD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC,SAAS;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,OAAO;AAClD;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA,sBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mCAAkC,OAAO;AACzC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,qCAAoC,OAAO;AAC3C;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB,eAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,eAAc;AACd;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,aAAa;AAC1B,cAAa,OAAO;AACpB,eAAc;AACd;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,SAAS;AACtB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAA+B;AAC/B,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,UAAU;AACvB,cAAa,OAAO;AACpB,cAAa,WAAW;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,SAAS;AACd;;AAEA;AACA;AACA;AACA,cAAa,UAAU;AACvB,cAAa,WAAW;AACxB,cAAa,SAAS;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,WAAW;AACxB,cAAa,SAAS;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,cAAa,UAAU;AACvB,cAAa,WAAW;AACxB,cAAa,SAAS;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,UAAU;AACvB,cAAa,WAAW;AACxB,cAAa,OAAO;AACpB,cAAa,SAAS;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,UAAU;AACvB,cAAa,WAAW;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,IAAI;AACjB,cAAa,WAAW;AACxB,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf,cAAa;AACb;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,cAAa,UAAU;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,EAAE;AACf;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,MAAM;AACnB,cAAa,MAAM;AACnB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,kBAAiB,mCAAmC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,YAAW;AACX,UAAS;AACT,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,2BAA0B,QAAQ;AAClC,2BAA0B,QAAQ;AAClC,2BAA0B,SAAS;AACnC,2BAA0B,SAAS;AACnC;;AAEA;AACA,0EAAyE;;AAEzE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,IAAI;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;;AAE7B;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA,kCAAiC;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+CAA8C,OAAO;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;;AAEP;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,UAAS;AACT;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC,OAAO;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;;AAEA;AACA;AACA;;AAEA,0EAAyE;;AAEzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;;AAEA;;AAEA;AACA;AACA;AACA,eAAc,OAAO;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,2BAA0B,OAAO;AACjC,2BAA0B,OAAO;AACjC,2BAA0B,QAAQ;AAClC,2BAA0B,SAAS;AACnC,2BAA0B,SAAS;AACnC;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,SAAS;AACxB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,SAAS;AACxB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAsB,wBAAwB;AAC9C;AACA;AACA;AACA,gBAAe,cAAc;AAC7B,gBAAe,QAAQ;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;;AAEA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,eAAe;AAC9B,gBAAe,eAAe;AAC9B,gBAAe,SAAS;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0CAAyC,mBAAmB;AAC5D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,qBAAqB;AACpC,iBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAuD;AACvD;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB,eAAc,MAAM;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;;AAEA;AACA;AACA,iCAAgC,mBAAmB;AACnD;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT,QAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAC,G;;;;;;ACppFD;AACA;AACA;AACA,uBAA0F;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qHAAoH;AACpH;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C,EAAC;;;;;;;ACpBD;;AAEA;AACA;AACA;AACA;AACA,gDAA0F;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;ACpBA;AACA;;;AAGA;AACA,4JAA2J,mkBAAmkB,wBAAwB,kEAAkE,EAAE,UAAU,wBAAwB,EAAE,YAAY,6BAA6B,EAAE,WAAW,6BAA6B,EAAE,aAAa,6BAA6B,EAAE,YAAY,6BAA6B,EAAE,iBAAiB,6BAA6B,EAAE,cAAc,6BAA6B,EAAE;;AAEvmC;;;;;;;;ACPA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wDAAuD;AACvD;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvNA,0C;;;;;;;;;;;;ACAA;;;;;;AACA;AACA,KAAMC,WAAW,IAAjB;mBACe;AACXC,UADW,m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A,MAAK;AACL;AACA,G;;;;;;ACpBA;AACA;AACA;AACA;AACA,4DAA2D;AAC3D,G;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACNA;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA,oDAAmD;AACnD;AACA,wCAAuC;AACvC,G;;;;;;ACLA;AACA;AACA;AACA,wCAAuC,gC;;;;;;ACHvC;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA,c;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA;AACA,oDAAmD,OAAO,EAAE;AAC5D,G;;;;;;ACTA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAmE;AACnE;AACA,sFAAqF;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,gDAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd,eAAc;AACd,eAAc;AACd,eAAc;AACd,gBAAe;AACf,gBAAe;AACf,gBAAe;AACf,iBAAgB;AAChB,0B;;;;;;AC5DA,8BAA6B;AAC7B,sCAAqC,gC;;;;;;ACDrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACnBA;AACA;AACA;AACA,G;;;;;;ACHA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,G;;;;;;ACPA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG,UAAU;AACb;AACA;AACA;AACA,G;;;;;;ACfA;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA,G;;;;;;ACFA;AACA,sEAAsE,gBAAgB,U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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,G;;;;;;ACrEA,uB;;;;;;ACAA,0C;;;;;;ACAA,qB;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA,4FAAgF,aAAa,EAAE;;AAE/F;AACA,sDAAqD,0BAA0B;AAC/E;AACA,G;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;;;;;;ACxCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACZA,+E;;;;;;ACAA;AACA;AACA;;AAEA;AACA,mEAAkE,+BAA+B;AACjG,G;;;;;;ACNA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wB;;;;;;ACVA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,G;;;;;;ACZA;AACA;AACA;AACA;AACA;;AAEA,yGAAwG,OAAO;AAC/G;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACZA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAgC;AAChC,eAAc;AACd,kBAAiB;AACjB;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,6B;;;;;;ACjCA,6BAA4B,e;;;;;;ACA5B;AACA,WAAU;AACV,G;;;;;;ACFA,qC;;;;;;ACAA,mBAAkB,wD;;;;;;ACAlB;AACA;AACA;AACA;AACA,iD;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAsB;AACtB,qBAAoB,uBAAuB,SAAS,IAAI;AACxD,IAAG;AACH,EAAC;AACD;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD;AACzD;AACA,MAAK;AACL;AACA,uBAAsB,iCAAiC;AACvD,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA8D,8BAA8B;AAC5F;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,2DAA0D,gBAAgB;;AAE1E;AACA;AACA;AACA,qBAAoB,oBAAoB;;AAExC,2CAA0C,oBAAoB;;AAE9D;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH,yBAAwB,eAAe,EAAE;AACzC,yBAAwB,gBAAgB;AACxC,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,qDAAoD,KAAK,QAAQ,iCAAiC;AAClG,EAAC;AACD;AACA,gDAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2C;;;;;;AC1OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAiD;AACjD,EAAC;AACD;AACA,sBAAqB;AACrB;AACA,UAAS;AACT,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D,sBAAsB;AAChF,iFAAgF,sBAAsB;AACtG,G;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,G;;;;;;ACdA,0C;;;;;;ACAA,eAAc,sB;;;;;;ACAd;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA,mBAAkB;;AAElB;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AClBA;AACA;AACA;;AAEA;AACA;AACA,G;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG,UAAU;AACb;AACA,G;;;;;;;;;;;;ACfA,0C;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;;;;mBCAe,UAASjO,IAAT,EAAe;AAC1B,SAAIwZ,OAAO,EAAX;AAAA,SACIC,SAAS,CAAC,CADd;AAAA,SAEIC,QAAQ1Z,IAFZ;AAAA,SAGI2Z,YAAY,CAHhB;AAAA,SAIItD,SAAS,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,GAAD,EAAM,GAAN,CAAT,CAJb;AAAA,S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","file":"./js/app.js","sourcesContent":["import Vue from 'vue';\r\nimport VueRouter from 'vue-router';\r\n//components here\r\nimport App from './components/App/App.vue';\r\nimport NoBallDrop from './components/NoBallDrop/NoBallDrop.vue';\r\nimport Conglei from './components/CongleiBaseline/CongleiBaseline.vue';\r\nimport NoForeshadow from './components/NoForeShadowBaseline/NoForeshadowBaseline.vue';\r\n\r\nVue.use(VueRouter);\r\n\r\nconst router = new VueRouter({\r\n    //root:\"/~zchenbn/click-animation\",\r\n    root:\"\",\r\n    history: true,\r\n    saveScrollPosition: true\r\n});\r\n\r\nrouter.map({\r\n    '/': {\r\n        component: NoBallDrop\r\n    },\r\n    '/conglei': {\r\n        component: Conglei\r\n    },\r\n    '/no-foreshadow': {\r\n        component: NoForeshadow\r\n    }\r\n});\r\n\r\nrouter.start(App, '#app');\r\n\r\n// var v = new Vue({\r\n//     el: 'body',\r\n//     components: {\r\n//         ScreenScroll,\r\n//         NoBallDrop\r\n//     }\r\n// });\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/*!\n * vue-router v0.7.13\n * (c) 2016 Evan You\n * Released under the MIT License.\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  global.VueRouter = factory();\n}(this, function () { 'use strict';\n\n  var babelHelpers = {};\n\n  babelHelpers.classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n  function Target(path, matcher, delegate) {\n    this.path = path;\n    this.matcher = matcher;\n    this.delegate = delegate;\n  }\n\n  Target.prototype = {\n    to: function to(target, callback) {\n      var delegate = this.delegate;\n\n      if (delegate && delegate.willAddRoute) {\n        target = delegate.willAddRoute(this.matcher.target, target);\n      }\n\n      this.matcher.add(this.path, target);\n\n      if (callback) {\n        if (callback.length === 0) {\n          throw new Error(\"You must have an argument in the function passed to `to`\");\n        }\n        this.matcher.addChild(this.path, target, callback, this.delegate);\n      }\n      return this;\n    }\n  };\n\n  function Matcher(target) {\n    this.routes = {};\n    this.children = {};\n    this.target = target;\n  }\n\n  Matcher.prototype = {\n    add: function add(path, handler) {\n      this.routes[path] = handler;\n    },\n\n    addChild: function addChild(path, target, callback, delegate) {\n      var matcher = new Matcher(target);\n      this.children[path] = matcher;\n\n      var match = generateMatch(path, matcher, delegate);\n\n      if (delegate && delegate.contextEntered) {\n        delegate.contextEntered(target, match);\n      }\n\n      callback(match);\n    }\n  };\n\n  function generateMatch(startingPath, matcher, delegate) {\n    return function (path, nestedCallback) {\n      var fullPath = startingPath + path;\n\n      if (nestedCallback) {\n        nestedCallback(generateMatch(fullPath, matcher, delegate));\n      } else {\n        return new Target(startingPath + path, matcher, delegate);\n      }\n    };\n  }\n\n  function addRoute(routeArray, path, handler) {\n    var len = 0;\n    for (var i = 0, l = routeArray.length; i < l; i++) {\n      len += routeArray[i].path.length;\n    }\n\n    path = path.substr(len);\n    var route = { path: path, handler: handler };\n    routeArray.push(route);\n  }\n\n  function eachRoute(baseRoute, matcher, callback, binding) {\n    var routes = matcher.routes;\n\n    for (var path in routes) {\n      if (routes.hasOwnProperty(path)) {\n        var routeArray = baseRoute.slice();\n        addRoute(routeArray, path, routes[path]);\n\n        if (matcher.children[path]) {\n          eachRoute(routeArray, matcher.children[path], callback, binding);\n        } else {\n          callback.call(binding, routeArray);\n        }\n      }\n    }\n  }\n\n  function map (callback, addRouteCallback) {\n    var matcher = new Matcher();\n\n    callback(generateMatch(\"\", matcher, this.delegate));\n\n    eachRoute([], matcher, function (route) {\n      if (addRouteCallback) {\n        addRouteCallback(this, route);\n      } else {\n        this.add(route);\n      }\n    }, this);\n  }\n\n  var specials = ['/', '.', '*', '+', '?', '|', '(', ')', '[', ']', '{', '}', '\\\\'];\n\n  var escapeRegex = new RegExp('(\\\\' + specials.join('|\\\\') + ')', 'g');\n\n  var noWarning = false;\n  function warn(msg) {\n    if (!noWarning && typeof console !== 'undefined') {\n      console.error('[vue-router] ' + msg);\n    }\n  }\n\n  function tryDecode(uri, asComponent) {\n    try {\n      return asComponent ? decodeURIComponent(uri) : decodeURI(uri);\n    } catch (e) {\n      warn('malformed URI' + (asComponent ? ' component: ' : ': ') + uri);\n    }\n  }\n\n  function isArray(test) {\n    return Object.prototype.toString.call(test) === \"[object Array]\";\n  }\n\n  // A Segment represents a segment in the original route description.\n  // Each Segment type provides an `eachChar` and `regex` method.\n  //\n  // The `eachChar` method invokes the callback with one or more character\n  // specifications. A character specification consumes one or more input\n  // characters.\n  //\n  // The `regex` method returns a regex fragment for the segment. If the\n  // segment is a dynamic of star segment, the regex fragment also includes\n  // a capture.\n  //\n  // A character specification contains:\n  //\n  // * `validChars`: a String with a list of all valid characters, or\n  // * `invalidChars`: a String with a list of all invalid characters\n  // * `repeat`: true if the character specification can repeat\n\n  function StaticSegment(string) {\n    this.string = string;\n  }\n  StaticSegment.prototype = {\n    eachChar: function eachChar(callback) {\n      var string = this.string,\n          ch;\n\n      for (var i = 0, l = string.length; i < l; i++) {\n        ch = string.charAt(i);\n        callback({ validChars: ch });\n      }\n    },\n\n    regex: function regex() {\n      return this.string.replace(escapeRegex, '\\\\$1');\n    },\n\n    generate: function generate() {\n      return this.string;\n    }\n  };\n\n  function DynamicSegment(name) {\n    this.name = name;\n  }\n  DynamicSegment.prototype = {\n    eachChar: function eachChar(callback) {\n      callback({ invalidChars: \"/\", repeat: true });\n    },\n\n    regex: function regex() {\n      return \"([^/]+)\";\n    },\n\n    generate: function generate(params) {\n      var val = params[this.name];\n      return val == null ? \":\" + this.name : val;\n    }\n  };\n\n  function StarSegment(name) {\n    this.name = name;\n  }\n  StarSegment.prototype = {\n    eachChar: function eachChar(callback) {\n      callback({ invalidChars: \"\", repeat: true });\n    },\n\n    regex: function regex() {\n      return \"(.+)\";\n    },\n\n    generate: function generate(params) {\n      var val = params[this.name];\n      return val == null ? \":\" + this.name : val;\n    }\n  };\n\n  function EpsilonSegment() {}\n  EpsilonSegment.prototype = {\n    eachChar: function eachChar() {},\n    regex: function regex() {\n      return \"\";\n    },\n    generate: function generate() {\n      return \"\";\n    }\n  };\n\n  function parse(route, names, specificity) {\n    // normalize route as not starting with a \"/\". Recognition will\n    // also normalize.\n    if (route.charAt(0) === \"/\") {\n      route = route.substr(1);\n    }\n\n    var segments = route.split(\"/\"),\n        results = [];\n\n    // A routes has specificity determined by the order that its different segments\n    // appear in. This system mirrors how the magnitude of numbers written as strings\n    // works.\n    // Consider a number written as: \"abc\". An example would be \"200\". Any other number written\n    // \"xyz\" will be smaller than \"abc\" so long as `a > z`. For instance, \"199\" is smaller\n    // then \"200\", even though \"y\" and \"z\" (which are both 9) are larger than \"0\" (the value\n    // of (`b` and `c`). This is because the leading symbol, \"2\", is larger than the other\n    // leading symbol, \"1\".\n    // The rule is that symbols to the left carry more weight than symbols to the right\n    // when a number is written out as a string. In the above strings, the leading digit\n    // represents how many 100's are in the number, and it carries more weight than the middle\n    // number which represents how many 10's are in the number.\n    // This system of number magnitude works well for route specificity, too. A route written as\n    // `a/b/c` will be more specific than `x/y/z` as long as `a` is more specific than\n    // `x`, irrespective of the other parts.\n    // Because of this similarity, we assign each type of segment a number value written as a\n    // string. We can find the specificity of compound routes by concatenating these strings\n    // together, from left to right. After we have looped through all of the segments,\n    // we convert the string to a number.\n    specificity.val = '';\n\n    for (var i = 0, l = segments.length; i < l; i++) {\n      var segment = segments[i],\n          match;\n\n      if (match = segment.match(/^:([^\\/]+)$/)) {\n        results.push(new DynamicSegment(match[1]));\n        names.push(match[1]);\n        specificity.val += '3';\n      } else if (match = segment.match(/^\\*([^\\/]+)$/)) {\n        results.push(new StarSegment(match[1]));\n        specificity.val += '2';\n        names.push(match[1]);\n      } else if (segment === \"\") {\n        results.push(new EpsilonSegment());\n        specificity.val += '1';\n      } else {\n        results.push(new StaticSegment(segment));\n        specificity.val += '4';\n      }\n    }\n\n    specificity.val = +specificity.val;\n\n    return results;\n  }\n\n  // A State has a character specification and (`charSpec`) and a list of possible\n  // subsequent states (`nextStates`).\n  //\n  // If a State is an accepting state, it will also have several additional\n  // properties:\n  //\n  // * `regex`: A regular expression that is used to extract parameters from paths\n  //   that reached this accepting state.\n  // * `handlers`: Information on how to convert the list of captures into calls\n  //   to registered handlers with the specified parameters\n  // * `types`: How many static, dynamic or star segments in this route. Used to\n  //   decide which route to use if multiple registered routes match a path.\n  //\n  // Currently, State is implemented naively by looping over `nextStates` and\n  // comparing a character specification against a character. A more efficient\n  // implementation would use a hash of keys pointing at one or more next states.\n\n  function State(charSpec) {\n    this.charSpec = charSpec;\n    this.nextStates = [];\n  }\n\n  State.prototype = {\n    get: function get(charSpec) {\n      var nextStates = this.nextStates;\n\n      for (var i = 0, l = nextStates.length; i < l; i++) {\n        var child = nextStates[i];\n\n        var isEqual = child.charSpec.validChars === charSpec.validChars;\n        isEqual = isEqual && child.charSpec.invalidChars === charSpec.invalidChars;\n\n        if (isEqual) {\n          return child;\n        }\n      }\n    },\n\n    put: function put(charSpec) {\n      var state;\n\n      // If the character specification already exists in a child of the current\n      // state, just return that state.\n      if (state = this.get(charSpec)) {\n        return state;\n      }\n\n      // Make a new state for the character spec\n      state = new State(charSpec);\n\n      // Insert the new state as a child of the current state\n      this.nextStates.push(state);\n\n      // If this character specification repeats, insert the new state as a child\n      // of itself. Note that this will not trigger an infinite loop because each\n      // transition during recognition consumes a character.\n      if (charSpec.repeat) {\n        state.nextStates.push(state);\n      }\n\n      // Return the new state\n      return state;\n    },\n\n    // Find a list of child states matching the next character\n    match: function match(ch) {\n      // DEBUG \"Processing `\" + ch + \"`:\"\n      var nextStates = this.nextStates,\n          child,\n          charSpec,\n          chars;\n\n      // DEBUG \"  \" + debugState(this)\n      var returned = [];\n\n      for (var i = 0, l = nextStates.length; i < l; i++) {\n        child = nextStates[i];\n\n        charSpec = child.charSpec;\n\n        if (typeof (chars = charSpec.validChars) !== 'undefined') {\n          if (chars.indexOf(ch) !== -1) {\n            returned.push(child);\n          }\n        } else if (typeof (chars = charSpec.invalidChars) !== 'undefined') {\n          if (chars.indexOf(ch) === -1) {\n            returned.push(child);\n          }\n        }\n      }\n\n      return returned;\n    }\n\n    /** IF DEBUG\n    , debug: function() {\n      var charSpec = this.charSpec,\n          debug = \"[\",\n          chars = charSpec.validChars || charSpec.invalidChars;\n       if (charSpec.invalidChars) { debug += \"^\"; }\n      debug += chars;\n      debug += \"]\";\n       if (charSpec.repeat) { debug += \"+\"; }\n       return debug;\n    }\n    END IF **/\n  };\n\n  /** IF DEBUG\n  function debug(log) {\n    console.log(log);\n  }\n\n  function debugState(state) {\n    return state.nextStates.map(function(n) {\n      if (n.nextStates.length === 0) { return \"( \" + n.debug() + \" [accepting] )\"; }\n      return \"( \" + n.debug() + \" <then> \" + n.nextStates.map(function(s) { return s.debug() }).join(\" or \") + \" )\";\n    }).join(\", \")\n  }\n  END IF **/\n\n  // Sort the routes by specificity\n  function sortSolutions(states) {\n    return states.sort(function (a, b) {\n      return b.specificity.val - a.specificity.val;\n    });\n  }\n\n  function recognizeChar(states, ch) {\n    var nextStates = [];\n\n    for (var i = 0, l = states.length; i < l; i++) {\n      var state = states[i];\n\n      nextStates = nextStates.concat(state.match(ch));\n    }\n\n    return nextStates;\n  }\n\n  var oCreate = Object.create || function (proto) {\n    function F() {}\n    F.prototype = proto;\n    return new F();\n  };\n\n  function RecognizeResults(queryParams) {\n    this.queryParams = queryParams || {};\n  }\n  RecognizeResults.prototype = oCreate({\n    splice: Array.prototype.splice,\n    slice: Array.prototype.slice,\n    push: Array.prototype.push,\n    length: 0,\n    queryParams: null\n  });\n\n  function findHandler(state, path, queryParams) {\n    var handlers = state.handlers,\n        regex = state.regex;\n    var captures = path.match(regex),\n        currentCapture = 1;\n    var result = new RecognizeResults(queryParams);\n\n    for (var i = 0, l = handlers.length; i < l; i++) {\n      var handler = handlers[i],\n          names = handler.names,\n          params = {};\n\n      for (var j = 0, m = names.length; j < m; j++) {\n        params[names[j]] = captures[currentCapture++];\n      }\n\n      result.push({ handler: handler.handler, params: params, isDynamic: !!names.length });\n    }\n\n    return result;\n  }\n\n  function addSegment(currentState, segment) {\n    segment.eachChar(function (ch) {\n      var state;\n\n      currentState = currentState.put(ch);\n    });\n\n    return currentState;\n  }\n\n  function decodeQueryParamPart(part) {\n    // http://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.1\n    part = part.replace(/\\+/gm, '%20');\n    return tryDecode(part, true);\n  }\n\n  // The main interface\n\n  var RouteRecognizer = function RouteRecognizer() {\n    this.rootState = new State();\n    this.names = {};\n  };\n\n  RouteRecognizer.prototype = {\n    add: function add(routes, options) {\n      var currentState = this.rootState,\n          regex = \"^\",\n          specificity = {},\n          handlers = [],\n          allSegments = [],\n          name;\n\n      var isEmpty = true;\n\n      for (var i = 0, l = routes.length; i < l; i++) {\n        var route = routes[i],\n            names = [];\n\n        var segments = parse(route.path, names, specificity);\n\n        allSegments = allSegments.concat(segments);\n\n        for (var j = 0, m = segments.length; j < m; j++) {\n          var segment = segments[j];\n\n          if (segment instanceof EpsilonSegment) {\n            continue;\n          }\n\n          isEmpty = false;\n\n          // Add a \"/\" for the new segment\n          currentState = currentState.put({ validChars: \"/\" });\n          regex += \"/\";\n\n          // Add a representation of the segment to the NFA and regex\n          currentState = addSegment(currentState, segment);\n          regex += segment.regex();\n        }\n\n        var handler = { handler: route.handler, names: names };\n        handlers.push(handler);\n      }\n\n      if (isEmpty) {\n        currentState = currentState.put({ validChars: \"/\" });\n        regex += \"/\";\n      }\n\n      currentState.handlers = handlers;\n      currentState.regex = new RegExp(regex + \"$\");\n      currentState.specificity = specificity;\n\n      if (name = options && options.as) {\n        this.names[name] = {\n          segments: allSegments,\n          handlers: handlers\n        };\n      }\n    },\n\n    handlersFor: function handlersFor(name) {\n      var route = this.names[name],\n          result = [];\n      if (!route) {\n        throw new Error(\"There is no route named \" + name);\n      }\n\n      for (var i = 0, l = route.handlers.length; i < l; i++) {\n        result.push(route.handlers[i]);\n      }\n\n      return result;\n    },\n\n    hasRoute: function hasRoute(name) {\n      return !!this.names[name];\n    },\n\n    generate: function generate(name, params) {\n      var route = this.names[name],\n          output = \"\";\n      if (!route) {\n        throw new Error(\"There is no route named \" + name);\n      }\n\n      var segments = route.segments;\n\n      for (var i = 0, l = segments.length; i < l; i++) {\n        var segment = segments[i];\n\n        if (segment instanceof EpsilonSegment) {\n          continue;\n        }\n\n        output += \"/\";\n        output += segment.generate(params);\n      }\n\n      if (output.charAt(0) !== '/') {\n        output = '/' + output;\n      }\n\n      if (params && params.queryParams) {\n        output += this.generateQueryString(params.queryParams);\n      }\n\n      return output;\n    },\n\n    generateQueryString: function generateQueryString(params) {\n      var pairs = [];\n      var keys = [];\n      for (var key in params) {\n        if (params.hasOwnProperty(key)) {\n          keys.push(key);\n        }\n      }\n      keys.sort();\n      for (var i = 0, len = keys.length; i < len; i++) {\n        key = keys[i];\n        var value = params[key];\n        if (value == null) {\n          continue;\n        }\n        var pair = encodeURIComponent(key);\n        if (isArray(value)) {\n          for (var j = 0, l = value.length; j < l; j++) {\n            var arrayPair = key + '[]' + '=' + encodeURIComponent(value[j]);\n            pairs.push(arrayPair);\n          }\n        } else {\n          pair += \"=\" + encodeURIComponent(value);\n          pairs.push(pair);\n        }\n      }\n\n      if (pairs.length === 0) {\n        return '';\n      }\n\n      return \"?\" + pairs.join(\"&\");\n    },\n\n    parseQueryString: function parseQueryString(queryString) {\n      var pairs = queryString.split(\"&\"),\n          queryParams = {};\n      for (var i = 0; i < pairs.length; i++) {\n        var pair = pairs[i].split('='),\n            key = decodeQueryParamPart(pair[0]),\n            keyLength = key.length,\n            isArray = false,\n            value;\n        if (pair.length === 1) {\n          value = 'true';\n        } else {\n          //Handle arrays\n          if (keyLength > 2 && key.slice(keyLength - 2) === '[]') {\n            isArray = true;\n            key = key.slice(0, keyLength - 2);\n            if (!queryParams[key]) {\n              queryParams[key] = [];\n            }\n          }\n          value = pair[1] ? decodeQueryParamPart(pair[1]) : '';\n        }\n        if (isArray) {\n          queryParams[key].push(value);\n        } else {\n          queryParams[key] = value;\n        }\n      }\n      return queryParams;\n    },\n\n    recognize: function recognize(path, silent) {\n      noWarning = silent;\n      var states = [this.rootState],\n          pathLen,\n          i,\n          l,\n          queryStart,\n          queryParams = {},\n          isSlashDropped = false;\n\n      queryStart = path.indexOf('?');\n      if (queryStart !== -1) {\n        var queryString = path.substr(queryStart + 1, path.length);\n        path = path.substr(0, queryStart);\n        if (queryString) {\n          queryParams = this.parseQueryString(queryString);\n        }\n      }\n\n      path = tryDecode(path);\n      if (!path) return;\n\n      // DEBUG GROUP path\n\n      if (path.charAt(0) !== \"/\") {\n        path = \"/\" + path;\n      }\n\n      pathLen = path.length;\n      if (pathLen > 1 && path.charAt(pathLen - 1) === \"/\") {\n        path = path.substr(0, pathLen - 1);\n        isSlashDropped = true;\n      }\n\n      for (i = 0, l = path.length; i < l; i++) {\n        states = recognizeChar(states, path.charAt(i));\n        if (!states.length) {\n          break;\n        }\n      }\n\n      // END DEBUG GROUP\n\n      var solutions = [];\n      for (i = 0, l = states.length; i < l; i++) {\n        if (states[i].handlers) {\n          solutions.push(states[i]);\n        }\n      }\n\n      states = sortSolutions(solutions);\n\n      var state = solutions[0];\n\n      if (state && state.handlers) {\n        // if a trailing slash was dropped and a star segment is the last segment\n        // specified, put the trailing slash back\n        if (isSlashDropped && state.regex.source.slice(-5) === \"(.+)$\") {\n          path = path + \"/\";\n        }\n        return findHandler(state, path, queryParams);\n      }\n    }\n  };\n\n  RouteRecognizer.prototype.map = map;\n\n  var genQuery = RouteRecognizer.prototype.generateQueryString;\n\n  // export default for holding the Vue reference\n  var exports$1 = {};\n  /**\n   * Warn stuff.\n   *\n   * @param {String} msg\n   */\n\n  function warn$1(msg) {\n    /* istanbul ignore next */\n    if (typeof console !== 'undefined') {\n      console.error('[vue-router] ' + msg);\n    }\n  }\n\n  /**\n   * Resolve a relative path.\n   *\n   * @param {String} base\n   * @param {String} relative\n   * @param {Boolean} append\n   * @return {String}\n   */\n\n  function resolvePath(base, relative, append) {\n    var query = base.match(/(\\?.*)$/);\n    if (query) {\n      query = query[1];\n      base = base.slice(0, -query.length);\n    }\n    // a query!\n    if (relative.charAt(0) === '?') {\n      return base + relative;\n    }\n    var stack = base.split('/');\n    // remove trailing segment if:\n    // - not appending\n    // - appending to trailing slash (last segment is empty)\n    if (!append || !stack[stack.length - 1]) {\n      stack.pop();\n    }\n    // resolve relative path\n    var segments = relative.replace(/^\\//, '').split('/');\n    for (var i = 0; i < segments.length; i++) {\n      var segment = segments[i];\n      if (segment === '.') {\n        continue;\n      } else if (segment === '..') {\n        stack.pop();\n      } else {\n        stack.push(segment);\n      }\n    }\n    // ensure leading slash\n    if (stack[0] !== '') {\n      stack.unshift('');\n    }\n    return stack.join('/');\n  }\n\n  /**\n   * Forgiving check for a promise\n   *\n   * @param {Object} p\n   * @return {Boolean}\n   */\n\n  function isPromise(p) {\n    return p && typeof p.then === 'function';\n  }\n\n  /**\n   * Retrive a route config field from a component instance\n   * OR a component contructor.\n   *\n   * @param {Function|Vue} component\n   * @param {String} name\n   * @return {*}\n   */\n\n  function getRouteConfig(component, name) {\n    var options = component && (component.$options || component.options);\n    return options && options.route && options.route[name];\n  }\n\n  /**\n   * Resolve an async component factory. Have to do a dirty\n   * mock here because of Vue core's internal API depends on\n   * an ID check.\n   *\n   * @param {Object} handler\n   * @param {Function} cb\n   */\n\n  var resolver = undefined;\n\n  function resolveAsyncComponent(handler, cb) {\n    if (!resolver) {\n      resolver = {\n        resolve: exports$1.Vue.prototype._resolveComponent,\n        $options: {\n          components: {\n            _: handler.component\n          }\n        }\n      };\n    } else {\n      resolver.$options.components._ = handler.component;\n    }\n    resolver.resolve('_', function (Component) {\n      handler.component = Component;\n      cb(Component);\n    });\n  }\n\n  /**\n   * Map the dynamic segments in a path to params.\n   *\n   * @param {String} path\n   * @param {Object} params\n   * @param {Object} query\n   */\n\n  function mapParams(path, params, query) {\n    if (params === undefined) params = {};\n\n    path = path.replace(/:([^\\/]+)/g, function (_, key) {\n      var val = params[key];\n      /* istanbul ignore if */\n      if (!val) {\n        warn$1('param \"' + key + '\" not found when generating ' + 'path for \"' + path + '\" with params ' + JSON.stringify(params));\n      }\n      return val || '';\n    });\n    if (query) {\n      path += genQuery(query);\n    }\n    return path;\n  }\n\n  var hashRE = /#.*$/;\n\n  var HTML5History = (function () {\n    function HTML5History(_ref) {\n      var root = _ref.root;\n      var onChange = _ref.onChange;\n      babelHelpers.classCallCheck(this, HTML5History);\n\n      if (root && root !== '/') {\n        // make sure there's the starting slash\n        if (root.charAt(0) !== '/') {\n          root = '/' + root;\n        }\n        // remove trailing slash\n        this.root = root.replace(/\\/$/, '');\n        this.rootRE = new RegExp('^\\\\' + this.root);\n      } else {\n        this.root = null;\n      }\n      this.onChange = onChange;\n      // check base tag\n      var baseEl = document.querySelector('base');\n      this.base = baseEl && baseEl.getAttribute('href');\n    }\n\n    HTML5History.prototype.start = function start() {\n      var _this = this;\n\n      this.listener = function (e) {\n        var url = location.pathname + location.search;\n        if (_this.root) {\n          url = url.replace(_this.rootRE, '');\n        }\n        _this.onChange(url, e && e.state, location.hash);\n      };\n      window.addEventListener('popstate', this.listener);\n      this.listener();\n    };\n\n    HTML5History.prototype.stop = function stop() {\n      window.removeEventListener('popstate', this.listener);\n    };\n\n    HTML5History.prototype.go = function go(path, replace, append) {\n      var url = this.formatPath(path, append);\n      if (replace) {\n        history.replaceState({}, '', url);\n      } else {\n        // record scroll position by replacing current state\n        history.replaceState({\n          pos: {\n            x: window.pageXOffset,\n            y: window.pageYOffset\n          }\n        }, '', location.href);\n        // then push new state\n        history.pushState({}, '', url);\n      }\n      var hashMatch = path.match(hashRE);\n      var hash = hashMatch && hashMatch[0];\n      path = url\n      // strip hash so it doesn't mess up params\n      .replace(hashRE, '')\n      // remove root before matching\n      .replace(this.rootRE, '');\n      this.onChange(path, null, hash);\n    };\n\n    HTML5History.prototype.formatPath = function formatPath(path, append) {\n      return path.charAt(0) === '/'\n      // absolute path\n      ? this.root ? this.root + '/' + path.replace(/^\\//, '') : path : resolvePath(this.base || location.pathname, path, append);\n    };\n\n    return HTML5History;\n  })();\n\n  var HashHistory = (function () {\n    function HashHistory(_ref) {\n      var hashbang = _ref.hashbang;\n      var onChange = _ref.onChange;\n      babelHelpers.classCallCheck(this, HashHistory);\n\n      this.hashbang = hashbang;\n      this.onChange = onChange;\n    }\n\n    HashHistory.prototype.start = function start() {\n      var self = this;\n      this.listener = function () {\n        var path = location.hash;\n        var raw = path.replace(/^#!?/, '');\n        // always\n        if (raw.charAt(0) !== '/') {\n          raw = '/' + raw;\n        }\n        var formattedPath = self.formatPath(raw);\n        if (formattedPath !== path) {\n          location.replace(formattedPath);\n          return;\n        }\n        // determine query\n        // note it's possible to have queries in both the actual URL\n        // and the hash fragment itself.\n        var query = location.search && path.indexOf('?') > -1 ? '&' + location.search.slice(1) : location.search;\n        self.onChange(path.replace(/^#!?/, '') + query);\n      };\n      window.addEventListener('hashchange', this.listener);\n      this.listener();\n    };\n\n    HashHistory.prototype.stop = function stop() {\n      window.removeEventListener('hashchange', this.listener);\n    };\n\n    HashHistory.prototype.go = function go(path, replace, append) {\n      path = this.formatPath(path, append);\n      if (replace) {\n        location.replace(path);\n      } else {\n        location.hash = path;\n      }\n    };\n\n    HashHistory.prototype.formatPath = function formatPath(path, append) {\n      var isAbsoloute = path.charAt(0) === '/';\n      var prefix = '#' + (this.hashbang ? '!' : '');\n      return isAbsoloute ? prefix + path : prefix + resolvePath(location.hash.replace(/^#!?/, ''), path, append);\n    };\n\n    return HashHistory;\n  })();\n\n  var AbstractHistory = (function () {\n    function AbstractHistory(_ref) {\n      var onChange = _ref.onChange;\n      babelHelpers.classCallCheck(this, AbstractHistory);\n\n      this.onChange = onChange;\n      this.currentPath = '/';\n    }\n\n    AbstractHistory.prototype.start = function start() {\n      this.onChange('/');\n    };\n\n    AbstractHistory.prototype.stop = function stop() {\n      // noop\n    };\n\n    AbstractHistory.prototype.go = function go(path, replace, append) {\n      path = this.currentPath = this.formatPath(path, append);\n      this.onChange(path);\n    };\n\n    AbstractHistory.prototype.formatPath = function formatPath(path, append) {\n      return path.charAt(0) === '/' ? path : resolvePath(this.currentPath, path, append);\n    };\n\n    return AbstractHistory;\n  })();\n\n  /**\n   * Determine the reusability of an existing router view.\n   *\n   * @param {Directive} view\n   * @param {Object} handler\n   * @param {Transition} transition\n   */\n\n  function canReuse(view, handler, transition) {\n    var component = view.childVM;\n    if (!component || !handler) {\n      return false;\n    }\n    // important: check view.Component here because it may\n    // have been changed in activate hook\n    if (view.Component !== handler.component) {\n      return false;\n    }\n    var canReuseFn = getRouteConfig(component, 'canReuse');\n    return typeof canReuseFn === 'boolean' ? canReuseFn : canReuseFn ? canReuseFn.call(component, {\n      to: transition.to,\n      from: transition.from\n    }) : true; // defaults to true\n  }\n\n  /**\n   * Check if a component can deactivate.\n   *\n   * @param {Directive} view\n   * @param {Transition} transition\n   * @param {Function} next\n   */\n\n  function canDeactivate(view, transition, next) {\n    var fromComponent = view.childVM;\n    var hook = getRouteConfig(fromComponent, 'canDeactivate');\n    if (!hook) {\n      next();\n    } else {\n      transition.callHook(hook, fromComponent, next, {\n        expectBoolean: true\n      });\n    }\n  }\n\n  /**\n   * Check if a component can activate.\n   *\n   * @param {Object} handler\n   * @param {Transition} transition\n   * @param {Function} next\n   */\n\n  function canActivate(handler, transition, next) {\n    resolveAsyncComponent(handler, function (Component) {\n      // have to check due to async-ness\n      if (transition.aborted) {\n        return;\n      }\n      // determine if this component can be activated\n      var hook = getRouteConfig(Component, 'canActivate');\n      if (!hook) {\n        next();\n      } else {\n        transition.callHook(hook, null, next, {\n          expectBoolean: true\n        });\n      }\n    });\n  }\n\n  /**\n   * Call deactivate hooks for existing router-views.\n   *\n   * @param {Directive} view\n   * @param {Transition} transition\n   * @param {Function} next\n   */\n\n  function deactivate(view, transition, next) {\n    var component = view.childVM;\n    var hook = getRouteConfig(component, 'deactivate');\n    if (!hook) {\n      next();\n    } else {\n      transition.callHooks(hook, component, next);\n    }\n  }\n\n  /**\n   * Activate / switch component for a router-view.\n   *\n   * @param {Directive} view\n   * @param {Transition} transition\n   * @param {Number} depth\n   * @param {Function} [cb]\n   */\n\n  function activate(view, transition, depth, cb, reuse) {\n    var handler = transition.activateQueue[depth];\n    if (!handler) {\n      saveChildView(view);\n      if (view._bound) {\n        view.setComponent(null);\n      }\n      cb && cb();\n      return;\n    }\n\n    var Component = view.Component = handler.component;\n    var activateHook = getRouteConfig(Component, 'activate');\n    var dataHook = getRouteConfig(Component, 'data');\n    var waitForData = getRouteConfig(Component, 'waitForData');\n\n    view.depth = depth;\n    view.activated = false;\n\n    var component = undefined;\n    var loading = !!(dataHook && !waitForData);\n\n    // \"reuse\" is a flag passed down when the parent view is\n    // either reused via keep-alive or as a child of a kept-alive view.\n    // of course we can only reuse if the current kept-alive instance\n    // is of the correct type.\n    reuse = reuse && view.childVM && view.childVM.constructor === Component;\n\n    if (reuse) {\n      // just reuse\n      component = view.childVM;\n      component.$loadingRouteData = loading;\n    } else {\n      saveChildView(view);\n\n      // unbuild current component. this step also destroys\n      // and removes all nested child views.\n      view.unbuild(true);\n\n      // build the new component. this will also create the\n      // direct child view of the current one. it will register\n      // itself as view.childView.\n      component = view.build({\n        _meta: {\n          $loadingRouteData: loading\n        },\n        created: function created() {\n          this._routerView = view;\n        }\n      });\n\n      // handle keep-alive.\n      // when a kept-alive child vm is restored, we need to\n      // add its cached child views into the router's view list,\n      // and also properly update current view's child view.\n      if (view.keepAlive) {\n        component.$loadingRouteData = loading;\n        var cachedChildView = component._keepAliveRouterView;\n        if (cachedChildView) {\n          view.childView = cachedChildView;\n          component._keepAliveRouterView = null;\n        }\n      }\n    }\n\n    // cleanup the component in case the transition is aborted\n    // before the component is ever inserted.\n    var cleanup = function cleanup() {\n      component.$destroy();\n    };\n\n    // actually insert the component and trigger transition\n    var insert = function insert() {\n      if (reuse) {\n        cb && cb();\n        return;\n      }\n      var router = transition.router;\n      if (router._rendered || router._transitionOnLoad) {\n        view.transition(component);\n      } else {\n        // no transition on first render, manual transition\n        /* istanbul ignore if */\n        if (view.setCurrent) {\n          // 0.12 compat\n          view.setCurrent(component);\n        } else {\n          // 1.0\n          view.childVM = component;\n        }\n        component.$before(view.anchor, null, false);\n      }\n      cb && cb();\n    };\n\n    var afterData = function afterData() {\n      // activate the child view\n      if (view.childView) {\n        activate(view.childView, transition, depth + 1, null, reuse || view.keepAlive);\n      }\n      insert();\n    };\n\n    // called after activation hook is resolved\n    var afterActivate = function afterActivate() {\n      view.activated = true;\n      if (dataHook && waitForData) {\n        // wait until data loaded to insert\n        loadData(component, transition, dataHook, afterData, cleanup);\n      } else {\n        // load data and insert at the same time\n        if (dataHook) {\n          loadData(component, transition, dataHook);\n        }\n        afterData();\n      }\n    };\n\n    if (activateHook) {\n      transition.callHooks(activateHook, component, afterActivate, {\n        cleanup: cleanup,\n        postActivate: true\n      });\n    } else {\n      afterActivate();\n    }\n  }\n\n  /**\n   * Reuse a view, just reload data if necessary.\n   *\n   * @param {Directive} view\n   * @param {Transition} transition\n   */\n\n  function reuse(view, transition) {\n    var component = view.childVM;\n    var dataHook = getRouteConfig(component, 'data');\n    if (dataHook) {\n      loadData(component, transition, dataHook);\n    }\n  }\n\n  /**\n   * Asynchronously load and apply data to component.\n   *\n   * @param {Vue} component\n   * @param {Transition} transition\n   * @param {Function} hook\n   * @param {Function} cb\n   * @param {Function} cleanup\n   */\n\n  function loadData(component, transition, hook, cb, cleanup) {\n    component.$loadingRouteData = true;\n    transition.callHooks(hook, component, function () {\n      component.$loadingRouteData = false;\n      component.$emit('route-data-loaded', component);\n      cb && cb();\n    }, {\n      cleanup: cleanup,\n      postActivate: true,\n      processData: function processData(data) {\n        // handle promise sugar syntax\n        var promises = [];\n        if (isPlainObject(data)) {\n          Object.keys(data).forEach(function (key) {\n            var val = data[key];\n            if (isPromise(val)) {\n              promises.push(val.then(function (resolvedVal) {\n                component.$set(key, resolvedVal);\n              }));\n            } else {\n              component.$set(key, val);\n            }\n          });\n        }\n        if (promises.length) {\n          return promises[0].constructor.all(promises);\n        }\n      }\n    });\n  }\n\n  /**\n   * Save the child view for a kept-alive view so that\n   * we can restore it when it is switched back to.\n   *\n   * @param {Directive} view\n   */\n\n  function saveChildView(view) {\n    if (view.keepAlive && view.childVM && view.childView) {\n      view.childVM._keepAliveRouterView = view.childView;\n    }\n    view.childView = null;\n  }\n\n  /**\n   * Check plain object.\n   *\n   * @param {*} val\n   */\n\n  function isPlainObject(val) {\n    return Object.prototype.toString.call(val) === '[object Object]';\n  }\n\n  /**\n   * A RouteTransition object manages the pipeline of a\n   * router-view switching process. This is also the object\n   * passed into user route hooks.\n   *\n   * @param {Router} router\n   * @param {Route} to\n   * @param {Route} from\n   */\n\n  var RouteTransition = (function () {\n    function RouteTransition(router, to, from) {\n      babelHelpers.classCallCheck(this, RouteTransition);\n\n      this.router = router;\n      this.to = to;\n      this.from = from;\n      this.next = null;\n      this.aborted = false;\n      this.done = false;\n    }\n\n    /**\n     * Abort current transition and return to previous location.\n     */\n\n    RouteTransition.prototype.abort = function abort() {\n      if (!this.aborted) {\n        this.aborted = true;\n        // if the root path throws an error during validation\n        // on initial load, it gets caught in an infinite loop.\n        var abortingOnLoad = !this.from.path && this.to.path === '/';\n        if (!abortingOnLoad) {\n          this.router.replace(this.from.path || '/');\n        }\n      }\n    };\n\n    /**\n     * Abort current transition and redirect to a new location.\n     *\n     * @param {String} path\n     */\n\n    RouteTransition.prototype.redirect = function redirect(path) {\n      if (!this.aborted) {\n        this.aborted = true;\n        if (typeof path === 'string') {\n          path = mapParams(path, this.to.params, this.to.query);\n        } else {\n          path.params = path.params || this.to.params;\n          path.query = path.query || this.to.query;\n        }\n        this.router.replace(path);\n      }\n    };\n\n    /**\n     * A router view transition's pipeline can be described as\n     * follows, assuming we are transitioning from an existing\n     * <router-view> chain [Component A, Component B] to a new\n     * chain [Component A, Component C]:\n     *\n     *  A    A\n     *  | => |\n     *  B    C\n     *\n     * 1. Reusablity phase:\n     *   -> canReuse(A, A)\n     *   -> canReuse(B, C)\n     *   -> determine new queues:\n     *      - deactivation: [B]\n     *      - activation: [C]\n     *\n     * 2. Validation phase:\n     *   -> canDeactivate(B)\n     *   -> canActivate(C)\n     *\n     * 3. Activation phase:\n     *   -> deactivate(B)\n     *   -> activate(C)\n     *\n     * Each of these steps can be asynchronous, and any\n     * step can potentially abort the transition.\n     *\n     * @param {Function} cb\n     */\n\n    RouteTransition.prototype.start = function start(cb) {\n      var transition = this;\n\n      // determine the queue of views to deactivate\n      var deactivateQueue = [];\n      var view = this.router._rootView;\n      while (view) {\n        deactivateQueue.unshift(view);\n        view = view.childView;\n      }\n      var reverseDeactivateQueue = deactivateQueue.slice().reverse();\n\n      // determine the queue of route handlers to activate\n      var activateQueue = this.activateQueue = toArray(this.to.matched).map(function (match) {\n        return match.handler;\n      });\n\n      // 1. Reusability phase\n      var i = undefined,\n          reuseQueue = undefined;\n      for (i = 0; i < reverseDeactivateQueue.length; i++) {\n        if (!canReuse(reverseDeactivateQueue[i], activateQueue[i], transition)) {\n          break;\n        }\n      }\n      if (i > 0) {\n        reuseQueue = reverseDeactivateQueue.slice(0, i);\n        deactivateQueue = reverseDeactivateQueue.slice(i).reverse();\n        activateQueue = activateQueue.slice(i);\n      }\n\n      // 2. Validation phase\n      transition.runQueue(deactivateQueue, canDeactivate, function () {\n        transition.runQueue(activateQueue, canActivate, function () {\n          transition.runQueue(deactivateQueue, deactivate, function () {\n            // 3. Activation phase\n\n            // Update router current route\n            transition.router._onTransitionValidated(transition);\n\n            // trigger reuse for all reused views\n            reuseQueue && reuseQueue.forEach(function (view) {\n              return reuse(view, transition);\n            });\n\n            // the root of the chain that needs to be replaced\n            // is the top-most non-reusable view.\n            if (deactivateQueue.length) {\n              var _view = deactivateQueue[deactivateQueue.length - 1];\n              var depth = reuseQueue ? reuseQueue.length : 0;\n              activate(_view, transition, depth, cb);\n            } else {\n              cb();\n            }\n          });\n        });\n      });\n    };\n\n    /**\n     * Asynchronously and sequentially apply a function to a\n     * queue.\n     *\n     * @param {Array} queue\n     * @param {Function} fn\n     * @param {Function} cb\n     */\n\n    RouteTransition.prototype.runQueue = function runQueue(queue, fn, cb) {\n      var transition = this;\n      step(0);\n      function step(index) {\n        if (index >= queue.length) {\n          cb();\n        } else {\n          fn(queue[index], transition, function () {\n            step(index + 1);\n          });\n        }\n      }\n    };\n\n    /**\n     * Call a user provided route transition hook and handle\n     * the response (e.g. if the user returns a promise).\n     *\n     * If the user neither expects an argument nor returns a\n     * promise, the hook is assumed to be synchronous.\n     *\n     * @param {Function} hook\n     * @param {*} [context]\n     * @param {Function} [cb]\n     * @param {Object} [options]\n     *                 - {Boolean} expectBoolean\n     *                 - {Boolean} postActive\n     *                 - {Function} processData\n     *                 - {Function} cleanup\n     */\n\n    RouteTransition.prototype.callHook = function callHook(hook, context, cb) {\n      var _ref = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n      var _ref$expectBoolean = _ref.expectBoolean;\n      var expectBoolean = _ref$expectBoolean === undefined ? false : _ref$expectBoolean;\n      var _ref$postActivate = _ref.postActivate;\n      var postActivate = _ref$postActivate === undefined ? false : _ref$postActivate;\n      var processData = _ref.processData;\n      var cleanup = _ref.cleanup;\n\n      var transition = this;\n      var nextCalled = false;\n\n      // abort the transition\n      var abort = function abort() {\n        cleanup && cleanup();\n        transition.abort();\n      };\n\n      // handle errors\n      var onError = function onError(err) {\n        postActivate ? next() : abort();\n        if (err && !transition.router._suppress) {\n          warn$1('Uncaught error during transition: ');\n          throw err instanceof Error ? err : new Error(err);\n        }\n      };\n\n      // since promise swallows errors, we have to\n      // throw it in the next tick...\n      var onPromiseError = function onPromiseError(err) {\n        try {\n          onError(err);\n        } catch (e) {\n          setTimeout(function () {\n            throw e;\n          }, 0);\n        }\n      };\n\n      // advance the transition to the next step\n      var next = function next() {\n        if (nextCalled) {\n          warn$1('transition.next() should be called only once.');\n          return;\n        }\n        nextCalled = true;\n        if (transition.aborted) {\n          cleanup && cleanup();\n          return;\n        }\n        cb && cb();\n      };\n\n      var nextWithBoolean = function nextWithBoolean(res) {\n        if (typeof res === 'boolean') {\n          res ? next() : abort();\n        } else if (isPromise(res)) {\n          res.then(function (ok) {\n            ok ? next() : abort();\n          }, onPromiseError);\n        } else if (!hook.length) {\n          next();\n        }\n      };\n\n      var nextWithData = function nextWithData(data) {\n        var res = undefined;\n        try {\n          res = processData(data);\n        } catch (err) {\n          return onError(err);\n        }\n        if (isPromise(res)) {\n          res.then(next, onPromiseError);\n        } else {\n          next();\n        }\n      };\n\n      // expose a clone of the transition object, so that each\n      // hook gets a clean copy and prevent the user from\n      // messing with the internals.\n      var exposed = {\n        to: transition.to,\n        from: transition.from,\n        abort: abort,\n        next: processData ? nextWithData : next,\n        redirect: function redirect() {\n          transition.redirect.apply(transition, arguments);\n        }\n      };\n\n      // actually call the hook\n      var res = undefined;\n      try {\n        res = hook.call(context, exposed);\n      } catch (err) {\n        return onError(err);\n      }\n\n      if (expectBoolean) {\n        // boolean hooks\n        nextWithBoolean(res);\n      } else if (isPromise(res)) {\n        // promise\n        if (processData) {\n          res.then(nextWithData, onPromiseError);\n        } else {\n          res.then(next, onPromiseError);\n        }\n      } else if (processData && isPlainOjbect(res)) {\n        // data promise sugar\n        nextWithData(res);\n      } else if (!hook.length) {\n        next();\n      }\n    };\n\n    /**\n     * Call a single hook or an array of async hooks in series.\n     *\n     * @param {Array} hooks\n     * @param {*} context\n     * @param {Function} cb\n     * @param {Object} [options]\n     */\n\n    RouteTransition.prototype.callHooks = function callHooks(hooks, context, cb, options) {\n      var _this = this;\n\n      if (Array.isArray(hooks)) {\n        this.runQueue(hooks, function (hook, _, next) {\n          if (!_this.aborted) {\n            _this.callHook(hook, context, next, options);\n          }\n        }, cb);\n      } else {\n        this.callHook(hooks, context, cb, options);\n      }\n    };\n\n    return RouteTransition;\n  })();\n\n  function isPlainOjbect(val) {\n    return Object.prototype.toString.call(val) === '[object Object]';\n  }\n\n  function toArray(val) {\n    return val ? Array.prototype.slice.call(val) : [];\n  }\n\n  var internalKeysRE = /^(component|subRoutes|fullPath)$/;\n\n  /**\n   * Route Context Object\n   *\n   * @param {String} path\n   * @param {Router} router\n   */\n\n  var Route = function Route(path, router) {\n    var _this = this;\n\n    babelHelpers.classCallCheck(this, Route);\n\n    var matched = router._recognizer.recognize(path);\n    if (matched) {\n      // copy all custom fields from route configs\n      [].forEach.call(matched, function (match) {\n        for (var key in match.handler) {\n          if (!internalKeysRE.test(key)) {\n            _this[key] = match.handler[key];\n          }\n        }\n      });\n      // set query and params\n      this.query = matched.queryParams;\n      this.params = [].reduce.call(matched, function (prev, cur) {\n        if (cur.params) {\n          for (var key in cur.params) {\n            prev[key] = cur.params[key];\n          }\n        }\n        return prev;\n      }, {});\n    }\n    // expose path and router\n    this.path = path;\n    // for internal use\n    this.matched = matched || router._notFoundHandler;\n    // internal reference to router\n    Object.defineProperty(this, 'router', {\n      enumerable: false,\n      value: router\n    });\n    // Important: freeze self to prevent observation\n    Object.freeze(this);\n  };\n\n  function applyOverride (Vue) {\n    var _Vue$util = Vue.util;\n    var extend = _Vue$util.extend;\n    var isArray = _Vue$util.isArray;\n    var defineReactive = _Vue$util.defineReactive;\n\n    // override Vue's init and destroy process to keep track of router instances\n    var init = Vue.prototype._init;\n    Vue.prototype._init = function (options) {\n      options = options || {};\n      var root = options._parent || options.parent || this;\n      var router = root.$router;\n      var route = root.$route;\n      if (router) {\n        // expose router\n        this.$router = router;\n        router._children.push(this);\n        /* istanbul ignore if */\n        if (this._defineMeta) {\n          // 0.12\n          this._defineMeta('$route', route);\n        } else {\n          // 1.0\n          defineReactive(this, '$route', route);\n        }\n      }\n      init.call(this, options);\n    };\n\n    var destroy = Vue.prototype._destroy;\n    Vue.prototype._destroy = function () {\n      if (!this._isBeingDestroyed && this.$router) {\n        this.$router._children.$remove(this);\n      }\n      destroy.apply(this, arguments);\n    };\n\n    // 1.0 only: enable route mixins\n    var strats = Vue.config.optionMergeStrategies;\n    var hooksToMergeRE = /^(data|activate|deactivate)$/;\n\n    if (strats) {\n      strats.route = function (parentVal, childVal) {\n        if (!childVal) return parentVal;\n        if (!parentVal) return childVal;\n        var ret = {};\n        extend(ret, parentVal);\n        for (var key in childVal) {\n          var a = ret[key];\n          var b = childVal[key];\n          // for data, activate and deactivate, we need to merge them into\n          // arrays similar to lifecycle hooks.\n          if (a && hooksToMergeRE.test(key)) {\n            ret[key] = (isArray(a) ? a : [a]).concat(b);\n          } else {\n            ret[key] = b;\n          }\n        }\n        return ret;\n      };\n    }\n  }\n\n  function View (Vue) {\n\n    var _ = Vue.util;\n    var componentDef =\n    // 0.12\n    Vue.directive('_component') ||\n    // 1.0\n    Vue.internalDirectives.component;\n    // <router-view> extends the internal component directive\n    var viewDef = _.extend({}, componentDef);\n\n    // with some overrides\n    _.extend(viewDef, {\n\n      _isRouterView: true,\n\n      bind: function bind() {\n        var route = this.vm.$route;\n        /* istanbul ignore if */\n        if (!route) {\n          warn$1('<router-view> can only be used inside a ' + 'router-enabled app.');\n          return;\n        }\n        // force dynamic directive so v-component doesn't\n        // attempt to build right now\n        this._isDynamicLiteral = true;\n        // finally, init by delegating to v-component\n        componentDef.bind.call(this);\n\n        // locate the parent view\n        var parentView = undefined;\n        var parent = this.vm;\n        while (parent) {\n          if (parent._routerView) {\n            parentView = parent._routerView;\n            break;\n          }\n          parent = parent.$parent;\n        }\n        if (parentView) {\n          // register self as a child of the parent view,\n          // instead of activating now. This is so that the\n          // child's activate hook is called after the\n          // parent's has resolved.\n          this.parentView = parentView;\n          parentView.childView = this;\n        } else {\n          // this is the root view!\n          var router = route.router;\n          router._rootView = this;\n        }\n\n        // handle late-rendered view\n        // two possibilities:\n        // 1. root view rendered after transition has been\n        //    validated;\n        // 2. child view rendered after parent view has been\n        //    activated.\n        var transition = route.router._currentTransition;\n        if (!parentView && transition.done || parentView && parentView.activated) {\n          var depth = parentView ? parentView.depth + 1 : 0;\n          activate(this, transition, depth);\n        }\n      },\n\n      unbind: function unbind() {\n        if (this.parentView) {\n          this.parentView.childView = null;\n        }\n        componentDef.unbind.call(this);\n      }\n    });\n\n    Vue.elementDirective('router-view', viewDef);\n  }\n\n  var trailingSlashRE = /\\/$/;\n  var regexEscapeRE = /[-.*+?^${}()|[\\]\\/\\\\]/g;\n  var queryStringRE = /\\?.*$/;\n\n  // install v-link, which provides navigation support for\n  // HTML5 history mode\n  function Link (Vue) {\n    var _Vue$util = Vue.util;\n    var _bind = _Vue$util.bind;\n    var isObject = _Vue$util.isObject;\n    var addClass = _Vue$util.addClass;\n    var removeClass = _Vue$util.removeClass;\n\n    var onPriority = Vue.directive('on').priority;\n    var LINK_UPDATE = '__vue-router-link-update__';\n\n    var activeId = 0;\n\n    Vue.directive('link-active', {\n      priority: 9999,\n      bind: function bind() {\n        var _this = this;\n\n        var id = String(activeId++);\n        // collect v-links contained within this element.\n        // we need do this here before the parent-child relationship\n        // gets messed up by terminal directives (if, for, components)\n        var childLinks = this.el.querySelectorAll('[v-link]');\n        for (var i = 0, l = childLinks.length; i < l; i++) {\n          var link = childLinks[i];\n          var existingId = link.getAttribute(LINK_UPDATE);\n          var value = existingId ? existingId + ',' + id : id;\n          // leave a mark on the link element which can be persisted\n          // through fragment clones.\n          link.setAttribute(LINK_UPDATE, value);\n        }\n        this.vm.$on(LINK_UPDATE, this.cb = function (link, path) {\n          if (link.activeIds.indexOf(id) > -1) {\n            link.updateClasses(path, _this.el);\n          }\n        });\n      },\n      unbind: function unbind() {\n        this.vm.$off(LINK_UPDATE, this.cb);\n      }\n    });\n\n    Vue.directive('link', {\n      priority: onPriority - 2,\n\n      bind: function bind() {\n        var vm = this.vm;\n        /* istanbul ignore if */\n        if (!vm.$route) {\n          warn$1('v-link can only be used inside a router-enabled app.');\n          return;\n        }\n        this.router = vm.$route.router;\n        // update things when the route changes\n        this.unwatch = vm.$watch('$route', _bind(this.onRouteUpdate, this));\n        // check v-link-active ids\n        var activeIds = this.el.getAttribute(LINK_UPDATE);\n        if (activeIds) {\n          this.el.removeAttribute(LINK_UPDATE);\n          this.activeIds = activeIds.split(',');\n        }\n        // no need to handle click if link expects to be opened\n        // in a new window/tab.\n        /* istanbul ignore if */\n        if (this.el.tagName === 'A' && this.el.getAttribute('target') === '_blank') {\n          return;\n        }\n        // handle click\n        this.handler = _bind(this.onClick, this);\n        this.el.addEventListener('click', this.handler);\n      },\n\n      update: function update(target) {\n        this.target = target;\n        if (isObject(target)) {\n          this.append = target.append;\n          this.exact = target.exact;\n          this.prevActiveClass = this.activeClass;\n          this.activeClass = target.activeClass;\n        }\n        this.onRouteUpdate(this.vm.$route);\n      },\n\n      onClick: function onClick(e) {\n        // don't redirect with control keys\n        /* istanbul ignore if */\n        if (e.metaKey || e.ctrlKey || e.shiftKey) return;\n        // don't redirect when preventDefault called\n        /* istanbul ignore if */\n        if (e.defaultPrevented) return;\n        // don't redirect on right click\n        /* istanbul ignore if */\n        if (e.button !== 0) return;\n\n        var target = this.target;\n        if (target) {\n          // v-link with expression, just go\n          e.preventDefault();\n          this.router.go(target);\n        } else {\n          // no expression, delegate for an <a> inside\n          var el = e.target;\n          while (el.tagName !== 'A' && el !== this.el) {\n            el = el.parentNode;\n          }\n          if (el.tagName === 'A' && sameOrigin(el)) {\n            e.preventDefault();\n            var path = el.pathname;\n            if (this.router.history.root) {\n              path = path.replace(this.router.history.rootRE, '');\n            }\n            this.router.go({\n              path: path,\n              replace: target && target.replace,\n              append: target && target.append\n            });\n          }\n        }\n      },\n\n      onRouteUpdate: function onRouteUpdate(route) {\n        // router.stringifyPath is dependent on current route\n        // and needs to be called again whenver route changes.\n        var newPath = this.router.stringifyPath(this.target);\n        if (this.path !== newPath) {\n          this.path = newPath;\n          this.updateActiveMatch();\n          this.updateHref();\n        }\n        if (this.activeIds) {\n          this.vm.$emit(LINK_UPDATE, this, route.path);\n        } else {\n          this.updateClasses(route.path, this.el);\n        }\n      },\n\n      updateActiveMatch: function updateActiveMatch() {\n        this.activeRE = this.path && !this.exact ? new RegExp('^' + this.path.replace(/\\/$/, '').replace(queryStringRE, '').replace(regexEscapeRE, '\\\\$&') + '(\\\\/|$)') : null;\n      },\n\n      updateHref: function updateHref() {\n        if (this.el.tagName !== 'A') {\n          return;\n        }\n        var path = this.path;\n        var router = this.router;\n        var isAbsolute = path.charAt(0) === '/';\n        // do not format non-hash relative paths\n        var href = path && (router.mode === 'hash' || isAbsolute) ? router.history.formatPath(path, this.append) : path;\n        if (href) {\n          this.el.href = href;\n        } else {\n          this.el.removeAttribute('href');\n        }\n      },\n\n      updateClasses: function updateClasses(path, el) {\n        var activeClass = this.activeClass || this.router._linkActiveClass;\n        // clear old class\n        if (this.prevActiveClass && this.prevActiveClass !== activeClass) {\n          toggleClasses(el, this.prevActiveClass, removeClass);\n        }\n        // remove query string before matching\n        var dest = this.path.replace(queryStringRE, '');\n        path = path.replace(queryStringRE, '');\n        // add new class\n        if (this.exact) {\n          if (dest === path ||\n          // also allow additional trailing slash\n          dest.charAt(dest.length - 1) !== '/' && dest === path.replace(trailingSlashRE, '')) {\n            toggleClasses(el, activeClass, addClass);\n          } else {\n            toggleClasses(el, activeClass, removeClass);\n          }\n        } else {\n          if (this.activeRE && this.activeRE.test(path)) {\n            toggleClasses(el, activeClass, addClass);\n          } else {\n            toggleClasses(el, activeClass, removeClass);\n          }\n        }\n      },\n\n      unbind: function unbind() {\n        this.el.removeEventListener('click', this.handler);\n        this.unwatch && this.unwatch();\n      }\n    });\n\n    function sameOrigin(link) {\n      return link.protocol === location.protocol && link.hostname === location.hostname && link.port === location.port;\n    }\n\n    // this function is copied from v-bind:class implementation until\n    // we properly expose it...\n    function toggleClasses(el, key, fn) {\n      key = key.trim();\n      if (key.indexOf(' ') === -1) {\n        fn(el, key);\n        return;\n      }\n      var keys = key.split(/\\s+/);\n      for (var i = 0, l = keys.length; i < l; i++) {\n        fn(el, keys[i]);\n      }\n    }\n  }\n\n  var historyBackends = {\n    abstract: AbstractHistory,\n    hash: HashHistory,\n    html5: HTML5History\n  };\n\n  // late bind during install\n  var Vue = undefined;\n\n  /**\n   * Router constructor\n   *\n   * @param {Object} [options]\n   */\n\n  var Router = (function () {\n    function Router() {\n      var _this = this;\n\n      var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      var _ref$hashbang = _ref.hashbang;\n      var hashbang = _ref$hashbang === undefined ? true : _ref$hashbang;\n      var _ref$abstract = _ref.abstract;\n      var abstract = _ref$abstract === undefined ? false : _ref$abstract;\n      var _ref$history = _ref.history;\n      var history = _ref$history === undefined ? false : _ref$history;\n      var _ref$saveScrollPosition = _ref.saveScrollPosition;\n      var saveScrollPosition = _ref$saveScrollPosition === undefined ? false : _ref$saveScrollPosition;\n      var _ref$transitionOnLoad = _ref.transitionOnLoad;\n      var transitionOnLoad = _ref$transitionOnLoad === undefined ? false : _ref$transitionOnLoad;\n      var _ref$suppressTransitionError = _ref.suppressTransitionError;\n      var suppressTransitionError = _ref$suppressTransitionError === undefined ? false : _ref$suppressTransitionError;\n      var _ref$root = _ref.root;\n      var root = _ref$root === undefined ? null : _ref$root;\n      var _ref$linkActiveClass = _ref.linkActiveClass;\n      var linkActiveClass = _ref$linkActiveClass === undefined ? 'v-link-active' : _ref$linkActiveClass;\n      babelHelpers.classCallCheck(this, Router);\n\n      /* istanbul ignore if */\n      if (!Router.installed) {\n        throw new Error('Please install the Router with Vue.use() before ' + 'creating an instance.');\n      }\n\n      // Vue instances\n      this.app = null;\n      this._children = [];\n\n      // route recognizer\n      this._recognizer = new RouteRecognizer();\n      this._guardRecognizer = new RouteRecognizer();\n\n      // state\n      this._started = false;\n      this._startCb = null;\n      this._currentRoute = {};\n      this._currentTransition = null;\n      this._previousTransition = null;\n      this._notFoundHandler = null;\n      this._notFoundRedirect = null;\n      this._beforeEachHooks = [];\n      this._afterEachHooks = [];\n\n      // trigger transition on initial render?\n      this._rendered = false;\n      this._transitionOnLoad = transitionOnLoad;\n\n      // history mode\n      this._root = root;\n      this._abstract = abstract;\n      this._hashbang = hashbang;\n\n      // check if HTML5 history is available\n      var hasPushState = typeof window !== 'undefined' && window.history && window.history.pushState;\n      this._history = history && hasPushState;\n      this._historyFallback = history && !hasPushState;\n\n      // create history object\n      var inBrowser = Vue.util.inBrowser;\n      this.mode = !inBrowser || this._abstract ? 'abstract' : this._history ? 'html5' : 'hash';\n\n      var History = historyBackends[this.mode];\n      this.history = new History({\n        root: root,\n        hashbang: this._hashbang,\n        onChange: function onChange(path, state, anchor) {\n          _this._match(path, state, anchor);\n        }\n      });\n\n      // other options\n      this._saveScrollPosition = saveScrollPosition;\n      this._linkActiveClass = linkActiveClass;\n      this._suppress = suppressTransitionError;\n    }\n\n    /**\n     * Allow directly passing components to a route\n     * definition.\n     *\n     * @param {String} path\n     * @param {Object} handler\n     */\n\n    // API ===================================================\n\n    /**\n    * Register a map of top-level paths.\n    *\n    * @param {Object} map\n    */\n\n    Router.prototype.map = function map(_map) {\n      for (var route in _map) {\n        this.on(route, _map[route]);\n      }\n      return this;\n    };\n\n    /**\n     * Register a single root-level path\n     *\n     * @param {String} rootPath\n     * @param {Object} handler\n     *                 - {String} component\n     *                 - {Object} [subRoutes]\n     *                 - {Boolean} [forceRefresh]\n     *                 - {Function} [before]\n     *                 - {Function} [after]\n     */\n\n    Router.prototype.on = function on(rootPath, handler) {\n      if (rootPath === '*') {\n        this._notFound(handler);\n      } else {\n        this._addRoute(rootPath, handler, []);\n      }\n      return this;\n    };\n\n    /**\n     * Set redirects.\n     *\n     * @param {Object} map\n     */\n\n    Router.prototype.redirect = function redirect(map) {\n      for (var path in map) {\n        this._addRedirect(path, map[path]);\n      }\n      return this;\n    };\n\n    /**\n     * Set aliases.\n     *\n     * @param {Object} map\n     */\n\n    Router.prototype.alias = function alias(map) {\n      for (var path in map) {\n        this._addAlias(path, map[path]);\n      }\n      return this;\n    };\n\n    /**\n     * Set global before hook.\n     *\n     * @param {Function} fn\n     */\n\n    Router.prototype.beforeEach = function beforeEach(fn) {\n      this._beforeEachHooks.push(fn);\n      return this;\n    };\n\n    /**\n     * Set global after hook.\n     *\n     * @param {Function} fn\n     */\n\n    Router.prototype.afterEach = function afterEach(fn) {\n      this._afterEachHooks.push(fn);\n      return this;\n    };\n\n    /**\n     * Navigate to a given path.\n     * The path can be an object describing a named path in\n     * the format of { name: '...', params: {}, query: {}}\n     * The path is assumed to be already decoded, and will\n     * be resolved against root (if provided)\n     *\n     * @param {String|Object} path\n     * @param {Boolean} [replace]\n     */\n\n    Router.prototype.go = function go(path) {\n      var replace = false;\n      var append = false;\n      if (Vue.util.isObject(path)) {\n        replace = path.replace;\n        append = path.append;\n      }\n      path = this.stringifyPath(path);\n      if (path) {\n        this.history.go(path, replace, append);\n      }\n    };\n\n    /**\n     * Short hand for replacing current path\n     *\n     * @param {String} path\n     */\n\n    Router.prototype.replace = function replace(path) {\n      if (typeof path === 'string') {\n        path = { path: path };\n      }\n      path.replace = true;\n      this.go(path);\n    };\n\n    /**\n     * Start the router.\n     *\n     * @param {VueConstructor} App\n     * @param {String|Element} container\n     * @param {Function} [cb]\n     */\n\n    Router.prototype.start = function start(App, container, cb) {\n      /* istanbul ignore if */\n      if (this._started) {\n        warn$1('already started.');\n        return;\n      }\n      this._started = true;\n      this._startCb = cb;\n      if (!this.app) {\n        /* istanbul ignore if */\n        if (!App || !container) {\n          throw new Error('Must start vue-router with a component and a ' + 'root container.');\n        }\n        /* istanbul ignore if */\n        if (App instanceof Vue) {\n          throw new Error('Must start vue-router with a component, not a ' + 'Vue instance.');\n        }\n        this._appContainer = container;\n        var Ctor = this._appConstructor = typeof App === 'function' ? App : Vue.extend(App);\n        // give it a name for better debugging\n        Ctor.options.name = Ctor.options.name || 'RouterApp';\n      }\n\n      // handle history fallback in browsers that do not\n      // support HTML5 history API\n      if (this._historyFallback) {\n        var _location = window.location;\n        var _history = new HTML5History({ root: this._root });\n        var path = _history.root ? _location.pathname.replace(_history.rootRE, '') : _location.pathname;\n        if (path && path !== '/') {\n          _location.assign((_history.root || '') + '/' + this.history.formatPath(path) + _location.search);\n          return;\n        }\n      }\n\n      this.history.start();\n    };\n\n    /**\n     * Stop listening to route changes.\n     */\n\n    Router.prototype.stop = function stop() {\n      this.history.stop();\n      this._started = false;\n    };\n\n    /**\n     * Normalize named route object / string paths into\n     * a string.\n     *\n     * @param {Object|String|Number} path\n     * @return {String}\n     */\n\n    Router.prototype.stringifyPath = function stringifyPath(path) {\n      var generatedPath = '';\n      if (path && typeof path === 'object') {\n        if (path.name) {\n          var extend = Vue.util.extend;\n          var currentParams = this._currentTransition && this._currentTransition.to.params;\n          var targetParams = path.params || {};\n          var params = currentParams ? extend(extend({}, currentParams), targetParams) : targetParams;\n          generatedPath = encodeURI(this._recognizer.generate(path.name, params));\n        } else if (path.path) {\n          generatedPath = encodeURI(path.path);\n        }\n        if (path.query) {\n          // note: the generated query string is pre-URL-encoded by the recognizer\n          var query = this._recognizer.generateQueryString(path.query);\n          if (generatedPath.indexOf('?') > -1) {\n            generatedPath += '&' + query.slice(1);\n          } else {\n            generatedPath += query;\n          }\n        }\n      } else {\n        generatedPath = encodeURI(path ? path + '' : '');\n      }\n      return generatedPath;\n    };\n\n    // Internal methods ======================================\n\n    /**\n    * Add a route containing a list of segments to the internal\n    * route recognizer. Will be called recursively to add all\n    * possible sub-routes.\n    *\n    * @param {String} path\n    * @param {Object} handler\n    * @param {Array} segments\n    */\n\n    Router.prototype._addRoute = function _addRoute(path, handler, segments) {\n      guardComponent(path, handler);\n      handler.path = path;\n      handler.fullPath = (segments.reduce(function (path, segment) {\n        return path + segment.path;\n      }, '') + path).replace('//', '/');\n      segments.push({\n        path: path,\n        handler: handler\n      });\n      this._recognizer.add(segments, {\n        as: handler.name\n      });\n      // add sub routes\n      if (handler.subRoutes) {\n        for (var subPath in handler.subRoutes) {\n          // recursively walk all sub routes\n          this._addRoute(subPath, handler.subRoutes[subPath],\n          // pass a copy in recursion to avoid mutating\n          // across branches\n          segments.slice());\n        }\n      }\n    };\n\n    /**\n     * Set the notFound route handler.\n     *\n     * @param {Object} handler\n     */\n\n    Router.prototype._notFound = function _notFound(handler) {\n      guardComponent('*', handler);\n      this._notFoundHandler = [{ handler: handler }];\n    };\n\n    /**\n     * Add a redirect record.\n     *\n     * @param {String} path\n     * @param {String} redirectPath\n     */\n\n    Router.prototype._addRedirect = function _addRedirect(path, redirectPath) {\n      if (path === '*') {\n        this._notFoundRedirect = redirectPath;\n      } else {\n        this._addGuard(path, redirectPath, this.replace);\n      }\n    };\n\n    /**\n     * Add an alias record.\n     *\n     * @param {String} path\n     * @param {String} aliasPath\n     */\n\n    Router.prototype._addAlias = function _addAlias(path, aliasPath) {\n      this._addGuard(path, aliasPath, this._match);\n    };\n\n    /**\n     * Add a path guard.\n     *\n     * @param {String} path\n     * @param {String} mappedPath\n     * @param {Function} handler\n     */\n\n    Router.prototype._addGuard = function _addGuard(path, mappedPath, _handler) {\n      var _this2 = this;\n\n      this._guardRecognizer.add([{\n        path: path,\n        handler: function handler(match, query) {\n          var realPath = mapParams(mappedPath, match.params, query);\n          _handler.call(_this2, realPath);\n        }\n      }]);\n    };\n\n    /**\n     * Check if a path matches any redirect records.\n     *\n     * @param {String} path\n     * @return {Boolean} - if true, will skip normal match.\n     */\n\n    Router.prototype._checkGuard = function _checkGuard(path) {\n      var matched = this._guardRecognizer.recognize(path, true);\n      if (matched) {\n        matched[0].handler(matched[0], matched.queryParams);\n        return true;\n      } else if (this._notFoundRedirect) {\n        matched = this._recognizer.recognize(path);\n        if (!matched) {\n          this.replace(this._notFoundRedirect);\n          return true;\n        }\n      }\n    };\n\n    /**\n     * Match a URL path and set the route context on vm,\n     * triggering view updates.\n     *\n     * @param {String} path\n     * @param {Object} [state]\n     * @param {String} [anchor]\n     */\n\n    Router.prototype._match = function _match(path, state, anchor) {\n      var _this3 = this;\n\n      if (this._checkGuard(path)) {\n        return;\n      }\n\n      var currentRoute = this._currentRoute;\n      var currentTransition = this._currentTransition;\n\n      if (currentTransition) {\n        if (currentTransition.to.path === path) {\n          // do nothing if we have an active transition going to the same path\n          return;\n        } else if (currentRoute.path === path) {\n          // We are going to the same path, but we also have an ongoing but\n          // not-yet-validated transition. Abort that transition and reset to\n          // prev transition.\n          currentTransition.aborted = true;\n          this._currentTransition = this._prevTransition;\n          return;\n        } else {\n          // going to a totally different path. abort ongoing transition.\n          currentTransition.aborted = true;\n        }\n      }\n\n      // construct new route and transition context\n      var route = new Route(path, this);\n      var transition = new RouteTransition(this, route, currentRoute);\n\n      // current transition is updated right now.\n      // however, current route will only be updated after the transition has\n      // been validated.\n      this._prevTransition = currentTransition;\n      this._currentTransition = transition;\n\n      if (!this.app) {\n        (function () {\n          // initial render\n          var router = _this3;\n          _this3.app = new _this3._appConstructor({\n            el: _this3._appContainer,\n            created: function created() {\n              this.$router = router;\n            },\n            _meta: {\n              $route: route\n            }\n          });\n        })();\n      }\n\n      // check global before hook\n      var beforeHooks = this._beforeEachHooks;\n      var startTransition = function startTransition() {\n        transition.start(function () {\n          _this3._postTransition(route, state, anchor);\n        });\n      };\n\n      if (beforeHooks.length) {\n        transition.runQueue(beforeHooks, function (hook, _, next) {\n          if (transition === _this3._currentTransition) {\n            transition.callHook(hook, null, next, {\n              expectBoolean: true\n            });\n          }\n        }, startTransition);\n      } else {\n        startTransition();\n      }\n\n      if (!this._rendered && this._startCb) {\n        this._startCb.call(null);\n      }\n\n      // HACK:\n      // set rendered to true after the transition start, so\n      // that components that are acitvated synchronously know\n      // whether it is the initial render.\n      this._rendered = true;\n    };\n\n    /**\n     * Set current to the new transition.\n     * This is called by the transition object when the\n     * validation of a route has succeeded.\n     *\n     * @param {Transition} transition\n     */\n\n    Router.prototype._onTransitionValidated = function _onTransitionValidated(transition) {\n      // set current route\n      var route = this._currentRoute = transition.to;\n      // update route context for all children\n      if (this.app.$route !== route) {\n        this.app.$route = route;\n        this._children.forEach(function (child) {\n          child.$route = route;\n        });\n      }\n      // call global after hook\n      if (this._afterEachHooks.length) {\n        this._afterEachHooks.forEach(function (hook) {\n          return hook.call(null, {\n            to: transition.to,\n            from: transition.from\n          });\n        });\n      }\n      this._currentTransition.done = true;\n    };\n\n    /**\n     * Handle stuff after the transition.\n     *\n     * @param {Route} route\n     * @param {Object} [state]\n     * @param {String} [anchor]\n     */\n\n    Router.prototype._postTransition = function _postTransition(route, state, anchor) {\n      // handle scroll positions\n      // saved scroll positions take priority\n      // then we check if the path has an anchor\n      var pos = state && state.pos;\n      if (pos && this._saveScrollPosition) {\n        Vue.nextTick(function () {\n          window.scrollTo(pos.x, pos.y);\n        });\n      } else if (anchor) {\n        Vue.nextTick(function () {\n          var el = document.getElementById(anchor.slice(1));\n          if (el) {\n            window.scrollTo(window.scrollX, el.offsetTop);\n          }\n        });\n      }\n    };\n\n    return Router;\n  })();\n\n  function guardComponent(path, handler) {\n    var comp = handler.component;\n    if (Vue.util.isPlainObject(comp)) {\n      comp = handler.component = Vue.extend(comp);\n    }\n    /* istanbul ignore if */\n    if (typeof comp !== 'function') {\n      handler.component = null;\n      warn$1('invalid component for route \"' + path + '\".');\n    }\n  }\n\n  /* Installation */\n\n  Router.installed = false;\n\n  /**\n   * Installation interface.\n   * Install the necessary directives.\n   */\n\n  Router.install = function (externalVue) {\n    /* istanbul ignore if */\n    if (Router.installed) {\n      warn$1('already installed.');\n      return;\n    }\n    Vue = externalVue;\n    applyOverride(Vue);\n    View(Vue);\n    Link(Vue);\n    exports$1.Vue = Vue;\n    Router.installed = true;\n  };\n\n  // auto install\n  /* istanbul ignore if */\n  if (typeof window !== 'undefined' && window.Vue) {\n    window.Vue.use(Router);\n  }\n\n  return Router;\n\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-router/dist/vue-router.js\n// module id = 4\n// module chunks = 0","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\nrequire(\"!!vue-style-loader!css-loader!./../../../node_modules/vue-loader/lib/style-rewriter.js!sass!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./App.vue\")\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"remove\\\":true}!css!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-81cd484e&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=1!./App.vue\")\n__vue_script__ = require(\"!!babel-loader!./app.js\")\nif (__vue_script__ &&\n    __vue_script__.__esModule &&\n    Object.keys(__vue_script__).length > 1) {\n  console.warn(\"[vue-loader] src\\\\components\\\\App\\\\App.vue: named exports in *.vue files are ignored.\")}\n__vue_template__ = require(\"!!vue-html-loader!./../../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-81cd484e!./app.html\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/App/App.vue\n// module id = 5\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/sass-loader/index.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./App.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/sass-loader/index.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./App.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/sass-loader/index.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./App.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader!./~/vue-loader/lib/style-rewriter.js!./~/sass-loader!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/App/App.vue\n// module id = 6\n// module chunks = 0","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/**\\n * Copyright 2015 Google Inc. All Rights Reserved.\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *      http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */\\n/* ==========  Color Palettes  ========== */\\n/* colors.scss */\\nbody {\\n  background: #ebeff2;\\n  font-family: \\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif; }\\n\\ntext {\\n  text-anchor: middle; }\\n\\n.pause {\\n  fill: #FFC107 !important; }\\n\\n.play {\\n  fill: #80CBC4 !important; }\\n\\n.seeked {\\n  fill: #03A9F4 !important; }\\n\\n.error {\\n  fill: #607D8B !important; }\\n\\n.ratechange {\\n  fill: #00BCD4 !important; }\\n\\n.stalled {\\n  fill: #EF5350 !important; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/vue-loader/lib/style-rewriter.js!./~/sass-loader!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/App/App.vue\n// module id = 7\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\tstyleElement.type = \"text/css\";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\tvar sourceMap = obj.sourceMap;\n\n\tif (media) {\n\t\tstyleElement.setAttribute(\"media\", media);\n\t}\n\n\tif (sourceMap) {\n\t\t// https://developer.chrome.com/devtools/docs/javascript-debugging\n\t\t// this makes source maps inside style tags work properly in Chrome\n\t\tcss += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */';\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader/addStyles.js\n// module id = 9\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"remove\":true}!./~/css-loader!./~/vue-loader/lib/style-rewriter.js?id=_v-81cd484e&scoped=true!./~/vue-loader/lib/selector.js?type=style&index=1!./src/components/App/App.vue\n// module id = 10\n// module chunks = 0","import NoBallDrop from './../NoBallDrop/NoBallDrop.vue';\r\n//const ROOTPATH = \"/~zchenbn/click-animation/\";\r\nconst ROOTPATH = \"./\";\r\nexport default {\r\n    ready() {\r\n        d3.json(this.rawDataPath, (err, data) => {\r\n            if (err) throw err;\r\n            this.rawData = data;\r\n            d3.json(this.rawStackDataPath, (err1, stackData) => {\r\n                if (err1) throw err1;\r\n                this.rawStackData = stackData;\r\n                this.videoIds = this.$refs.clickAnimationComponent.setRawdata(data, stackData);\r\n            });\r\n        });\r\n    },\r\n    components: {\r\n        NoBallDrop\r\n    },\r\n    rawData: null,\r\n    rawStackData: null,\r\n    data() {\r\n        return {\r\n            rawDataPath: ROOTPATH + \"data/animation_All17.json_clean\",\r\n            rawStackDataPath: ROOTPATH + \"data/animation_All17.json_clean_stack\",\r\n            vLinkIndex: \"/\",\r\n            vLinkCongleiPath: \"/conglei\",\r\n            vLinkNoForeshadow: \"/no-foreshadow\",\r\n\r\n            videoIds: [],\r\n            selectedVideo: null,\r\n\r\n            zoomScaleMax: 8,\r\n            zoomScaleList: [1, 2, 4, 8, 16],\r\n            isAcceleration: true,\r\n        }\r\n    },\r\n    methods: {\r\n        getData() {\r\n            if (this.rawData && this.rawStackData) {\r\n                this.videoIds = this.$refs.clickAnimationComponent.setRawdata(this.rawData, this.rawStackData);\r\n                if (this.selectedVideo) {\r\n                    this.$refs.clickAnimationComponent.SelectVideo(this.selectedVideo);\r\n                }\r\n            }\r\n        },\r\n        SelectVideo() {\r\n            this.$refs.clickAnimationComponent.SelectVideo(this.selectedVideo);\r\n        },\r\n        SelectSpeed() {\r\n            this.$refs.clickAnimationComponent.SelectSpeed(this.zoomScaleMax);\r\n        },\r\n\r\n        ChangeAcceleration() {\r\n            this.$refs.clickAnimationComponent.ChangeAcceleration(this.isAcceleration);\r\n        },\r\n        Pause() {\r\n            this.$refs.clickAnimationComponent.Pause();\r\n        },\r\n        Resume() {\r\n            this.$refs.clickAnimationComponent.Resume();\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/App/app.js","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"remove\\\":true}!css!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./NoBallDrop.vue\")\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"remove\\\":true}!css!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-613ff422&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=1!./NoBallDrop.vue\")\n__vue_script__ = require(\"!!babel-loader!./no-ball-drop.js\")\nif (__vue_script__ &&\n    __vue_script__.__esModule &&\n    Object.keys(__vue_script__).length > 1) {\n  console.warn(\"[vue-loader] src\\\\components\\\\NoBallDrop\\\\NoBallDrop.vue: named exports in *.vue files are ignored.\")}\n__vue_template__ = require(\"!!vue-html-loader!./../../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-613ff422!./no-ball-drop.html\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NoBallDrop/NoBallDrop.vue\n// module id = 12\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"remove\":true}!./~/css-loader!./~/vue-loader/lib/style-rewriter.js!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/NoBallDrop/NoBallDrop.vue\n// module id = 13\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"remove\":true}!./~/css-loader!./~/vue-loader/lib/style-rewriter.js?id=_v-613ff422&scoped=true!./~/vue-loader/lib/selector.js?type=style&index=1!./src/components/NoBallDrop/NoBallDrop.vue\n// module id = 14\n// module chunks = 0","import d3 from 'd3';\r\nimport mdl from \"material-design-lite\";\r\nimport \"material-design-lite/src/material-design-lite.scss\";\r\n\r\n// components here\r\nimport Bubble from \"./../BubbleFloat/BubbleFloat.vue\";\r\n\r\n// self lib here\r\nimport TimeLine from './../../Static/TimeLine.js';\r\n\r\nexport default {\r\n    components: {\r\n        BubbleFloat: Bubble\r\n    },\r\n    ready() {\r\n        this.InitVariables();\r\n        console.log(\"ready no-ball-drop\");\r\n        if (!this.clickData) {\r\n            this.$root.getData();\r\n        }\r\n    },\r\n\r\n    // Complex data here\r\n    //d3 element\r\n    doc: null,\r\n    svg: null,\r\n    contextTimeLineG: null,\r\n    //xAxis: null,\r\n    timelineChartData: null,\r\n    timelineChartLineGen: null,\r\n    animation: null,\r\n    digitalClock: null,\r\n\r\n    //d3 drawing helper\r\n    focusXscale: null,\r\n    contextXscale: null,\r\n    contextBarChartYscale: null,\r\n    arcGen: null,\r\n    brush: null,\r\n    dateFormat: null,\r\n    timeFormat: null,\r\n\r\n   \r\n\r\n    data() {\r\n        return {\r\n            clickData: null,\r\n            \r\n            padding: { top: 0, right: 20, bottom: 30, left: 20 },\r\n            width: null,\r\n            height: null,\r\n            center: null,\r\n            titleHeight: null,\r\n            viewInnerWidth: null,\r\n            viewInnerHeight: null,\r\n            contextTimeLineHeight: null,\r\n            contextTimeLineY: null,\r\n            stackBarChartHeight: 300,\r\n            focusRegionWidth: 200,\r\n            focusRegionScale: 20,\r\n            focusMoveRange: 10,\r\n\r\n            //control panel\r\n            zoomScaleMax: 8,\r\n            focusTimeLineViewScale: 1,\r\n            focusDataScale: 1,\r\n            isAcceleration: true,\r\n            accelerateMode: \"domain\",\r\n\r\n            selectedVideo: \"\",\r\n\r\n            // durations:[5000,1500,2500,5000],\r\n            baseDuration: 1000,\r\n            currentDuration: 1000,\r\n\r\n            // timeIntervals: [\r\n            //     { name: \"Second\", ms: 1000 },           //0\r\n            //     { name: \"Minute\", ms: 60 * 1000 },      //1\r\n            //     { name: \"Hour\", ms: 60 * 60 * 1000 },   //2\r\n            //     { name: \"Day\", ms: 24 * 60 * 60 * 1000 }//3\r\n            // ],\r\n            timeInterval: { name: \"Hour\", ms: 60 * 60 * 1000 }, // hour\r\n\r\n            is2D: false,\r\n\r\n            //data to draw\r\n            xDomainMin: null,\r\n            xDomainMax: null,\r\n        }\r\n    },\r\n    methods: {\r\n        setRawdata(data, stackData) {\r\n            this.clickData = {};\r\n            let time2edInterval = (this.zoomScaleMax * this.timeInterval.ms);\r\n            for (let i = 0, len = data.length; i < len; ++i) {\r\n                if (data[i].currentTime === 0) continue;\r\n                data[i].date = new Date(data[i].ts);\r\n\r\n                let videoId = data[i].videoId;\r\n                if (!this.clickData[videoId]) this.clickData[videoId] = {};\r\n                let videoData = this.clickData[videoId];\r\n\r\n                if (!videoData.clickDataGroupByTimeArray) videoData.clickDataGroupByTimeArray = {};\r\n                if (!videoData.clickDataGroupByTimeDict) videoData.clickDataGroupByTimeDict = {};\r\n                if (!videoData.clickDataGroupByTimeArray[this.focusTimeLineViewScale]) videoData.clickDataGroupByTimeArray[this.focusTimeLineViewScale] = [];\r\n                if (!videoData.clickDataGroupByTimeDict[this.focusTimeLineViewScale]) videoData.clickDataGroupByTimeDict[this.focusTimeLineViewScale] = {};\r\n                if (!videoData.clickDataGroupByTimeArray[this.zoomScaleMax]) videoData.clickDataGroupByTimeArray[this.zoomScaleMax] = [];\r\n                if (!videoData.clickDataGroupByTimeDict[this.zoomScaleMax]) videoData.clickDataGroupByTimeDict[this.zoomScaleMax] = {};\r\n\r\n                let index = Math.floor(data[i].ts / this.timeInterval.ms);\r\n                if (!videoData.clickDataGroupByTimeDict[this.focusTimeLineViewScale][index]) videoData.clickDataGroupByTimeDict[this.focusTimeLineViewScale][index] = [];\r\n                videoData.clickDataGroupByTimeDict[this.focusTimeLineViewScale][index].push(data[i]);\r\n\r\n                index = Math.floor(data[i].ts / time2edInterval);\r\n                if (!videoData.clickDataGroupByTimeDict[this.zoomScaleMax][index]) videoData.clickDataGroupByTimeDict[this.zoomScaleMax][index] = [];\r\n                videoData.clickDataGroupByTimeDict[this.zoomScaleMax][index].push(data[i]);\r\n            }\r\n\r\n            let videoIds = Object.keys(this.clickData);\r\n            for (let i = 0, len = videoIds.length; i < len; ++i) {\r\n                let videoData = this.clickData[videoIds[i]];\r\n                let timeKeys = Object.keys(videoData.clickDataGroupByTimeDict[this.focusTimeLineViewScale]);\r\n                for (let j = 0, lenj = timeKeys.length; j < lenj; ++j) {\r\n                    videoData.clickDataGroupByTimeArray[this.focusTimeLineViewScale][j] = {\r\n                        ts: +timeKeys[j] * this.timeInterval.ms,\r\n                        value: videoData.clickDataGroupByTimeDict[this.focusTimeLineViewScale][timeKeys[j]]\r\n                    };\r\n                }\r\n\r\n                timeKeys = Object.keys(videoData.clickDataGroupByTimeDict[this.zoomScaleMax]);\r\n                for (let j = 0, lenj = timeKeys.length; j < lenj; ++j) {\r\n                    videoData.clickDataGroupByTimeArray[this.zoomScaleMax][j] = {\r\n                        ts: +timeKeys[j] * time2edInterval,\r\n                        value: videoData.clickDataGroupByTimeDict[this.zoomScaleMax][timeKeys[j]]\r\n                    };\r\n                }\r\n            }\r\n\r\n\r\n            this.$refs.bubbleFloatComponent\r\n                .setBarHeight(this.stackBarChartHeight)\r\n                .setIs2D(this.is2D)\r\n                .setTimeInterval(30)\r\n                .videosData(stackData);\r\n\r\n            return videoIds;\r\n        },\r\n        processData(tempL1A) {\r\n            if (tempL1A.statics) return;\r\n            let extent = d3.extent(tempL1A, function (d) { return d.value.length; });\r\n            let max = extent[1];\r\n            let min = extent[0];\r\n            let mean = d3.mean(tempL1A, function (d) { return d.value.length; });\r\n            let median = d3.median(tempL1A, function (d) { return d.value.length; });\r\n            let deviation = d3.deviation(tempL1A, function (d) { return d.value.length; });\r\n            tempL1A.statics = {\r\n                extent: extent,\r\n                max: max,\r\n                min: min,\r\n                mean: mean,\r\n                median: median,\r\n                deviation: deviation\r\n            };\r\n        },\r\n        calOutLier(tempL1A) {\r\n            if (tempL1A.outliers) return;\r\n            if (!tempL1A.statics) this.processData(tempL1A);\r\n            let statics = tempL1A.statics;\r\n            let mean = statics.mean;\r\n            let deviation = statics.deviation;\r\n            let sigmaCount = 2;\r\n            let upperBound = mean + sigmaCount * deviation;\r\n            let lowerBound = mean - sigmaCount * deviation;\r\n            let outliers = [];\r\n            for (let i = 0, len = tempL1A.length, value; i < len; ++i) {\r\n                value = tempL1A[i].value.length;\r\n                if (value > upperBound || value < lowerBound) {\r\n                    tempL1A[i].isOutlier = true;\r\n                    outliers.push(tempL1A[i]);\r\n                }\r\n            }\r\n            tempL1A.outliers = outliers;\r\n            for (let i = 0, len = tempL1A.length; i < len;) {\r\n                let bar = tempL1A[i];\r\n                if (bar.isOutlier) {\r\n                    let j = i - 5;\r\n                    while (++j < (i + 5)) {\r\n                        if (tempL1A[j]) {\r\n                            if (tempL1A[j].siso) {\r\n                                let t = j + 1;\r\n                                while (tempL1A[--t].siso) tempL1A[t].siso = 0;\r\n                            } else {\r\n                                tempL1A[j].siso = j - i;\r\n                            }\r\n                        }\r\n                    }\r\n                    i = i + 5;\r\n                } else {\r\n                    ++i;\r\n                }\r\n            }\r\n\r\n            let timeInterval = this.$refs.bubbleFloatComponent.getTimeInterval();\r\n            let outliersStatics = [];\r\n            let videoLength = this.$refs.bubbleFloatComponent.getVideoLength(this.selectedVideo);\r\n            for (let i = 0, len = outliers.length; i < len; ++i) {\r\n                let outlier = outliers[i];\r\n                let newValues = [{}, {}, {}];\r\n                for (let j = 0, lenj = outlier.value.length; j < lenj; ++j) {\r\n                    let click = outlier.value[j];\r\n                    let newIndex = click.currentTime / videoLength;\r\n\r\n                    if (newIndex < (1 / 3)) { newIndex = 0; }\r\n                    else if (newIndex < (2 / 3)) { newIndex = 1; }\r\n                    else { newIndex = 2; }\r\n\r\n                    if (click.type in newValues[newIndex]) {\r\n                        newValues[newIndex][click.type]++;\r\n                    } else {\r\n                        newValues[newIndex][click.type] = 0;\r\n                    }\r\n                }\r\n\r\n                for (let j = 0, lenj = newValues.length; j < lenj; ++j) {\r\n                    let tTypes = newValues[j];\r\n                    //let baseValue = 0;\r\n                    let maxType;\r\n                    let maxValue = -1;\r\n                    Object.keys(tTypes).forEach((d) => {\r\n                        if (tTypes[d] > maxValue) {\r\n                            maxType = { type: d };\r\n                            maxValue = tTypes[d];\r\n                        }\r\n                    });\r\n                    if (maxType) maxType.ts = outlier.ts;\r\n                    newValues[j] = maxType;\r\n                }\r\n                outliersStatics.push({\r\n                    ts: outlier.ts,\r\n                    indicatorData: newValues\r\n                });\r\n            }\r\n            tempL1A.outliersStatics = outliersStatics;\r\n        },\r\n        SelectVideo(selectedVideo) {\r\n            this.selectedVideo = selectedVideo;\r\n            let videoData = this.clickData[this.selectedVideo];\r\n            let tempL1A = videoData.clickDataGroupByTimeArray[1];\r\n            let tempL2A = videoData.clickDataGroupByTimeArray[this.zoomScaleMax];\r\n            if (!tempL2A) {\r\n                tempL2A = videoData.clickDataGroupByTimeArray[this.zoomScaleMax] = [];\r\n                let tempL2D = videoData.clickDataGroupByTimeDict[this.zoomScaleMax] = {};\r\n                let time2edInterval = this.timeInterval.ms * this.zoomScaleMax;\r\n                for (let i = 0, len = tempL1A.length; i < len; ++i) {\r\n                    let clicks = tempL1A[i].value;\r\n                    for (let j = 0, lenj = clicks.length; j < lenj; ++j) {\r\n                        let click = clicks[j];\r\n                        let index = Math.floor(click.ts / time2edInterval);\r\n                        if (!tempL2D[index]) tempL2D[index] = [];\r\n                        tempL2D[index].push(click);\r\n                    }\r\n                }\r\n\r\n                let timeKeys = Object.keys(tempL2D);\r\n                for (let i = 0, len = timeKeys.length; i < len; ++i) {\r\n                    tempL2A[i] = {\r\n                        ts: +timeKeys[i] * time2edInterval,\r\n                        value: tempL2D[timeKeys[i]]\r\n                    };\r\n                }\r\n            }\r\n            this.calOutLier(tempL1A);\r\n            this.calOutLier(tempL2A);\r\n\r\n            //set up domain of each scale\r\n            this.contextBarChartYscale.domain(tempL1A.statics.extent);\r\n            this.focusXscale.domain(d3.extent(tempL1A, function (d) { return +d.ts; }));\r\n            this.contextXscale.domain(this.focusXscale.domain());\r\n            this.xDomainMin = this.focusXscale.domain()[0];\r\n            this.xDomainMax = this.focusXscale.domain()[1];\r\n            setTimeout(this.InitView, 20);\r\n        },\r\n        SelectSpeed(zoomScaleMax) {\r\n            this.zoomScaleMax = zoomScaleMax;\r\n            let videoData = this.clickData[this.selectedVideo];\r\n            let tempL1A = videoData.clickDataGroupByTimeArray[1];\r\n            let tempL2A = videoData.clickDataGroupByTimeArray[this.zoomScaleMax];\r\n            if (!tempL2A) {\r\n                tempL2A = videoData.clickDataGroupByTimeArray[this.zoomScaleMax] = [];\r\n                let tempL2D = videoData.clickDataGroupByTimeDict[this.zoomScaleMax] = {};\r\n                let time2edInterval = this.timeInterval.ms * this.zoomScaleMax;\r\n                for (let i = 0, len = tempL1A.length; i < len; ++i) {\r\n                    let clicks = tempL1A[i].value;\r\n                    for (let j = 0, lenj = clicks.length; j < lenj; ++j) {\r\n                        let click = clicks[j];\r\n                        let index = Math.floor(click.ts / time2edInterval);\r\n                        if (!tempL2D[index]) tempL2D[index] = [];\r\n                        tempL2D[index].push(click);\r\n                    }\r\n                }\r\n\r\n                let timeKeys = Object.keys(tempL2D);\r\n                for (let i = 0, len = timeKeys.length; i < len; ++i) {\r\n                    tempL2A[i] = {\r\n                        ts: +timeKeys[i] * time2edInterval,\r\n                        value: tempL2D[timeKeys[i]]\r\n                    };\r\n                }\r\n            }\r\n            this.calOutLier(tempL1A);\r\n            this.calOutLier(tempL2A);\r\n\r\n            this.InitView();\r\n        },\r\n        ChangeAcceleration(isAcceleration) {\r\n            this.isAcceleration = isAcceleration;\r\n            if (!this.isAcceleration) {\r\n                this.focusTimeLineViewScale = 1;\r\n            }\r\n        },\r\n        InitVariables() {\r\n            this.doc = d3.select(this.$el);\r\n            this.titleHeight = this.doc.select(\".mdl-card__title\").node().clientHeight;\r\n            this.width = this.doc.node().clientWidth;\r\n            this.viewInnerWidth = this.width;\r\n            this.height = this.doc.node().clientHeight - this.titleHeight;\r\n            this.contextTimeLineHeight = this.height * 0.10;\r\n            this.viewInnerHeight = this.height * 0.15;\r\n            this.svg = this.doc.select(\"svg.screen-scroll-svg\").attr(\"height\", this.viewInnerHeight);\r\n            this.svg.append(\"rect\").attr({\r\n                \"class\": \"svg-background\",\r\n                \"x\": 0,\r\n                \"y\": 0,\r\n                \"width\": this.width,\r\n                \"height\": this.viewInnerHeight\r\n            });\r\n            this.center = [this.viewInnerWidth * 0.5, this.viewInnerHeight * 0.5];\r\n\r\n            this.contextTimeLineY = 0;\r\n\r\n            // Scales\r\n            this.contextXscale = d3.time.scale();\r\n\r\n            this.contextBarChartYscale = d3.scale.linear()\r\n                .range([0, this.contextTimeLineHeight]);\r\n\r\n            this.focusXscale = d3.time.scale();\r\n            this.arcGen = d3.svg.arc().innerRadius(0).outerRadius(200).startAngle(0).endAngle(2 * Math.PI);\r\n            this.timelineChartLineGen = d3.svg.line().interpolate(\"monotone\").tension(0.8).x((d) => { return d.x; }).y((d) => { return d.y; });\r\n            this.dateFormat = d3.time.format(\"%b %d\");\r\n            this.timeFormat = d3.time.format(\"%H:%M\");\r\n\r\n            this.brush = d3.svg.brush()\r\n                .x(this.contextXscale);\r\n        },\r\n        drawDigitalClock(chart) {\r\n            this.digitalClock = chart.append(\"g\")\r\n                .attr(\"class\", \"clock-group\")\r\n                .attr(\"transform\", \"translate(\" + [this.center[0], this.center[1]] + \")\");\r\n            this.digitalClock\r\n                .append(\"line\")\r\n                .attr({\r\n                    \"x1\": - 150,\r\n                    \"y1\": 20,\r\n                    \"y2\": 20,\r\n                    \"x2\": 150\r\n                });\r\n            this.digitalClock\r\n                .append(\"text\")\r\n                .attr({\r\n                    \"class\": \"date\"\r\n                })\r\n                .text(\"TEST\");\r\n            this.digitalClock\r\n                .append(\"text\")\r\n                .attr({\r\n                    \"class\": \"time\",\r\n                    \"y\": 85\r\n                })\r\n                .text(\"TEST\");\r\n        },\r\n        drawFisheyeContextTimeLine(tempL1A) {\r\n            let focusRegionWidth = this.focusRegionWidth;\r\n            let scaleSize = this.focusRegionScale;\r\n\r\n            this.contextXscale.range([this.center[0] + 0.5 * focusRegionWidth, this.width - this.padding.right]);\r\n            let oneBarRange = this.contextXscale(this.contextXscale.domain()[0].getTime() + this.timeInterval.ms) - this.contextXscale(this.contextXscale.domain()[0].getTime());\r\n            this.focusMoveRange = 1 * oneBarRange;\r\n            this.contextXscale.range([this.contextXscale.range()[0] + this.focusMoveRange, this.contextXscale.range()[1] + this.focusMoveRange]);\r\n            this.contextTimeLineG = this.svg.append(\"g\")\r\n                .attr(\"class\", \"time-line-context-group\")\r\n                .attr(\"transform\", \"translate(\" + [0, 0] + \")\");\r\n\r\n            // timeline verlocity distributtion\r\n            let lineChartData = d3.range(this.contextXscale.range()[1] - this.contextXscale.range()[0])\r\n                .map((d, i) => {\r\n                    return { ox: d + this.contextXscale.range()[0], x: d + this.contextXscale.range()[0], y: 0 };\r\n                });\r\n            // see whether is outlier\r\n            for (let i = 0, len = tempL1A.outliers.length; i < len; ++i) {\r\n                let d = tempL1A.outliers[i];\r\n                let index = Math.floor(this.contextXscale(d.ts) - this.contextXscale.range()[0]);\r\n                if (lineChartData[index] && d.isOutlier) {\r\n                    lineChartData[index].isOutlier = true;\r\n                }\r\n            }\r\n\r\n            // filter non-outlier\r\n            lineChartData = lineChartData.filter(function (d, i) {\r\n                if (d.isOutlier) return true;\r\n                if (!(i & 3)) return true;\r\n                return false;\r\n            });\r\n            // set Y \r\n            for (let i = 0, len = lineChartData.length; i < len;) {\r\n                let d = lineChartData[i];\r\n                if (d.isOutlier) {\r\n                    let j = i - 3;\r\n                    while (++j < (i + 4)) {\r\n                        if (lineChartData[j]) {\r\n                            lineChartData[j].y = this.contextBarChartYscale.range()[1] * 0.5;\r\n                        }\r\n                    }\r\n                    i = i + 4;\r\n                } else {\r\n                    if (i & 1) {\r\n                        d.y = 0;\r\n                    } else {\r\n                        d.y = this.contextTimeLineHeight - this.padding.bottom;\r\n                    }\r\n                    ++i;\r\n                }\r\n            }\r\n            this.timelineChartData = lineChartData;\r\n            //interpolate(\"basis\")\r\n            this.contextTimeLineG\r\n                .append(\"g\").attr(\"class\", \"time-line-chart\")\r\n                .attr(\"transform\", \"translate(0,\" + (this.viewInnerHeight - this.padding.bottom - this.contextTimeLineHeight + 5) + \")\")\r\n                .datum(lineChartData)\r\n                .append(\"path\")\r\n                .attr(\"d\", this.timelineChartLineGen);\r\n\r\n            // Context TimeLine barChart\r\n            this.contextTimeLineG\r\n                .append(\"g\").attr(\"class\", \"bar-chart-group\")\r\n                .selectAll(\".bar-chart\")\r\n                .data(tempL1A, function (d) { return d.ts; })\r\n                .enter().append(\"rect\")\r\n                .attr({\r\n                    \"class\": (d) => { return typeof d.siso === \"number\" ? \"bar-chart siso\" : \"bar-chart\" },\r\n                    \"x\": (d) => { return this.contextXscale(d.ts) - 0.5; },\r\n                    \"y\": (d) => { return this.viewInnerHeight - this.padding.bottom - this.contextBarChartYscale(d.value.length); },\r\n                    \"height\": (d) => { return this.contextBarChartYscale(d.value.length); },\r\n                    \"width\": 1\r\n                });\r\n\r\n            // Context TimeLine here\r\n            this.contextTimeLineG.append(\"g\").attr(\"class\", \"brush\")\r\n                .append(\"rect\")\r\n                .attr({\r\n                    \"x\": this.center[0] - (focusRegionWidth + scaleSize) * 0.5,\r\n                    \"width\": focusRegionWidth,\r\n                    \"y\": this.viewInnerHeight - this.contextTimeLineHeight - this.padding.bottom,\r\n                    \"height\": this.contextTimeLineHeight\r\n                });\r\n\r\n            // Context TimeLine indicator\r\n            let indicatorG = this.contextTimeLineG\r\n                .append(\"g\").attr(\"class\", \"indicator-group\")\r\n                .selectAll(\".indicator\")\r\n                .data(tempL1A.outliersStatics, function (d) { return d.ts; })\r\n                .enter().append(\"g\")\r\n                .attr({\r\n                    \"class\": \"indicator\",\r\n                    \"transform\": (d) => { return \"translate(\" + [this.contextXscale(d.ts), this.viewInnerHeight - this.padding.bottom + 2] + \")\" }\r\n                });\r\n\r\n            indicatorG.append(\"rect\")\r\n                .attr({\r\n                    \"x\": -8,\r\n                    \"width\": 16,\r\n                    \"height\": 9\r\n                });\r\n\r\n            indicatorG.selectAll(\"circle\")\r\n                .data(function (d) { return d.indicatorData; })\r\n                .enter().append(\"circle\")\r\n                .attr({\r\n                    \"class\": (d) => { return d ? d.type : \"zero_\"; },\r\n                    \"r\": 2,\r\n                    \"cy\": 4.5,\r\n                    \"cx\": (d, i) => { return i * 5 - 5; },\r\n                });\r\n\r\n            this.contextTimeLineG\r\n                .select(\".indicator-group\")\r\n                .append(\"line\")\r\n                .attr({\r\n                    \"class\": \"move-indicator\",\r\n                    \"x1\": this.center[0],\r\n                    \"x2\": this.center[0],\r\n                    \"y1\": this.viewInnerHeight - this.contextTimeLineHeight - this.padding.bottom,\r\n                    \"y2\": this.viewInnerHeight - this.padding.bottom,\r\n                })\r\n                .style({\r\n                    \"stroke\": \"red\",\r\n                    \"stroke-width\": \"1px\",\r\n                    \"stroke-opacity\": 0.5\r\n                });\r\n            // context legend \r\n            this.contextTimeLineG\r\n                .append(\"g\").attr(\"class\", \"legend-group\")\r\n                .selectAll(\"text\")\r\n                .data([0, 1, 2, 3, 4])\r\n                .enter().append(\"text\")\r\n                .attr({\r\n                    \"x\": (d, i) => { let tempD = this.contextXscale.domain()[0].getTime() + (this.contextXscale.domain()[1].getTime() - this.contextXscale.domain()[0].getTime()) * i * 0.25; return this.contextXscale(tempD) - 7; },\r\n                    \"y\": this.viewInnerHeight - this.padding.bottom + 10\r\n                })\r\n                .text((d, i) => {\r\n                    let tempD = this.contextXscale.domain()[0].getTime() + (this.contextXscale.domain()[1].getTime() - this.contextXscale.domain()[0].getTime()) * i * 0.25; return this.dateFormat(new Date(tempD));\r\n                });\r\n        },\r\n        InitView(timeLinePosition = null) {\r\n            console.log(\"init view\");\r\n            this.animation && this.animation.interrupt();\r\n            //clear\r\n            this.focusTimeLineViewScale = 1;\r\n            this.focusDataScale = 1;\r\n            let videoData = this.clickData[this.selectedVideo];\r\n            let tempL1A = videoData.clickDataGroupByTimeArray[1],\r\n                tempL2A = videoData.clickDataGroupByTimeArray[this.zoomScaleMax];\r\n            this.calOutLier(tempL1A);\r\n            this.calOutLier(tempL2A);\r\n\r\n            for (let i = 0, len = tempL1A.length; i < len; ++i) {\r\n                tempL1A[i].firstDrop = true;\r\n            }\r\n            for (let i = 0, len = tempL2A.length; i < len; ++i) {\r\n                tempL2A[i].firstDrop = true;\r\n            }\r\n\r\n            switch (timeLinePosition) {\r\n                case \"middle\": {\r\n                    this.contextTimeLineY = this.center[1] * 0.9;\r\n                    this.$refs.bubbleFloatComponent\r\n                        .setPosition(0, this.padding.bottom + 10)\r\n                        .setSize([this.viewInnerWidth, this.height * 0.8]);\r\n                    break;\r\n                }\r\n                case \"down\": {\r\n                    this.contextTimeLineY = this.height * 0.8;\r\n                    this.$refs.bubbleFloatComponent\r\n                        .setPosition(0, 30)\r\n                        .setSize([this.viewInnerWidth, this.height * 0.7]);\r\n                    break;\r\n                }\r\n                default: {\r\n                    this.contextTimeLineY = this.padding.top;\r\n                    this.$refs.bubbleFloatComponent\r\n                        .setPosition(0, this.viewInnerHeight + this.titleHeight)\r\n                        .setSize([this.viewInnerWidth, this.height - this.viewInnerHeight]);\r\n                }\r\n            }\r\n\r\n            this.zoomInView = [this.center[0], this.halfTimeLineHeight, this.viewInnerWidth];\r\n            this.zoomOutView = [this.center[0], this.timeLineHeight, this.viewInnerWidth * 2];\r\n            //modify the domain of xScale for focus view\r\n            this.focusXscale\r\n                .range([this.padding.left, this.width - this.padding.right])\r\n                .domain([d3.time.hour.offset(this.xDomainMin, -5), d3.time.hour.offset(this.xDomainMin, 5)]);\r\n\r\n            // clear the svg\r\n            this.contextTimeLineG && this.contextTimeLineG.selectAll(\"*\").remove();\r\n            this.svg.select(\"defs\").selectAll(\"*\").remove();\r\n\r\n            this.drawFisheyeContextTimeLine(tempL1A);\r\n\r\n            this.zoomIn = false;\r\n            this.focusTimeLineViewScale = 1;\r\n\r\n            let syncDelay = 0.3;\r\n            this.$refs.bubbleFloatComponent\r\n                .drawStackChart(timeLinePosition, this.selectedVideo)\r\n                .start();\r\n                \r\n            this.animation = d3.select(\"svg.screen-scroll-svg\");\r\n            this.AnimationFisheyeTick(this.baseDuration);\r\n        },\r\n        AnimationUpdateDigitalClock(date) {\r\n            if (!this.digitalClock) return;\r\n            if (typeof date === \"number\" || typeof date === \"string\") date = new Date(date);\r\n            this.digitalClock.select(\"text.date\").text(this.dateFormat(date));\r\n            this.digitalClock.select(\"text.time\").text(this.timeFormat(date));\r\n        },\r\n        AnimationFisheyeTick(duration, ease = \"linear\") {\r\n            let stop = false;\r\n            this.animation.transition().duration(duration).ease(ease)\r\n                .each(\"interrupt\", () => {\r\n                    console.log(\"interrupt\");\r\n                    this.contextTimeLineG.selectAll(\".bar-chart\").interrupt().transition();\r\n                    this.contextTimeLineG.select(\".time-line-chart\").interrupt().transition();\r\n                    this.contextTimeLineG.selectAll(\"circle.indicator\").interrupt().transition();\r\n                    this.contextTimeLineG.interrupt().transition();\r\n                    this.contextTimeLineG.select(\".legend-group\").selectAll(\"text\").interrupt().transition();\r\n                    stop = true;\r\n                })\r\n                .each(() => {\r\n                    // update the domains\r\n                    let self = this;\r\n                    let focusRegionWidth = this.focusRegionWidth;\r\n                    let contextXscale = this.contextXscale;\r\n                    let fisheyeScaleSize = this.focusRegionScale;\r\n                    let barWidth = focusRegionWidth * 0.5 / fisheyeScaleSize;\r\n                    let centerX = this.center[0];\r\n\r\n                    let startLine = this.center[0] + 0.5 * focusRegionWidth;\r\n                    let endLine = startLine - focusRegionWidth / fisheyeScaleSize;\r\n                    let lastRange = this.contextXscale.range();\r\n                    let moveRangeWidth = this.focusMoveRange;\r\n                    let currentRange = [lastRange[0] - moveRangeWidth, lastRange[1] - moveRangeWidth];\r\n\r\n                    // reach the end\r\n                    if (currentRange[1] <= endLine) {\r\n                        this.animation.interrupt();\r\n                        this.$refs.bubbleFloatComponent.canBeFinished(true);\r\n                        return;\r\n                    }\r\n\r\n                    this.contextTimeLineG.selectAll(\".bar-chart\")\r\n                        .transition()\r\n                        .tween(\"x\", function (d) {\r\n                            let interpolateRange = d3.interpolateNumber(0, moveRangeWidth);\r\n                            let sX = contextXscale(d.ts) - 0.5;\r\n                            return function (t) {\r\n                                let tempX = sX - interpolateRange(t);\r\n                                if (tempX < startLine) {\r\n                                    if (tempX > endLine) {\r\n                                        tempX = startLine - (0.5 + startLine - tempX) * fisheyeScaleSize;\r\n                                        d3.select(this).attr(\"width\", barWidth).attr(\"x\", tempX);\r\n\r\n                                        if (tempX < centerX && d.firstDrop) {\r\n                                            d.firstDrop = false;\r\n                                            self.$refs\r\n                                                .bubbleFloatComponent\r\n                                                .inputClicks(d.value, d)\r\n                                                .drawClicks();\r\n                                        }\r\n                                    } else {\r\n                                        tempX = tempX - 0.5 * fisheyeScaleSize - (1 - 1 / fisheyeScaleSize) * focusRegionWidth;\r\n                                        d3.select(this).attr(\"width\", 1).attr(\"x\", tempX);\r\n                                    }\r\n                                } else {\r\n                                    d3.select(this).attr(\"width\", 1).attr(\"x\", tempX);\r\n                                }\r\n                            };\r\n                        });\r\n\r\n                    this.contextTimeLineG.select(\".time-line-chart\").select(\"path\")\r\n                        .transition()\r\n                        .attrTween(\"d\", (d, i, a) => {\r\n                            let interpolateRange = d3.interpolateNumber(0, moveRangeWidth);\r\n                            let lastOffset = 0;\r\n                            return (t) => {\r\n                                let offset = interpolateRange(t);\r\n                                for (let i = 0; i < this.timelineChartData.length; ++i) {\r\n                                    let d = this.timelineChartData[i];\r\n                                    d.ox -= (offset - lastOffset);\r\n                                    if (d.ox < startLine) {\r\n                                        if (d.ox > endLine) {\r\n                                            d.x = startLine - (startLine - d.ox) * fisheyeScaleSize;\r\n                                        } else {\r\n                                            d.x = d.ox - 0.5 * fisheyeScaleSize - (1 - 1 / fisheyeScaleSize) * focusRegionWidth;\r\n                                        }\r\n                                    } else {\r\n                                        d.x = d.ox;\r\n                                    }\r\n                                }\r\n                                lastOffset = offset;\r\n                                return this.timelineChartLineGen(this.timelineChartData);\r\n                            }\r\n                        });\r\n\r\n                    this.contextTimeLineG\r\n                        .transition()\r\n                        .tween(\"centerTime\", () => {\r\n                            let interpolateRange = d3.interpolateNumber(0, moveRangeWidth);\r\n                            return (t) => {\r\n                                let offset = interpolateRange(t);\r\n                                let tempX = startLine - (startLine - this.center[0]) / fisheyeScaleSize;\r\n                                this.AnimationUpdateDigitalClock(this.contextXscale.invert(tempX + offset));\r\n                                this.$refs.bubbleFloatComponent.AnimationUpdateDigitalClock(this.contextXscale.invert(tempX + offset));\r\n                            }\r\n                        });\r\n\r\n                    // TODO the x-coordinate is not correct\r\n                    let sY = this.viewInnerHeight - this.padding.bottom + 2;\r\n                    this.contextTimeLineG.select(\"g.indicator-group\").selectAll(\".indicator\")\r\n                        .transition()\r\n                        .tween(\"cx\", function (d) {\r\n                            let interpolateRange = d3.interpolateNumber(0, moveRangeWidth);\r\n                            let sX = contextXscale(d.ts);\r\n\r\n                            return function (t) {\r\n                                let tempX = sX - interpolateRange(t);\r\n                                if (tempX < startLine) {\r\n                                    if (tempX > endLine) {\r\n                                        d3.select(this)\r\n                                            .attr(\"transform\", \"translate(\" + [startLine - (0.875 + startLine - tempX) * fisheyeScaleSize, sY] + \")\");\r\n\r\n                                    } else {\r\n                                        d3.select(this)\r\n                                            .attr(\"transform\", \"translate(\" + [tempX - 0.5 * fisheyeScaleSize - (1 - 1 / fisheyeScaleSize) * focusRegionWidth, sY] + \")\");\r\n                                    }\r\n                                } else {\r\n                                    d3.select(this)\r\n                                        .attr(\"transform\", \"translate(\" + [tempX, sY] + \")\");\r\n                                }\r\n                            };\r\n                        });\r\n\r\n                    this.contextTimeLineG.select(\".legend-group\").selectAll(\"text\")\r\n                        .transition()\r\n                        .tween(\"x\", (d, i) => {\r\n                            let interpolateRange = d3.interpolateNumber(0, moveRangeWidth);\r\n                            let sX = contextXscale.domain()[0].getTime() + (contextXscale.domain()[1].getTime() - contextXscale.domain()[0].getTime()) * i * 0.25;\r\n                            sX = this.contextXscale(sX);\r\n                            return function (t) {\r\n                                let tempX = sX - interpolateRange(t);\r\n                                if (tempX < startLine) {\r\n                                    if (tempX > endLine) {\r\n                                        d3.select(this).attr(\"x\", startLine - (0.25 + startLine - tempX) * fisheyeScaleSize);\r\n                                    } else {\r\n                                        d3.select(this).attr(\"x\", tempX - (1 - 1 / fisheyeScaleSize) * focusRegionWidth);\r\n                                    }\r\n                                } else {\r\n                                    d3.select(this).attr(\"x\", tempX);\r\n                                }\r\n                            };\r\n                        });\r\n\r\n                    this.contextXscale.range(currentRange);\r\n\r\n                    let tempL1A = this.clickData[this.selectedVideo].clickDataGroupByTimeArray[this.focusTimeLineViewScale];\r\n                    this.zoomIn = false;\r\n                    for (let i = 0, len = tempL1A.outliers.length; i < len; ++i) {\r\n                        let tempX = this.contextXscale(tempL1A.outliers[i].ts);//- moveRangeWidth;\r\n                        if (tempX <= startLine && tempX > endLine) {\r\n                            this.zoomIn = true;\r\n                        }\r\n                    }\r\n\r\n                })\r\n                .transition().duration(10)\r\n                .each(\"end\", () => {\r\n                    if (!stop && this.focusXscale.domain()[1] < this.xDomainMax) {\r\n                        if (this.isAcceleration && !this.zoomIn) {\r\n                            switch (this.accelerateMode) {\r\n                                case \"domain\": {\r\n                                    this.focusTimeLineViewScale = this.zoomScaleMax;\r\n                                    this.AccelerateByDomain(this.zoomScaleMax);\r\n                                    this.$refs.bubbleFloatComponent.accelerateBallsDropping(this.zoomScaleMax);\r\n                                    break;\r\n                                }\r\n                                case \"screen\": {\r\n                                    this.zoomIn = true;\r\n                                    this.focusDataScale = this.focusTimeLineViewScale = this.zoomScaleMax;\r\n                                    this.zoomOutView = [this.zoomInView[0] + this.viewInnerWidth * 0.5,\r\n                                        this.timeLineHeight,\r\n                                        this.viewInnerWidth * this.focusTimeLineViewScale];\r\n                                    this.AccelerateByScreen(duration, this.zoomInView, this.zoomOutView);\r\n                                    break;\r\n                                }\r\n                            }\r\n                        } else if (this.isAcceleration && this.zoomIn) {\r\n                            switch (this.accelerateMode) {\r\n                                case \"domain\": {\r\n                                    this.focusTimeLineViewScale = 1;\r\n                                    this.AccelerateByDomain(1);\r\n                                    this.$refs.bubbleFloatComponent.accelerateBallsDropping(1)\r\n                                    break;\r\n                                }\r\n                                case \"screen\": {\r\n                                    this.zoomIn = false;\r\n                                    this.focusDataScale = this.focusTimeLineViewScale = 1;\r\n                                    this.zoomInView = [this.zoomOutView[0] + this.viewInnerWidth * 0.5,\r\n                                        this.timeLineHeight * 0.5,\r\n                                        this.viewInnerWidth * this.focusTimeLineViewScale];\r\n                                    this.AccelerateByScreen(duration, this.zoomOutView, this.zoomInView);\r\n                                    break;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            this.AnimationFisheyeTick(duration);\r\n                        }\r\n                    }\r\n                });\r\n        },\r\n        Pause() {\r\n            console.log(\"pause\");\r\n            this.animation.interrupt();\r\n            this.$refs.bubbleFloatComponent.pause();\r\n        },\r\n        Resume() {\r\n            this.AnimationFisheyeTick(this.baseDuration);\r\n            this.$refs.bubbleFloatComponent.resume();\r\n        },\r\n        AccelerateByDomain(scale) {\r\n            let targetDuration = this.baseDuration / scale;\r\n            let sourceDuration = this.baseDuration / (scale != 1 ? 1 : this.zoomScaleMax);\r\n            let offset = (targetDuration - sourceDuration) * 0.2;\r\n            if (this.currentDuration != targetDuration) this.currentDuration += offset;\r\n            this.AnimationFisheyeTick(this.currentDuration);\r\n        },\r\n        AccelerateByScreen(duration, start, end) {\r\n            console.log(\"accelerate by screen\");\r\n            this.animation.interrupt();\r\n            this.selectVideoDisabled = true;\r\n            let originalFocusXscale = this.focusXscale.copy();\r\n            let halfScreen = end[2] * 0.5;\r\n            this.focusXscale.domain([end[0] - halfScreen, end[0] + halfScreen].map(originalFocusXscale.invert));\r\n            this.selectVideoDisabled = false;\r\n            this.AnimationTick(duration);\r\n        }\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/NoBallDrop/no-ball-drop.js","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/keys.js\n// module id = 16\n// module chunks = 0","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/keys.js\n// module id = 17\n// module chunks = 0","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object')\n  , $keys    = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.keys.js\n// module id = 18\n// module chunks = 0","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-object.js\n// module id = 19\n// module chunks = 0","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_defined.js\n// module id = 20\n// module chunks = 0","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-keys.js\n// module id = 21\n// module chunks = 0","var has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-keys-internal.js\n// module id = 22\n// module chunks = 0","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_has.js\n// module id = 23\n// module chunks = 0","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-iobject.js\n// module id = 24\n// module chunks = 0","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iobject.js\n// module id = 25\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_cof.js\n// module id = 26\n// module chunks = 0","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_array-includes.js\n// module id = 27\n// module chunks = 0","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-length.js\n// module id = 28\n// module chunks = 0","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-integer.js\n// module id = 29\n// module chunks = 0","var toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-index.js\n// module id = 30\n// module chunks = 0","var shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_shared-key.js\n// module id = 31\n// module chunks = 0","var global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_shared.js\n// module id = 32\n// module chunks = 0","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_global.js\n// module id = 33\n// module chunks = 0","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_uid.js\n// module id = 34\n// module chunks = 0","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_enum-bug-keys.js\n// module id = 35\n// module chunks = 0","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-sap.js\n// module id = 36\n// module chunks = 0","var global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_export.js\n// module id = 37\n// module chunks = 0","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_core.js\n// module id = 38\n// module chunks = 0","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_ctx.js\n// module id = 39\n// module chunks = 0","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_a-function.js\n// module id = 40\n// module chunks = 0","var dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_hide.js\n// module id = 41\n// module chunks = 0","var anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-dp.js\n// module id = 42\n// module chunks = 0","var isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_an-object.js\n// module id = 43\n// module chunks = 0","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_is-object.js\n// module id = 44\n// module chunks = 0","module.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_ie8-dom-define.js\n// module id = 45\n// module chunks = 0","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_descriptors.js\n// module id = 46\n// module chunks = 0","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_fails.js\n// module id = 47\n// module chunks = 0","var isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_dom-create.js\n// module id = 48\n// module chunks = 0","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-primitive.js\n// module id = 49\n// module chunks = 0","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_property-desc.js\n// module id = 50\n// module chunks = 0","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"remove\\\":true}!css!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./BubbleFloat.vue\")\n__vue_script__ = require(\"!!babel-loader!./bubble-float.js\")\nif (__vue_script__ &&\n    __vue_script__.__esModule &&\n    Object.keys(__vue_script__).length > 1) {\n  console.warn(\"[vue-loader] src\\\\components\\\\BubbleFloat\\\\BubbleFloat.vue: named exports in *.vue files are ignored.\")}\n__vue_template__ = require(\"!!vue-html-loader!./../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./BubbleFloat.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/BubbleFloat/BubbleFloat.vue\n// module id = 56\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"remove\":true}!./~/css-loader!./~/vue-loader/lib/style-rewriter.js!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/BubbleFloat/BubbleFloat.vue\n// module id = 57\n// module chunks = 0","import d3 from 'd3';\r\n\r\nimport MoveLayout from './../../Static/MoveEngine.js';\r\n\r\nexport default {\r\n    ready() {\r\n        this.InitVariables();\r\n    },\r\n\r\n    doc: null,\r\n    timeFormat: null,\r\n    stackLayout: null,\r\n    singleYScale: null,\r\n    singleXScale: null,\r\n    frontGroundStackbar: null,\r\n    timeLineAxis: null,\r\n    moveLayout: null,\r\n    moveLayout2: null,\r\n    videosData: {},\r\n    nodesToAdd: [],\r\n    nodesToAdd2: [],\r\n    xAxisGen: null,\r\n    yAxisGen: null,\r\n    xAxis: null,\r\n    yAxis: null,\r\n    xAxisTimeFormat: null,\r\n    areaGen: null,\r\n    frontGroundAreaGen: null,\r\n    borderLineGen: null,\r\n    digitalClock: null,\r\n    digitalTimeFormat: null,\r\n    digitalDateFormat: null,\r\n    digitalClockHourScale: null,\r\n    digitalClockMinuteScale: null,\r\n    digitalClockRadius: null,\r\n    digitalClockHourHandLength: null,\r\n    digitalClockMinuteHandLength: null,\r\n    digitalClockHandData: null,\r\n\r\n    boundarys: {},\r\n    boundarysUpOrDown: {},\r\n\r\n    data() {\r\n        return {\r\n            padding: { top: 0, left: 100, bottom: 50, right: 50 },\r\n            chartWidth: 500,\r\n            chartHeight: 400,\r\n            barHeight: 400,\r\n            timeInterval: 60,\r\n            stackBarWidth: 30,\r\n            stackBarMaxY: -Infinity,\r\n            stackBarMaxIndex: 1,\r\n            is2D: false,\r\n            isFragmentChart: false,\r\n            gDirection: 1,\r\n            gMagnitude: 1.8,\r\n\r\n            chartTemplate: null,\r\n            layersName: [1, 2, 3],\r\n            clickColor: {\r\n                \"pause\": \"#FFC107\",\r\n                \"play\": \"#80CBC4\",\r\n                \"seeked\": \"#03A9F4\",\r\n                \"error\": \"#607D8B\",\r\n                \"ratechange\": \"#00BCD4\",\r\n                \"stalled\": \"#EF5350\"\r\n            },\r\n            orderMapping: {\r\n                \"stalled\": 0,\r\n                \"ratechange\": 1,\r\n                \"play\": 2,\r\n                \"seeked\": 3,\r\n                \"pause\": 4,\r\n                //\"error\": 5,\r\n            },\r\n            clickBallSplitThreshold: 20,\r\n            //Count for test\r\n            count2: 0,\r\n            count20: 0,\r\n            timer: 0,\r\n            sumTime: 0\r\n        };\r\n    },\r\n    methods: {\r\n        InitVariables() {\r\n            let self = this;\r\n            this.doc = d3.select(this.$el);\r\n            this.timeLineTimeFormat = d3.time.format(\"%b %d %H:%M\");\r\n            this.xAxisTimeFormat = d3.time.format(\"%M:%S\");\r\n            this.stackLayout = d3.layout.stack()\r\n                .offset(\"zero\")\r\n                .values(function(d) { return d.values; })\r\n                .x(function(d) { return d.x; })\r\n                .y(function(d) { return d.y; });\r\n\r\n            this.singleXScale = d3.scale.linear()\r\n                .range([this.padding.left, this.chartWidth - this.padding.right]);\r\n            this.singleYScale = d3.scale.linear()\r\n                .range([this.chartHeight - this.padding.bottom, this.chartHeight - this.barHeight]);\r\n\r\n            this.chartTemplate = '<svg class=\"bubble-float-svg\" width=' + (this.chartWidth) + ' height=' + (this.chartHeight) + '></svg><canvas class=\"bubble-float-canvas\" width=' + this.chartWidth + ' height=' + (this.chartHeight - this.padding.bottom) + '></canvas>';\r\n            this.nodesToAdd = [];\r\n\r\n            this.xAxisGen = d3.svg.axis()\r\n                .scale(this.singleXScale)\r\n                .tickSize(6, 0)\r\n                .orient(\"bottom\");\r\n\r\n            this.yAxisGen = d3.svg.axis()\r\n                .scale(this.singleYScale)\r\n                .ticks(4)\r\n                .tickSize(6, 0)\r\n                .orient(\"left\");\r\n\r\n            this.areaGen = d3.svg.area()\r\n                .interpolate(\"basis\")\r\n                .x((d) => { return this.singleXScale(d.x); })\r\n                .y0((d) => { return this.singleYScale(d.y0); })\r\n                .y1((d) => { return this.singleYScale(d.y + d.y0); })\r\n                ;\r\n            this.frontGroundAreaGen = d3.svg.area()\r\n                .interpolate(\"basis\")\r\n                .x((d) => { return this.singleXScale(d.x); })\r\n                .y0((d) => { return this.singleYScale(d.y0); })\r\n                .y1((d) => { return this.singleYScale(d.y0 + d.clickNum); })\r\n                ;\r\n            this.borderLineGen = d3.svg.line()\r\n                .x((d) => { return this.singleXScale(d.x); })\r\n                .y((d) => { return this.singleYScale(d.y0); })\r\n                .interpolate(\"basis\")\r\n                ;\r\n\r\n            this.digitalDateFormat = d3.time.format(\"%b %d\");\r\n            this.digitalTimeFormat = d3.time.format(\"%H:%M\");\r\n        },\r\n        setTimeInterval(t) {\r\n            if (!t) return;\r\n            this.timeInterval = t;\r\n            if (this.videosData) {\r\n                let keys = Object.keys(this.videosData);\r\n                for (let i = 0, len = keys.length; i < len; ++i) {\r\n                    this.videosData[keys[i]].hasAggregate = false;\r\n                }\r\n            }\r\n\r\n            return this;\r\n        },\r\n        setPosition(left, top) {\r\n            d3.select(this.$el).style({\r\n                \"top\": top + \"px\",\r\n                \"left\": left + \"px\"\r\n            });\r\n\r\n            return this;\r\n        },\r\n        setSize(s) {\r\n            if (Array.isArray(s)) {\r\n                this.chartWidth = s[0];\r\n                this.chartHeight = s[1];\r\n                this.chartTemplate = '<svg class=\"bubble-float-svg\" width=' + (this.chartWidth) + ' height=' + (this.chartHeight) + '></svg><canvas class=\"bubble-float-canvas\" width=' + this.chartWidth + ' height=' + (this.chartHeight - this.padding.bottom) + '></canvas>';\r\n                this.singleXScale\r\n                    .range([this.padding.left, this.chartWidth - this.padding.right]);\r\n                this.singleYScale\r\n                    .range([this.chartHeight - this.padding.bottom, this.chartHeight - this.barHeight]);\r\n                this.xAxisGen.scale(this.singleXScale);\r\n                this.yAxisGen.scale(this.singleYScale);\r\n            }\r\n\r\n            return this;\r\n        },\r\n        setBarHeight(h) {\r\n            if (typeof h === \"number\") {\r\n                this.barHeight = h;\r\n                this.singleYScale\r\n                    .range([this.chartHeight - this.padding.bottom, this.chartHeight - h]);\r\n            }\r\n            return this;\r\n        },\r\n        setPadding(p) {\r\n            if (typeof p === \"object\") {\r\n                this.padding = p;\r\n            }\r\n            return this;\r\n        },\r\n        setIs2D(t) {\r\n            if (typeof t === \"boolean\") {\r\n                this.is2D = t;\r\n            }\r\n            return this;\r\n        },\r\n        setFragmentpadding(p) {\r\n            if (typeof p === \"number\") {\r\n                this.fragmentPadding = p;\r\n            }\r\n            return this;\r\n        },\r\n        videosData(data) {\r\n\r\n            let stackGraphIds = Object.keys(data);\r\n            let stackGraphs = stackGraphIds.map(function(d) { return data[d]; });\r\n            this.layersName = stackGraphs[0].layers.filter(d => d.name != \"error\").map((d) => {\r\n                return d.name;\r\n            });\r\n            this.videosData = data;\r\n            return this;\r\n        },\r\n        getTimeInterval() {\r\n            return this.timeInterval;\r\n        },\r\n        getVideoLength(videoId) {\r\n            let data = this.videosData[videoId];\r\n            return data.layers[0].values.length;\r\n        },\r\n        processData(data) {\r\n            if (!data) return;\r\n            // aggregate the clicks by time\r\n            if (!data.hasAggregate) {\r\n                for (let i = 0, len = data.layers.length; i < len; ++i) {\r\n                    let layer = data.layers[i];\r\n                    let oldValues = layer.values,\r\n                        newValues = [];\r\n                    for (let j = 0, lenj = Math.ceil(oldValues.length / this.timeInterval); j < lenj; ++j) {\r\n                        newValues.push({ x: j, y: 0 });\r\n                    }\r\n\r\n                    for (let j = 1, lenj = oldValues.length; j < lenj; ++j) {\r\n                        let newIndex = Math.floor(j / this.timeInterval);\r\n                        newValues[newIndex].y += oldValues[j].y;\r\n                    }\r\n                    layer.values = newValues;\r\n                    layer._original_values = oldValues;\r\n                }\r\n                data.maxTime = Math.floor(data.maxTime / this.timeInterval);\r\n\r\n                let maxY = -Infinity;\r\n                // calculate the max Y\r\n                for (let i = 0, len = data.layers[0].values.length; i < len; ++i) {\r\n                    let tempSum = 0;\r\n                    for (let j = 0, lenj = data.layers.length; j < lenj; ++j) {\r\n                        tempSum += data.layers[j].values[i].y;\r\n                    }\r\n                    if (tempSum > maxY) maxY = tempSum;\r\n                }\r\n                data.maxSumValues = maxY;\r\n                this.stackBarMaxY = maxY;\r\n                this.stackBarMaxIndex = data.maxTime;\r\n                data.hasAggregate = true;\r\n            }\r\n\r\n            // sort the order;\r\n\r\n            let sortedlayers = [];\r\n            this.layersName = [];\r\n            for (let i = 0, len = data.layers.length, d; i < len; ++i) {\r\n                d = data.layers[i];\r\n                sortedlayers[this.orderMapping[d.name]] = d;\r\n                this.layersName[this.orderMapping[d.name]] = d.name;\r\n            }\r\n            data.layers = sortedlayers;\r\n            this.layersName = this.layersName.reverse();\r\n            //update scale\r\n            this.singleXScale.domain([0, data.maxTime]);\r\n            this.singleYScale.domain([0, data.maxSumValues]);\r\n            //update axis-gen\r\n            this.xAxisGen.scale(this.singleXScale);\r\n            this.yAxisGen.scale(this.singleYScale);\r\n        },\r\n        calBoundarys(chart) {\r\n            // init boundary\r\n            let boundary = {},\r\n                tPath, tPathLength, roundDist, isLowerChart,\r\n                tempPlainLayerData = [],\r\n                len = 0;\r\n            //if (this.isFragmentChart) this.layersName.unshift(\"zero_\");\r\n            for (let i = 0, len = this.layersName.length; i < len; ++i) {\r\n                let layerName = this.layersName[i];\r\n                tPath = chart.select(\"g.layer-border.\" + layerName);\r\n                isLowerChart = tPath.select(function() { return this.parentNode; }).classed(\"lower-chart\");\r\n                tPath = tPath.select(\"path\").node();\r\n                tPathLength = Math.floor(tPath.getTotalLength());\r\n                boundary[layerName] = { pathLength: tPathLength, isLowerChart: isLowerChart, values: [] };\r\n                roundDist = [];\r\n\r\n                for (let j = 0, point, index, dist; j < tPathLength; ++j) {\r\n                    point = tPath.getPointAtLength(j);\r\n                    index = Math.round(point.x);\r\n                    dist = Math.abs(point.x - index);\r\n                    if (roundDist[index]) {\r\n                        if (dist < roundDist[index]) {\r\n                            roundDist[index] = dist;\r\n                            boundary[layerName]['values'][index] = point.y;\r\n                        }\r\n                    } else {\r\n                        roundDist[index] = dist;\r\n                        boundary[layerName]['values'][index] = point.y;\r\n                    }\r\n                }\r\n            }\r\n            this.boundarys = boundary;\r\n        },\r\n        drawFregmentStackBarChart(videoId) {\r\n            this.isFragmentChart = true;\r\n            this.boundarysUpOrDown = {};\r\n            this.clean();\r\n            this.processData(this.videosData[videoId]);\r\n\r\n            this.singleYScale.range([(this.chartHeight - this.padding.bottom) * 0.5, this.chartHeight - this.barHeight * 0.5]);\r\n            this.chartTemplate = '<svg class=\"bubble-float-svg\" width=' + (this.chartWidth) + ' height=' + (this.chartHeight + this.fragmentPadding) + '></svg><canvas class=\"bubble-float-canvas\" width=' + this.chartWidth + ' height=' + (this.chartHeight - this.padding.bottom + this.fragmentPadding) + '></canvas>';\r\n\r\n            let chart = this.doc.append(\"div\")\r\n                .attr({\r\n                    \"id\": videoId,\r\n                    \"class\": \"bubble-float-chart\"\r\n                })\r\n                .html(this.chartTemplate)\r\n                .select(\"svg\")\r\n                ;\r\n\r\n            let maxIndex = this.singleXScale.domain()[1];\r\n            this.stackBarWidth = this.chartWidth / maxIndex;\r\n            this.xAxisGen.ticks(maxIndex);\r\n\r\n            // stack data \r\n            let data = this.stackLayout(this.videosData[videoId].layers.filter(function(d, i) { return i >= 3; }));\r\n            let data2 = this.stackLayout(this.videosData[videoId].layers.filter(function(d, i) { return i < 3; }));\r\n\r\n            // append stackBar\r\n            chart.append(\"g\")\r\n                .attr(\"class\", \"back-ground upper-chart\")\r\n                .selectAll(\"g.layer\")\r\n                .data(data).enter()\r\n                .append(\"g\")\r\n                .attr(\"class\", function(d) { return \"layer \" + d.name; })\r\n                .append(\"path\")\r\n                .attr(\"d\", (d) => { return this.areaGen(d.values); })\r\n                ;\r\n\r\n            chart.append(\"g\")\r\n                .attr(\"class\", \"back-ground lower-chart\")\r\n                .attr(\"transform\", \"translate(0,\" + (this.fragmentPadding + this.chartHeight * 0.5) + \")\")\r\n                .selectAll(\"g.layer\")\r\n                .data(data2).enter()\r\n                .append(\"g\")\r\n                .attr(\"class\", function(d) { return \"layer \" + d.name; })\r\n                .append(\"path\")\r\n                .attr(\"d\", (d) => { return this.areaGen(d.values); })\r\n                ;\r\n\r\n            let tempUppest = data[data.length - 1].values.map(function(d) { return { x: d.x, y0: d.y + d.y0 }; });\r\n            this.layersName.unshift(\"zero_\");\r\n            chart.select(\"g.back-ground.upper-chart\")\r\n                .selectAll(\"g.layer-border\")\r\n                .data(data.concat([{ name: \"zero_\", values: tempUppest }])).enter()\r\n                .append(\"g\")\r\n                .attr(\"class\", function(d) { return \"layer-border \" + d.name; })\r\n                .append(\"path\")\r\n                .attr(\"d\", (d) => { return this.borderLineGen(d.values); })\r\n                ;\r\n\r\n            this.borderLineGen\r\n                .y((d) => { return this.fragmentPadding + this.chartHeight * 0.5 + this.singleYScale(d.y0); })\r\n                ;\r\n            chart.select(\"g.back-ground.lower-chart\")\r\n                .selectAll(\"g.layer-border\")\r\n                .data(data2).enter()\r\n                .append(\"g\")\r\n                .attr(\"class\", function(d) { return \"layer-border \" + d.name; })\r\n                .append(\"path\")\r\n                .attr(\"d\", (d) => { return this.borderLineGen(d.values); })\r\n                ;\r\n\r\n            this.calBoundarys(chart);\r\n\r\n            for (let i = 0, len = data.length; i < len; ++i) {\r\n                for (let j = 0, lenj = data[i].values.length; j < lenj; ++j) {\r\n                    data[i].values[j].clickNum = 0;\r\n                }\r\n                this.boundarysUpOrDown[data[i].name] = this.chartHeight * 0.5;\r\n            }\r\n            for (let i = 0, len = data2.length; i < len; ++i) {\r\n                for (let j = 0, lenj = data2[i].values.length; j < lenj; ++j) {\r\n                    data2[i].values[j].clickNum = 0;\r\n                }\r\n                this.boundarysUpOrDown[data2[i].name] = this.chartHeight * 0.5 + this.fragmentPadding;\r\n            }\r\n\r\n            this.frontGroundStackbar = chart.append(\"g\")\r\n                .attr(\"class\", \"front-ground\");\r\n            this.frontGroundStackbar\r\n                .selectAll(\"g.layer upper-chart\")\r\n                .data(data).enter()\r\n                .append(\"g\")\r\n                .attr(\"class\", function(d) { return \"layer \" + d.name; })\r\n                .append(\"path\")\r\n                .attr(\"d\", (d) => { return this.frontGroundAreaGen(d.values); })\r\n                ;\r\n            this.frontGroundStackbar\r\n                .selectAll(\"g.layer lower-chart\")\r\n                .data(data2).enter()\r\n                .append(\"g\")\r\n                .attr(\"class\", function(d) { return \"layer \" + d.name; })\r\n                .append(\"path\").attr(\"transform\", \"translate(0,\" + (this.fragmentPadding + this.chartHeight * 0.5) + \")\")\r\n                .attr(\"d\", (d) => { return this.frontGroundAreaGen(d.values); })\r\n                ;\r\n\r\n            this.drawLegends(chart, chart);\r\n            this.resetMoveLayout(chart);\r\n\r\n            return this;\r\n        },\r\n        drawStackAreaChart(videoId) {\r\n            this.isFragmentChart = false;\r\n            this.clean();\r\n            this.processData(this.videosData[videoId]);\r\n\r\n            let chart = this.doc.append(\"div\")\r\n                .attr({\r\n                    \"id\": videoId,\r\n                    \"class\": \"bubble-float-chart\"\r\n                })\r\n                .html(this.chartTemplate)\r\n                .select(\"svg\")\r\n                ;\r\n\r\n            let maxIndex = this.singleXScale.domain()[1];\r\n            this.stackBarWidth = this.chartWidth / maxIndex;\r\n            this.xAxisGen.ticks(maxIndex);\r\n\r\n            // stack data \r\n            let data = this.stackLayout(this.videosData[videoId].layers);\r\n            // append stackBar\r\n            chart.append(\"g\")\r\n                .attr(\"class\", \"back-ground upper-chart\")\r\n                .selectAll(\"g.layer\")\r\n                .data(data).enter()\r\n                .append(\"g\")\r\n                .attr(\"class\", function(d) { return \"layer \" + d.name; })\r\n                .append(\"path\")\r\n                .attr(\"d\", (d) => { return this.areaGen(d.values); });\r\n\r\n            let tempUppest = data[data.length - 1].values.map(function(d) { return { x: d.x, y0: d.y + d.y0 }; });\r\n            this.layersName.unshift(\"zero_\");\r\n            chart.select(\"g.back-ground.upper-chart\")\r\n                .selectAll(\"g.layer-border\")\r\n                .data(data.concat([{ name: \"zero_\", values: tempUppest }])).enter()\r\n                .append(\"g\")\r\n                .attr(\"class\", function(d) { return \"layer-border \" + d.name; })\r\n                .append(\"path\")\r\n                .attr(\"d\", (d) => { return this.borderLineGen(d.values); })\r\n                ;\r\n\r\n            this.calBoundarys(chart);\r\n\r\n            for (let i = 0, len = data.length; i < len; ++i) {\r\n                for (let j = 0, lenj = data[i].values.length; j < lenj; ++j) {\r\n                    data[i].values[j].clickNum = 0;\r\n                }\r\n            }\r\n\r\n            this.frontGroundStackbar = chart.append(\"g\")\r\n                .attr(\"class\", \"front-ground\");\r\n            this.frontGroundStackbar\r\n                .selectAll(\"g.layer upper-chart\")\r\n                .data(data).enter()\r\n                .append(\"g\")\r\n                .attr(\"class\", function(d) { return \"layer \" + d.name; })\r\n                .append(\"path\")\r\n                .attr(\"d\", (d) => { return this.frontGroundAreaGen(d.values); })\r\n                ;\r\n\r\n            this.drawLegends(chart);\r\n            this.resetMoveLayout(chart);\r\n            return this;\r\n        },\r\n        drawNoStackChart(videoId) {\r\n            this.isFragmentChart = false;\r\n            this.clean();\r\n            this.processData(this.videosData[videoId]);\r\n            this.layersName.unshift(\"zero_\");\r\n            let chart = this.doc.append(\"div\")\r\n                .attr({\r\n                    \"id\": videoId,\r\n                    \"class\": \"bubble-float-chart\"\r\n                })\r\n                .html(this.chartTemplate)\r\n                .select(\"svg\");\r\n\r\n            this.drawLegends(chart);\r\n            this.resetMoveLayout(chart);\r\n            return this;\r\n        },\r\n        drawStackChart(position, videoId) {\r\n            switch (position) {\r\n                case \"middle\": {\r\n                    this.drawFregmentStackBarChart(videoId);\r\n                    break;\r\n                }\r\n                case \"down\": {\r\n                    this.gDirection = -1;\r\n                    this.drawStackAreaChart(videoId);\r\n                    break;\r\n                }\r\n                default: {\r\n                    this.gDirection = 1;\r\n                    this.drawStackAreaChart(videoId);\r\n                }\r\n            }\r\n            return this;\r\n        },\r\n        drawLegends(chart, chart2) {\r\n            this.xAxis = chart.select(\"g.back-ground.upper-chart\").append(\"g\")\r\n                .attr({\r\n                    \"class\": \"x axis\",\r\n                    \"transform\": \"translate(\" + [-this.stackBarWidth * 0.5, this.chartHeight - this.padding.bottom] + \")\"\r\n                })\r\n                .call(this.xAxisGen);\r\n            this.xAxis\r\n                .selectAll(\".tick text\")\r\n                .text((d, i) => {\r\n                    if (i & 1)\r\n                        return this.xAxisTimeFormat(new Date(this.timeInterval * d * 1000));\r\n                });\r\n            this.xAxis.append(\"text\")\r\n                .attr({\r\n                    \"class\": \"caption\",\r\n                    \"x\": this.chartWidth * 0.5,\r\n                    \"y\": this.padding.bottom - 5\r\n                })\r\n                .text(\"Video Progress\");\r\n\r\n            this.yAxis = chart.select(\"g.back-ground.upper-chart\").append(\"g\")\r\n                .attr({\r\n                    \"class\": \"y axis\",\r\n                    \"transform\": \"translate(\" + [this.padding.left, 0] + \")\"\r\n                })\r\n                .call(this.yAxisGen);\r\n\r\n            this.yAxis.append(\"text\")\r\n                .attr({\r\n                    \"class\": \"caption vertical-caption\",\r\n                    \"x\": - this.chartHeight + this.barHeight * 0.5 + this.padding.bottom,\r\n                    \"y\": -45\r\n                })\r\n                .text(\"Number of Clicks\");\r\n\r\n            if (chart2) {\r\n                this.xAxis.attr(\"transform\", \"translate(\" + [-this.stackBarWidth * 0.5, (this.chartHeight - this.padding.bottom) * 0.5] + \")\");\r\n\r\n                chart2.select(\"g.back-ground.lower-chart\").append(\"g\")\r\n                    .attr({\r\n                        \"class\": \"x axis\",\r\n                        \"transform\": \"translate(\" + [-this.stackBarWidth * 0.5, (this.chartHeight - this.padding.bottom) * 0.5] + \")\"\r\n                    })\r\n                    .call(this.xAxisGen);\r\n\r\n                chart2.select(\"g.back-ground.lower-chart\").append(\"g\")\r\n                    .attr(\"class\", \"y axis\")\r\n                    .call(this.yAxisGen);\r\n            }\r\n\r\n\r\n            let legends = chart.append(\"g\")\r\n                .attr({\r\n                    \"class\": \"legend\",\r\n                    \"transform\": \"translate(\" + [this.chartWidth - this.padding.left, 10] + \")\"\r\n                })\r\n                .selectAll(\"g.legend-rect\")\r\n                .data(this.layersName.filter((d, i) => { return i; }))\r\n                .enter()\r\n                .append(\"g\")\r\n                .attr(\"class\", function(d) { return \"legend-rect \" + d; });\r\n\r\n            legends\r\n                .append(\"rect\")\r\n                .attr({\r\n                    \"y\": (d, i) => { return i * 25; },\r\n                    \"height\": 20,\r\n                    \"width\": 20\r\n                })\r\n                ;\r\n\r\n            legends\r\n                .append(\"text\")\r\n                .attr({\r\n                    \"y\": (d, i) => { return i * 25 + 15; },\r\n                    \"x\": - 5,\r\n                })\r\n                .style({\r\n                    \"text-anchor\": \"end\",\r\n                })\r\n                .text(function(d) { return d; });\r\n\r\n            this.timeLineAxis = chart.append(\"g\")\r\n                .attr(\"class\", \"timeline axis\")\r\n                .attr(\"transform\", \"translate(\" + [this.chartWidth * 0.5, this.chartHeight - this.barHeight - 10] + \")\")\r\n                .style(\"opacity\", 1e-6);\r\n            this.timeLineAxis.append(\"line\").attr({ \"x1\": -50, \"x2\": 50, \"y1\": -20, \"y2\": -20 });\r\n            this.timeLineAxis.append(\"text\");\r\n\r\n            //draw digital clock\r\n            this.drawDigitalClock(chart);\r\n        },\r\n        drawDigitalClock(chart) {\r\n            this.digitalClock = chart.append(\"g\")\r\n                .attr(\"class\", \"clock-group\")\r\n                .attr(\"transform\", \"translate(\" + [this.chartWidth * 0.5, 60] + \")\");\r\n            // this.digitalClock\r\n            //     .append(\"line\")\r\n            //     .attr({\r\n            //         \"x1\": - 150,\r\n            //         \"y1\": 80,\r\n            //         \"y2\": 80,\r\n            //         \"x2\": 150\r\n            //     });\r\n            // this.digitalClock\r\n            //     .append(\"text\")\r\n            //     .attr({\r\n            //         \"class\": \"date\",\r\n            //         \"y\":150\r\n            //     })\r\n            //     .text(\"TEST\");\r\n            this.digitalClock\r\n                .append(\"line\")\r\n                .attr({\r\n                    \"x1\": - 150,\r\n                    \"y1\": 20,\r\n                    \"y2\": 20,\r\n                    \"x2\": 150\r\n                });\r\n            this.digitalClock\r\n                .append(\"text\")\r\n                .attr({\r\n                    \"class\": \"date\"\r\n                })\r\n                .text(\"TEST\");\r\n            this.digitalClock\r\n                .append(\"text\")\r\n                .attr({\r\n                    \"class\": \"time\",\r\n                    \"y\": 85\r\n                })\r\n                .text(\"TEST\");\r\n\r\n            // this.digitalClockHourScale = d3.scale.linear()\r\n            //     .range([0, 330])\r\n            //     .domain([0, 11]);\r\n\r\n            // this.digitalClockMinuteScale = d3.scale.linear()\r\n            //     .range([0, 354])\r\n            //     .domain([0, 59]);\r\n\r\n            // this.digitalClockRadius = 60;\r\n            // this.digitalClockHourHandLength = 2 * this.digitalClockRadius / 3;\r\n            // this.digitalClockHandData = [\r\n            //     {\r\n            //         type: 'hour',\r\n            //         value: 0,\r\n            //         length: - this.digitalClockHourHandLength,\r\n            //         scale: this.digitalClockHourScale\r\n            //     }\r\n            // ];\r\n            // let circleClock = this.digitalClock.append(\"g\").attr(\"class\", \"analog-clock\").attr(\"transform\", \"translate(0,\" + 10 + \")\");\r\n            // circleClock\r\n            //     .append(\"circle\")\r\n            //     .attr(\"class\", \"clockface\")\r\n            //     .attr(\"r\", this.digitalClockRadius);\r\n            // circleClock.selectAll(\".clockhand\")\r\n            //     .data(this.digitalClockHandData).enter()\r\n            //     .append('line')\r\n            //     .attr('class', function(d) {\r\n            //         return d.type + '-hand clockhand';\r\n            //     })\r\n            //     .attr('x1', 0)\r\n            //     .attr('y1', function(d) {\r\n            //         return d.balance ? d.balance : 0;\r\n            //     })\r\n            //     .attr('x2', 0)\r\n            //     .attr('y2', function(d) {\r\n            //         return d.length;\r\n            //     })\r\n            //     .attr('transform', function(d) {\r\n            //         return 'rotate(' + d.scale(d.value) + ')';\r\n            //     });\r\n            // circleClock\r\n            //     .append(\"circle\")\r\n            //     .attr(\"class\", \"centerdot\")\r\n            //     .attr(\"r\", 2);\r\n\r\n        },\r\n        AnimationUpdateDigitalClock(date) {\r\n            if (!this.digitalClock) return;\r\n            if (typeof date === \"number\" || typeof date === \"string\") date = new Date(date);\r\n            //this.digitalClock.select(\"text.date\").text(this.digitalDateFormat(date)+\" \"+this.digitalTimeFormat(date));\r\n            this.digitalClock.select(\"text.date\").text(this.digitalDateFormat(date));\r\n            this.digitalClock.select(\"text.time\").text(this.digitalTimeFormat(date));\r\n\r\n            // this.digitalClockHandData[0].value = (date.getHours() % 12) + date.getMinutes() / 60;\r\n            // this.digitalClock.select(\"g.analog-clock\").selectAll(\"line\").data(this.digitalClockHandData)\r\n            //     .transition()\r\n            //     .attr('transform', function(d) {\r\n            //         return 'rotate(' + d.scale(d.value) + ')';\r\n            //     });\r\n        },\r\n        resetMoveLayout() {\r\n            let context = this.doc.select(\"canvas\").node().getContext(\"2d\");\r\n            let tickFunc = (e) => {\r\n                const TWOPI = 2 * Math.PI;\r\n                let gy = e.gy;\r\n                let balls = e.balls,\r\n                    i = -1,\r\n                    ball,\r\n                    n = balls.length;\r\n                let bounds = e.bounds;\r\n                context.clearRect(bounds[0][0], bounds[0][1], bounds[1][0] - bounds[0][0], bounds[1][1] - bounds[0][1]);\r\n                let tickTsData = {};\r\n                let minBall = { dist: -Infinity, barTs: 0 };\r\n                while (++i < n) {\r\n                    ball = balls[i];\r\n                    if (ball.fixed) continue;\r\n                    context.beginPath();\r\n                    context.fillStyle = ball.color;\r\n                    context.arc(ball.x, ball.y, ball.r, 0, TWOPI);\r\n                    context.fill();\r\n\r\n                    //if (gy == this.gMagnitude) {\r\n                    if (ball.y < (this.chartHeight - this.barHeight)) {\r\n                        if (ball.y > (this.chartHeight - this.barHeight - 20)) {\r\n                            if (ball.y > minBall.dist) {\r\n                                minBall.dist = ball.y;\r\n                                minBall.barTs = ball.barTs;\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                    //}\r\n                }\r\n                // if (minBall.barTs === 0) {\r\n                //     this.timeLineAxis.transition().style(\"opacity\", 1e-6);\r\n                // } else {\r\n                //     this.timeLineAxis.transition().style(\"opacity\", 1).select(\"text\").text(this.timeLineTimeFormat(new Date(+minBall.barTs)));\r\n                // }\r\n\r\n\r\n                // let len = Object.keys(tickTsData).length;\r\n                // let ticks = this.timeLineAxis.selectAll(\".tick\").data(Object.keys(tickTsData), function(d){ return d;});\r\n                // ticks.enter().append(\"g\").attr(\"class\",\"tick\").append(\"text\").text((d)=>{ return this.timeLineTimeFormat(new Date(+d));});\r\n                // ticks.attr(\"transform\", function(d){ return \"translate(0,\"+tickTsData[d]+\")\";});\r\n                // ticks.exit().remove();\r\n\r\n            };\r\n            let sedFunc = (e) => {\r\n                let firstPassNodes = e.firstPassNodes;\r\n                if (this.frontGroundStackbar) {\r\n                    for (let i = 0, len = firstPassNodes.length, node, frontData; i < len; ++i) {\r\n                        node = firstPassNodes[i];\r\n                        frontData = this.frontGroundStackbar.select(\"g.layer.\" + node.boundary).data()[0].values;\r\n                        frontData[node.xIndex].clickNum += node.clickNum;\r\n\r\n                    }\r\n\r\n                    for (let i = 0, len = e.sedLayers.length; i < len; ++i) {\r\n                        this.frontGroundStackbar.select(\"g.layer.\" + e.sedLayers[i])\r\n                            .select(\"path\")\r\n                            .transition()\r\n                            .attr(\"d\", (d) => { return this.frontGroundAreaGen(d.values); });\r\n                    }\r\n                }\r\n            };\r\n\r\n            let endFunc = (e) => {\r\n                this.frontGroundAreaGen\r\n                    .y1((d) => { return this.singleYScale(d.y0 + d.y); });\r\n\r\n                this.frontGroundStackbar.selectAll(\"g.layer\")\r\n                    .select(\"path\")\r\n                    .transition()\r\n                    .attr(\"d\", (d) => { return this.frontGroundAreaGen(d.values); });\r\n            }\r\n\r\n            if (this.isFragmentChart) {\r\n                this.moveLayout = MoveLayout([])\r\n                    .friction(4)\r\n                    .gravity([0, - this.gDirection * Infinity, this.gMagnitude])\r\n                    .bounds([[this.padding.left, 0], [this.chartWidth - this.padding.right, this.fragmentPadding + (this.chartHeight - this.padding.bottom) * 0.5]])\r\n                    .boundary(this.boundarys)\r\n                    .on('tick', tickFunc)\r\n                    .on('sed', sedFunc)\r\n                    .on('end', endFunc)\r\n                    ;\r\n                this.moveLayout2 = MoveLayout([])\r\n                    .friction(4)\r\n                    .gravity([0, this.gDirection * Infinity, this.gMagnitude])\r\n                    .bounds([[this.padding.left, this.fragmentPadding + (this.chartHeight - this.padding.bottom) * 0.5], [this.chartWidth - this.padding.right, this.fragmentPadding + this.chartHeight - this.padding.bottom]])\r\n                    .boundary(this.boundarys)\r\n                    .on('tick', tickFunc)\r\n                    .on('sed', sedFunc)\r\n                    .on('end', endFunc)\r\n                    ;\r\n            } else {\r\n                this.moveLayout = MoveLayout([])\r\n                    .friction(4)\r\n                    .gravity([0, this.gDirection * Infinity, 0])\r\n                    .bounds([[this.padding.left, 0], [this.chartWidth - this.padding.right, this.chartHeight - this.padding.bottom]])\r\n                    .boundary(this.boundarys)\r\n                    //.isAABBBoundary(true)\r\n                    .on('tick', tickFunc)\r\n                    .on('sed', sedFunc)\r\n                    .on('end', endFunc)\r\n                    ;\r\n            }\r\n        },\r\n        accelerateBallsDropping(m) {\r\n            if (this.moveLayout && typeof m === \"number\") {\r\n                this.moveLayout\r\n                    .gravity([0, this.gDirection * Infinity, m * this.gMagnitude]);\r\n            }\r\n        },\r\n        bubbleInitYPositionGen() {\r\n            if (this.is2D) {\r\n                let layersName = Object.keys(this.boundarys);\r\n                if (this.isFragmentChart) {\r\n                    return (ball) => {\r\n                        let layer = ball.boundary;\r\n                        let lastLayerIndex = layersName[layersName.indexOf(layer) - 1];\r\n                        let localUperBoundary = this.boundarys[lastLayerIndex];\r\n                        let upperY;\r\n                        if (localUperBoundary && localUperBoundary.isLowerChart === this.boundarys[layer].isLowerChart) {\r\n                            upperY = localUperBoundary.values[Math.round(ball.x)] + ball.r;\r\n                        } else {\r\n                            upperY = this.boundarys[layer].values[Math.round(ball.x)] - 60;\r\n                        }\r\n                        return upperY;\r\n                    };\r\n                } else {\r\n                    return (ball) => {\r\n                        let layer = ball.boundary;\r\n                        let lastLayerIndex = layersName[layersName.indexOf(layer) - 1];\r\n                        let localUperBoundary = this.boundarys[lastLayerIndex] && this.boundarys[lastLayerIndex].values;\r\n                        let upperY = localUperBoundary ? localUperBoundary[Math.round(ball.x)] + ball.r : this.boundarys[layer].values[Math.round(ball.x)] - 60;\r\n\r\n                        return upperY;\r\n                    };\r\n                }\r\n            } else {\r\n                if (this.isFragmentChart) {\r\n                    return (ball) => { return this.boundarysUpOrDown[ball.boundary] + 5 + Math.random() * 20; };\r\n                } else {\r\n                    return () => { return this.gDirection > 0 ? 50 + Math.random() * 20 : (this.height - this.padding.bottom) * 0.9; };\r\n                }\r\n\r\n            }\r\n        },\r\n        inputClicks(clicksData, d) {\r\n            let ballsToAdd = {};\r\n            let maxClicks = 1;\r\n            for (let i = 0, len = clicksData.length; i < len; ++i) {\r\n                let click = clicksData[i];\r\n                let xIndex = Math.floor(click.currentTime / this.timeInterval);\r\n\r\n                let boundaryIndex = click.type + \"-\" + xIndex;\r\n                if (boundaryIndex in ballsToAdd) {\r\n                    ++ballsToAdd[boundaryIndex].clickNum;\r\n                    if (ballsToAdd[boundaryIndex].clickNum > maxClicks) maxClicks = ballsToAdd[boundaryIndex].clickNum;\r\n                } else {\r\n                    let xPos = this.singleXScale(xIndex);\r\n                    xPos = xPos + (xIndex >= this.stackBarMaxIndex ? -this.stackBarWidth : this.stackBarWidth * Math.random());\r\n                    ballsToAdd[boundaryIndex] = {\r\n                        'boundary': click.type,\r\n                        \"xIndex\": xIndex,\r\n                        'barTs': d.ts,\r\n                        'x': xPos,\r\n                        'clickNum': 1,\r\n                        'color': this.clickColor[click.type]\r\n                    };\r\n                }\r\n            }\r\n\r\n\r\n            let yGen = this.bubbleInitYPositionGen();\r\n            let ballsKeys = Object.keys(ballsToAdd);\r\n            let balls = [],\r\n                balls2 = [];\r\n            for (let i = 0, len = ballsKeys.length, ballCandidate; i < len; ++i) {\r\n                ballCandidate = ballsToAdd[ballsKeys[i]];\r\n                ballCandidate.r = 0.8 * ballCandidate.clickNum;// / maxClicks;\r\n                ballCandidate.y = yGen(ballCandidate);\r\n                ballCandidate.py = ballCandidate.y - 2;\r\n                let tempBallCandidates = [],\r\n                    rThreshold = this.getOffsetBetweenUpAndDown(ballCandidate);\r\n                if (ballCandidate.r > rThreshold) {\r\n                    // if need to split\r\n                    let totalR = ballCandidate.r;\r\n                    while (totalR - rThreshold > 0) {\r\n                        tempBallCandidates.push({\r\n                            'boundary': ballCandidate.boundary,\r\n                            \"xIndex\": ballCandidate.xIndex,\r\n                            'x': ballCandidate.x,\r\n                            'y': ballCandidate.y,\r\n                            'py': ballCandidate.py,\r\n                            'barTs': ballCandidate.barTs,\r\n                            'r': rThreshold,\r\n                            'clickNum': 0, // no need to cal the clickNum of split balls\r\n                            'color': ballCandidate.color\r\n                        });\r\n                        totalR -= rThreshold;\r\n                    }\r\n                    tempBallCandidates.push({\r\n                        'boundary': ballCandidate.boundary,\r\n                        \"xIndex\": ballCandidate.xIndex,\r\n                        'x': ballCandidate.x,\r\n                        'y': ballCandidate.y,\r\n                        'py': ballCandidate.py,\r\n                        'barTs': ballCandidate.barTs,\r\n                        'r': totalR,\r\n                        'clickNum': ballCandidate.clickNum, // no need to cal the clickNum of split balls\r\n                        'color': ballCandidate.color\r\n                    });\r\n                } else {\r\n                    // no need to split\r\n                    tempBallCandidates.push(ballCandidate);\r\n                }\r\n\r\n                if (this.isFragmentChart) {\r\n                    // if fragment chart, push the balls to differrnt movelayout\r\n                    for (let j = 0, lenj = tempBallCandidates.length; j < lenj; ++j) {\r\n                        let ball = tempBallCandidates[j];\r\n                        if (this.boundarysUpOrDown[ball.boundary] <= this.chartHeight * 0.5) {\r\n                            balls.push(ball);\r\n                        } else {\r\n                            balls2.push(ball);\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n                    for (let j = 0, lenj = tempBallCandidates.length; j < lenj; ++j) {\r\n                        balls.push(tempBallCandidates[j]);\r\n                    }\r\n                }\r\n            }\r\n            this.nodesToAdd = balls;\r\n            if (this.isFragmentChart) {\r\n                this.nodesToAdd2 = balls2;\r\n            }\r\n            return this;\r\n        },\r\n        getOffsetBetweenUpAndDown(ball) {\r\n            if (!this.boundarys) return this.clickBallSplitThreshold;\r\n            let boundaryKeys = Object.keys(this.boundarys);\r\n            let lastBoundaryKey = boundaryKeys[boundaryKeys.indexOf(ball.boundary) - 1];\r\n            let uperBoundary = this.boundarys[lastBoundaryKey] && this.boundarys[lastBoundaryKey].values;\r\n            if (!uperBoundary) return this.clickBallSplitThreshold;\r\n\r\n            let lowerBoundary = this.boundarys[ball.boundary].values;\r\n            let upperY = uperBoundary[Math.round(ball.x)];\r\n            let lowerY = lowerBoundary[Math.round(ball.x)];\r\n            let offset = lowerY - upperY;\r\n            return Math.min(offset * 0.5, this.clickBallSplitThreshold);\r\n\r\n        },\r\n        testMoveLayout(node) {\r\n            this.moveLayout.addNode(node);\r\n        },\r\n        drawClicks() {\r\n            if (this.moveLayout && this.nodesToAdd.length) {\r\n\r\n                this.moveLayout.addNodes(this.nodesToAdd);\r\n                this.nodesToAdd = undefined;\r\n                if (this.isFragmentChart) {\r\n                    this.moveLayout2.addNodes(this.nodesToAdd2);\r\n                    this.nodesToAdd2 = undefined;\r\n                }\r\n            }\r\n\r\n            return this;\r\n        },\r\n        canBeFinished(t) {\r\n            if (typeof t === \"boolean\") {\r\n                this.moveLayout.canBeFinished(t);\r\n            }\r\n            return this;\r\n        },\r\n        finish() {\r\n            console.log(\"finish\");\r\n            this.moveLayout.finish();\r\n\r\n        },\r\n        clean() {\r\n            this.chartTemplate = '<svg class=\"bubble-float-svg\" width=' + (this.chartWidth) + ' height=' + (this.chartHeight) + '></svg><canvas class=\"bubble-float-canvas\" width=' + this.chartWidth + ' height=' + (this.chartHeight - this.padding.bottom) + '></canvas>';\r\n            this.singleYScale.range([this.chartHeight - this.padding.bottom, this.chartHeight - this.barHeight]);\r\n            this.borderLineGen.y((d) => { return this.singleYScale(d.y0); });\r\n            this.frontGroundAreaGen.y1((d) => { return this.singleYScale(d.y0 + d.clickNum); });\r\n            this.nodesToAdd = this.nodesToAdd2 = undefined;\r\n            this.doc.select(\"div\").remove();\r\n            this.moveLayout && this.moveLayout.remove();\r\n            this.moveLayout2 && this.moveLayout2.remove();\r\n            this.moveLayout2 = undefined;\r\n\r\n        },\r\n        start() {\r\n            this.moveLayout && this.moveLayout.start();\r\n            if (this.isFragmentChart) {\r\n                this.moveLayout2 && this.moveLayout2.start();\r\n            }\r\n        },\r\n        pause() {\r\n            this.moveLayout && this.moveLayout.pause();\r\n        },\r\n        resume() {\r\n            this.moveLayout && this.moveLayout.resume();\r\n        }\r\n\r\n    },\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/BubbleFloat/bubble-float.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/typeof.js\n// module id = 59\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/symbol/iterator.js\n// module id = 60\n// module chunks = 0","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/symbol/iterator.js\n// module id = 61\n// module chunks = 0","'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.string.iterator.js\n// module id = 62\n// module chunks = 0","var toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_string-at.js\n// module id = 63\n// module chunks = 0","'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iter-define.js\n// module id = 64\n// module chunks = 0","module.exports = true;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_library.js\n// module id = 65\n// module chunks = 0","module.exports = require('./_hide');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_redefine.js\n// module id = 66\n// module chunks = 0","module.exports = {};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iterators.js\n// module id = 67\n// module chunks = 0","'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iter-create.js\n// module id = 68\n// module chunks = 0","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = require('./_an-object')\n  , dPs         = require('./_object-dps')\n  , enumBugKeys = require('./_enum-bug-keys')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-create.js\n// module id = 69\n// module chunks = 0","var dP       = require('./_object-dp')\n  , anObject = require('./_an-object')\n  , getKeys  = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-dps.js\n// module id = 70\n// module chunks = 0","module.exports = require('./_global').document && document.documentElement;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_html.js\n// module id = 71\n// module chunks = 0","var def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_set-to-string-tag.js\n// module id = 72\n// module chunks = 0","var store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_wks.js\n// module id = 73\n// module chunks = 0","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = require('./_has')\n  , toObject    = require('./_to-object')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gpo.js\n// module id = 74\n// module chunks = 0","require('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/web.dom.iterable.js\n// module id = 75\n// module chunks = 0","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.array.iterator.js\n// module id = 76\n// module chunks = 0","module.exports = function(){ /* empty */ };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_add-to-unscopables.js\n// module id = 77\n// module chunks = 0","module.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iter-step.js\n// module id = 78\n// module chunks = 0","exports.f = require('./_wks');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_wks-ext.js\n// module id = 79\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/symbol.js\n// module id = 80\n// module chunks = 0","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/symbol/index.js\n// module id = 81\n// module chunks = 0","'use strict';\n// ECMAScript 6 symbols shim\nvar global         = require('./_global')\n  , has            = require('./_has')\n  , DESCRIPTORS    = require('./_descriptors')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , META           = require('./_meta').KEY\n  , $fails         = require('./_fails')\n  , shared         = require('./_shared')\n  , setToStringTag = require('./_set-to-string-tag')\n  , uid            = require('./_uid')\n  , wks            = require('./_wks')\n  , wksExt         = require('./_wks-ext')\n  , wksDefine      = require('./_wks-define')\n  , keyOf          = require('./_keyof')\n  , enumKeys       = require('./_enum-keys')\n  , isArray        = require('./_is-array')\n  , anObject       = require('./_an-object')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , createDesc     = require('./_property-desc')\n  , _create        = require('./_object-create')\n  , gOPNExt        = require('./_object-gopn-ext')\n  , $GOPD          = require('./_object-gopd')\n  , $DP            = require('./_object-dp')\n  , $keys          = require('./_object-keys')\n  , gOPD           = $GOPD.f\n  , dP             = $DP.f\n  , gOPN           = gOPNExt.f\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , PROTOTYPE      = 'prototype'\n  , HIDDEN         = wks('_hidden')\n  , TO_PRIMITIVE   = wks('toPrimitive')\n  , isEnum         = {}.propertyIsEnumerable\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , OPSymbols      = shared('op-symbols')\n  , ObjectProto    = Object[PROTOTYPE]\n  , USE_NATIVE     = typeof $Symbol == 'function'\n  , QObject        = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(dP({}, 'a', {\n    get: function(){ return dP(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = gOPD(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  dP(it, key, D);\n  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){\n  return typeof it == 'symbol';\n} : function(it){\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if(has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  it  = toIObject(it);\n  key = toPrimitive(key, true);\n  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;\n  var D = gOPD(it, key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = gOPN(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var IS_OP  = it === ObjectProto\n    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!USE_NATIVE){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function(value){\n      if(this === ObjectProto)$set.call(OPSymbols, value);\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f   = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f  = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./_library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function(name){\n    return wrap(wks(name));\n  }\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});\n\nfor(var symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);\n\nfor(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    if(isSymbol(key))return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it){\n    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n    var args = [it]\n      , i    = 1\n      , replacer, $replacer;\n    while(arguments.length > i)args.push(arguments[i++]);\n    replacer = args[1];\n    if(typeof replacer == 'function')$replacer = replacer;\n    if($replacer || !isArray(replacer))replacer = function(key, value){\n      if($replacer)value = $replacer.call(this, key, value);\n      if(!isSymbol(value))return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.symbol.js\n// module id = 82\n// module chunks = 0","var META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_meta.js\n// module id = 83\n// module chunks = 0","var global         = require('./_global')\n  , core           = require('./_core')\n  , LIBRARY        = require('./_library')\n  , wksExt         = require('./_wks-ext')\n  , defineProperty = require('./_object-dp').f;\nmodule.exports = function(name){\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_wks-define.js\n// module id = 84\n// module chunks = 0","var getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_keyof.js\n// module id = 85\n// module chunks = 0","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys')\n  , gOPS    = require('./_object-gops')\n  , pIE     = require('./_object-pie');\nmodule.exports = function(it){\n  var result     = getKeys(it)\n    , getSymbols = gOPS.f;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = pIE.f\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);\n  } return result;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_enum-keys.js\n// module id = 86\n// module chunks = 0","exports.f = Object.getOwnPropertySymbols;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gops.js\n// module id = 87\n// module chunks = 0","exports.f = {}.propertyIsEnumerable;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-pie.js\n// module id = 88\n// module chunks = 0","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_is-array.js\n// module id = 89\n// module chunks = 0","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject')\n  , gOPN      = require('./_object-gopn').f\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return gOPN(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it){\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gopn-ext.js\n// module id = 90\n// module chunks = 0","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys      = require('./_object-keys-internal')\n  , hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){\n  return $keys(O, hiddenKeys);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gopn.js\n// module id = 91\n// module chunks = 0","var pIE            = require('./_object-pie')\n  , createDesc     = require('./_property-desc')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , has            = require('./_has')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , gOPD           = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P){\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if(IE8_DOM_DEFINE)try {\n    return gOPD(O, P);\n  } catch(e){ /* empty */ }\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gopd.js\n// module id = 92\n// module chunks = 0","require('./_wks-define')('asyncIterator');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es7.symbol.async-iterator.js\n// module id = 94\n// module chunks = 0","require('./_wks-define')('observable');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es7.symbol.observable.js\n// module id = 95\n// module chunks = 0","export default function(data) {\r\n    let move = {},\r\n        uIdGen = -1,\r\n        nodes = data,\r\n        rToShrink = 2,\r\n        bounds = [[0, 0], [600, 800]],\r\n        boundary = null,\r\n        isAABBBoundary = false,\r\n        isBoundaryGroup = false,\r\n        boundaryGroupKeys = [],\r\n        worldWidth,\r\n        worldHeight,\r\n        timeFrame = 0.05, //s\r\n        stepNumPerFrame = 2,\r\n        timeScale = 10,\r\n        isDirectionGravity = null,\r\n        gravity = null,\r\n        friction = null,\r\n        canBeFinished = false,\r\n        firstPassNodes = [],\r\n        eventHandler = {\r\n            'tick': function() { },\r\n            'sed': function() { },\r\n            'end': function() { }\r\n        },\r\n        raf,\r\n        hack = {}\r\n        ;\r\n    function multiVec2(x1, y1, x2, y2) {\r\n        return x1 * x2 + y1 * y2;\r\n    }\r\n\r\n    function subVec2(x1, y1, x2, y2) {\r\n        return { x: x2 - x1, y: y2 - y1 };\r\n    }\r\n\r\n    function absVec2(x, y) {\r\n        return x * x + y * y;\r\n    }\r\n\r\n    function doSomething(node, node2, preserveImpulse) {\r\n        let x = (node2.x - node.x);\r\n        let l = x * x;\r\n        let r = node.r + node2.r;\r\n        r *= r;\r\n        if (l > r) return;\r\n\r\n        let y = (node2.y - node.y);\r\n        l += y * y;\r\n\r\n        if (l <= r) {\r\n            let d = Math.sqrt(l);\r\n            r = node.r + node2.r;\r\n\r\n            if (preserveImpulse) {\r\n                var v1x = node.x - node.px;\r\n                var v1y = node.y - node.py;\r\n                var v2x = node2.x - node2.px;\r\n                var v2y = node2.y - node2.py;\r\n            }\r\n\r\n            let penetration = d != 0 ? (d - r) : node.r; //d != 0 ? (d - r) : node.r;\r\n            let slop = (penetration / d) - 0.01;\r\n            slop = slop < 0 ? slop : 0;\r\n            let penetrationFactor = slop * 0.5 * 0.2;//20 percent;\r\n            let cx = penetrationFactor * x;\r\n            let cy = penetrationFactor * y;\r\n\r\n            //Need to update Collision Cells here\r\n            node.x = node.active ? node.x + cx : node.x;\r\n            node.y = node.active ? node.y + cy : node.y + cy;\r\n            node2.x = node2.active ? node2.x - cx : node2.x;\r\n            node2.y = node2.active ? node2.y - cy : node2.y - cy;\r\n\r\n            if (preserveImpulse) {\r\n\r\n                // Calculate relative velocity in terms of the normal direction\r\n                let velAlongNormal = x * (v2x - v1x) + y * (v2y - v1y)\r\n\r\n                if (velAlongNormal < 0) { //maybe greater than 0                         \r\n                    // Calculate restitution\r\n                    let jj = (1 + (node.restitution + node2.restitution) * 0.5) * velAlongNormal * 0.5 / l;\r\n                    v1x += jj * x;\r\n                    v1y += jj * y;\r\n                    v2x -= jj * x;\r\n                    v2y -= jj * y;\r\n\r\n                    node.px = node.active ? node.x - v1x : node.x;\r\n                    node.py = node.active ? node.y - v1y : node.y - v1y;\r\n                    node2.px = node2.active ? node2.x - v2x : node2.x;\r\n                    node2.py = node2.active ? node2.y - v2y : node2.y - v2y;\r\n                } //whether is true collide\r\n            }//whether is preserveImpulse\r\n\r\n        }// whether two ball is engae\r\n    }\r\n\r\n    function ResolveCollide(preserveImpulse) {\r\n        let node1, node2;\r\n        for (let i = 0, len = nodes.length; i < len; ++i) {\r\n            node1 = nodes[i];\r\n            if (node1.fixed) continue;\r\n            for (let j = i + 1; j < len; ++j) {\r\n                node2 = nodes[j];\r\n                if (node1 !== node2 && node2.boundary === node1.boundary) {\r\n                    doSomething(node1, node2, preserveImpulse);\r\n                }\r\n            }//for-loop of node2\r\n        }//for-loop of node1\r\n    }\r\n\r\n    function AABBBorder_collide(node) {\r\n        if (node.fixed) return;\r\n        //Detect collision of world        \r\n        let radius = node.r,\r\n            x = node.x,\r\n            y = node.y,\r\n            isFirstPass = node.firstPass\r\n            ;\r\n\r\n        //detect boundary\r\n        let localBoundary = isBoundaryGroup && boundary[node.boundary].values;\r\n\r\n        if (x < bounds[0][0] + radius) {\r\n            node.x = bounds[0][0] + radius;\r\n        } else if (x > bounds[1][0] - radius) {\r\n            node.x = bounds[1][0] - radius;\r\n        } else if (x < localBoundary[0][0] + radius) {\r\n            node.x = localBoundary[0][0] + radius;\r\n        } else if (x > localBoundary[1][0] - radius) {\r\n            node.x = localBoundary[1][0] - radius;\r\n        }\r\n\r\n        if (y < bounds[0][1] + radius) {\r\n            node.y = bounds[0][1] + radius;\r\n        } else if (y > bounds[1][1] - radius) {\r\n            node.y = bounds[1][1] - radius;\r\n        } else if (isDirectionGravity.y >= 0) {\r\n            if (y > localBoundary[1][1] - radius) {\r\n                node.y = localBoundary[1][1] - radius;\r\n            } else if (y < localBoundary[0][1] + radius && isFirstPass) {\r\n                node.y = localBoundary[0][1] + radius;\r\n            } else if (y > localBoundary[0][1] + radius && !isFirstPass) {\r\n                node.firstPass = true;\r\n            }\r\n        } else if (isDirectionGravity.y < 0) {\r\n            if (y < localBoundary[0][1] + radius) {\r\n                node.y = localBoundary[0][1] + radius;\r\n            } else if (y > localBoundary[1][1] - radius && isFirstPass) {\r\n                node.y = localBoundary[1][1] - radius;\r\n            } else if (y < localBoundary[1][1] - radius && !isFirstPass) {\r\n                node.firstPass = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    function AABBBorder_collide_preserve_impulse(node) {\r\n        if (node.fixed) return;\r\n        let radius = node.r,\r\n            x = node.x,\r\n            y = node.y;\r\n        let restitution = node.restitution;\r\n        let vx = (node.px - node.x) * restitution,\r\n            vy = (node.py - node.y) * restitution,\r\n            isFirstPass = node.firstPass\r\n            ;\r\n\r\n        //detect boundary\r\n        let localBoundary = isBoundaryGroup && boundary[node.boundary].values;\r\n\r\n        if (x < bounds[0][0] + radius) {\r\n            node.x = bounds[0][0] + radius;\r\n            node.px = node.active ? node.x - vx : node.x;\r\n        } else if (x > bounds[1][0] - radius) {\r\n            node.x = bounds[1][0] - radius;\r\n            node.px = node.active ? node.x - vx : node.x;\r\n        } else if (x < localBoundary[0][0] + radius) {\r\n            node.x = localBoundary[0][0] + radius;\r\n            node.px = node.active ? node.x - vx : node.x;\r\n        } else if (x > localBoundary[1][0] - radius) {\r\n            node.x = localBoundary[1][0] - radius;\r\n            node.px = node.active ? node.x - vx : node.x;\r\n        }\r\n\r\n        if (y < bounds[0][1] + radius) {\r\n            node.y = bounds[0][1] + radius;\r\n            node.py = node.active ? node.y - vy : node.y;\r\n        } else if (y > bounds[1][1] - radius) {\r\n            node.y = bounds[1][1] - radius;\r\n            node.py = node.active ? node.y - vy : node.y;\r\n        } else if (isDirectionGravity.y >= 0) {\r\n            if (y > localBoundary[1][1] - radius) {\r\n                node.y = localBoundary[1][1] - radius;\r\n                node.px = node.active ? node.x - vx : node.x;\r\n            } else if (y < localBoundary[0][1] + radius && isFirstPass) {\r\n                node.y = localBoundary[0][1] + radius;\r\n                node.px = node.active ? node.x - vx : node.x;\r\n            } else if (y > localBoundary[0][1] + radius && !isFirstPass) {\r\n                node.firstPass = true;\r\n            }\r\n        } else if (isDirectionGravity.y < 0) {\r\n            if (y < localBoundary[0][1] + radius) {\r\n                node.y = localBoundary[0][1] + radius;\r\n                node.px = node.active ? node.x - vx : node.x;\r\n            } else if (y > localBoundary[1][1] - radius && isFirstPass) {\r\n                node.y = localBoundary[1][1] - radius;\r\n                node.px = node.active ? node.x - vx : node.x;\r\n            } else if (y < localBoundary[1][1] - radius && !isFirstPass) {\r\n                node.firstPass = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    function Border_collide(node) {\r\n        if (node.fixed) return;\r\n        //Detect collision of world        \r\n        let radius = node.r,\r\n            x = node.x,\r\n            y = node.y,\r\n            isFirstPass = node.firstPass,\r\n            trriglePassEvent = false;\r\n        ;\r\n\r\n        //detect boundary\r\n\r\n        let boundaryKeys = isBoundaryGroup && Object.keys(boundary);\r\n        let lastBoundaryKey = isBoundaryGroup && boundaryKeys[boundaryKeys.indexOf(node.boundary) - 1];\r\n        let localUperBoundary = isBoundaryGroup && boundary[lastBoundaryKey] && boundary[lastBoundaryKey].values;\r\n        let localLowerBoundary = isBoundaryGroup && boundary[node.boundary].values;\r\n        let upperY = localUperBoundary ? localUperBoundary[Math.round(node.x)] + radius : bounds[0][1];\r\n        let lowerY = localLowerBoundary ? localLowerBoundary[Math.round(node.x)] - radius : bounds[1][1];\r\n        if(!isBoundaryGroup) upperY = bounds[1][1] * 0.85;\r\n\r\n        if (x < bounds[0][0] + radius) {\r\n            node.x = bounds[0][0] + radius;\r\n        } else if (x > bounds[1][0] - radius) {\r\n            node.x = bounds[1][0] - radius;\r\n        }\r\n\r\n        if (y < bounds[0][1] + radius) {\r\n            node.y = bounds[0][1] + radius;\r\n        } else if (y > bounds[1][1] - radius) {\r\n            node.y = bounds[1][1] - radius;\r\n        }\r\n        else if (isDirectionGravity.y >= 0) {\r\n            if (y > lowerY) {\r\n                node.y = lowerY;\r\n            } else if (y < upperY && isFirstPass) {\r\n                node.y = upperY;\r\n                node.py = node.y - radius;\r\n            } else if ((y + radius) > (upperY - radius) && !isFirstPass) {\r\n                node.firstPass = true;\r\n                trriglePassEvent = true;\r\n            }\r\n        } else if (isDirectionGravity.y < 0) {\r\n            if (y < upperY) {\r\n                node.y = upperY;\r\n            } else if (y > lowerY && isFirstPass) {\r\n                node.y = lowerY;\r\n                node.py = node.y + radius;\r\n            } else if ((y - radius) < (lowerY + radius) && !isFirstPass) {\r\n                node.firstPass = true;\r\n                trriglePassEvent = true;\r\n            }\r\n        }\r\n\r\n        return trriglePassEvent;\r\n    }\r\n\r\n    function Border_collide_preserve_impulse(node) {\r\n        if (node.fixed) return;\r\n        let radius = node.r,\r\n            x = node.x,\r\n            y = node.y;\r\n        let restitution = node.restitution;\r\n        let vx = (node.px - node.x) * restitution,\r\n            vy = (node.py - node.y) * restitution,\r\n            isFirstPass = node.firstPass,\r\n            trriglePassEvent = false;\r\n\r\n        //detect boundary\r\n        let boundaryKeys = isBoundaryGroup && Object.keys(boundary);\r\n        let lastBoundaryKey = isBoundaryGroup && boundaryKeys[boundaryKeys.indexOf(node.boundary) - 1];\r\n        let localUperBoundary = isBoundaryGroup && boundary[lastBoundaryKey] && boundary[lastBoundaryKey].values;\r\n        let localLowerBoundary = isBoundaryGroup && boundary[node.boundary].values;\r\n        let upperY = localUperBoundary ? localUperBoundary[Math.round(node.x)] + radius : bounds[0][1];\r\n        let lowerY = localLowerBoundary ? localLowerBoundary[Math.round(node.x)] - radius : bounds[1][1];\r\n        if(!isBoundaryGroup) upperY = bounds[1][1] * 0.85;\r\n\r\n        if (x < bounds[0][0] + radius) {\r\n            node.x = bounds[0][0] + radius;\r\n            node.px = node.active ? node.x - vx : node.x;\r\n        } else if (x > bounds[1][0] - radius) {\r\n            node.x = bounds[1][0] - radius;\r\n            node.px = node.active ? node.x - vx : node.x;\r\n        }\r\n\r\n        if (y < bounds[0][1] + radius) {\r\n            node.y = bounds[0][1] + radius;\r\n            node.py = node.active ? node.y - vy : node.y;\r\n        }\r\n        else if (y > bounds[1][1] - radius) {\r\n            node.y = bounds[1][1] - radius;\r\n            node.py = node.active ? node.y - vy : node.y;\r\n        } else if (isDirectionGravity.y >= 0) {\r\n            if (y > lowerY) {\r\n                node.y = lowerY;\r\n                node.px = node.active ? node.x - vx : node.x;\r\n            } else if (y < upperY && isFirstPass) {\r\n                node.y = upperY;\r\n                node.py = node.y - radius;\r\n                node.px = node.active ? node.x - vx : node.x;\r\n            } else if ((y + radius) > (upperY - radius) && !isFirstPass) {\r\n                node.firstPass = true;\r\n                trriglePassEvent = true;\r\n            }\r\n        } else if (isDirectionGravity.y < 0) {\r\n            if (y < upperY) {\r\n                node.y = upperY;\r\n                node.px = node.active ? node.x - vx : node.x;\r\n            } else if (y > lowerY && isFirstPass) {\r\n                node.y = lowerY;\r\n                node.py = node.y + radius;\r\n                node.px = node.active ? node.x - vx : node.x;\r\n            } else if ((y - radius) < (lowerY + radius) && !isFirstPass) {\r\n                node.firstPass = true;\r\n                trriglePassEvent = true;\r\n            }\r\n        }\r\n\r\n        return trriglePassEvent;\r\n    }\r\n\r\n    move.start = function() {\r\n        worldWidth = bounds[1][0] - bounds[0][0];\r\n        worldHeight = bounds[1][1] - bounds[0][1];\r\n        firstPassNodes = [];\r\n        canBeFinished = false;\r\n        //init envoriment\r\n        if (!friction) friction = { x: 0.1, y: 0.1 };\r\n        if (!gravity) {\r\n            gravity = { x: 0, y: Infinity, magnitude: 9.8 };\r\n            isDirectionGravity = {\r\n                x: 0,\r\n                y: 9.8\r\n            };\r\n        }\r\n\r\n        let nodesNum = nodes.length,\r\n            i = -1,\r\n            node,\r\n            //this is hack-code\r\n            gDirection = isDirectionGravity.y < 0 ? 0.1 : 0.8;\r\n\r\n        while (++i < nodesNum) {\r\n            node = nodes[i];\r\n            if (!node.iid) node.iid = ++uIdGen;\r\n            if (!node.r) node.r = 10;\r\n            if (!node.x) node.x = Math.random() * worldWidth * 0.9 + node.r;\r\n            if (!node.y) node.y = worldHeight * gDirection + node.r;\r\n            if (!node.px) node.px = node.x + 0.0;\r\n            if (!node.py) node.py = node.y;\r\n            if (!node.restitution) node.restitution = 0.1;\r\n            if (!node.boundary) node.boundary = 0;\r\n            if (!node.timeToShrink) node.timeToShrink = 3;//ms\r\n            if (!node.firstPass) node.firstPass = false;\r\n\r\n            //for sedimentation\r\n            if (!('active' in node)) node.active = true;\r\n            if (!('fixed' in node)) node.fixed = false;\r\n        }\r\n\r\n\r\n        //hack CONST letriable\r\n        hack.timeFrameDeltaSquare = (timeFrame * timeFrame * timeScale * timeScale) / (stepNumPerFrame * stepNumPerFrame);\r\n        //stop it if has already been started\r\n        if (raf) clearInterval(raf);\r\n        //start the layout\r\n        raf = setInterval(move.tick.bind(this), timeFrame * 1000);\r\n    };\r\n\r\n    move.addNode = function(node) {\r\n        worldWidth = bounds[1][0] - bounds[0][0];\r\n        worldHeight = bounds[1][1] - bounds[0][1];\r\n        //this is hack-code\r\n        let gDirection = isDirectionGravity.y > 0 ? 0.1 : 0.8;\r\n\r\n        if (!node.iid) node.iid = ++uIdGen;\r\n        if (!node.r) node.r = 10;\r\n        if (!node.x) node.x = Math.random() * worldWidth * 0.9 + node.r;\r\n        if (!node.y) node.y = worldHeight * gDirection + node.r;\r\n        if (!node.px) node.px = node.x + 0.0;\r\n        if (!node.py) node.py = node.y;\r\n        if (!node.restitution) node.restitution = 0.1;\r\n        if (!node.boundary) node.boundary = 0;\r\n        if (!node.timeToShrink) node.timeToShrink = 3;//ms\r\n        if (!node.firstPass) node.firstPass = false;\r\n\r\n        //for sedimentation\r\n        if (!('active' in node)) node.active = true;\r\n        if (!('fixed' in node)) node.fixed = false;\r\n\r\n        //Push to nodes\r\n        nodes.push(node);\r\n        //stop it if has already been started\r\n        if (raf) clearInterval(raf);\r\n        //start the layout\r\n        raf = setInterval(move.tick.bind(this), timeFrame * 1000);\r\n    };\r\n\r\n    // hack for vis\r\n    move.addNodes = function(data, once = false) {\r\n        worldWidth = bounds[1][0] - bounds[0][0];\r\n        worldHeight = bounds[1][1] - bounds[0][1];\r\n        //this is hack-code\r\n        let gDirection = isDirectionGravity.y > 0 ? 0.1 : 0.8;\r\n\r\n        let nodesNum = data.length,\r\n            i = -1,\r\n            node;\r\n        while (++i < nodesNum) {\r\n            node = data[i];\r\n            if (!node.iid) node.iid = ++uIdGen;\r\n            if (!node.r) node.r = 10;\r\n            if (!node.x) node.x = worldWidth * 0.5;\r\n            if (!node.y) node.y = worldHeight * gDirection + node.r;\r\n            if (!node.px) node.px = node.x + 0.0;\r\n            if (!node.py) node.py = node.y;\r\n            if (!node.restitution) node.restitution = 0.1;\r\n            if (!node.boundary) node.boundary = 0;\r\n            if (!node.timeToShrink) node.timeToShrink = 3;//ms\r\n            if (!node.firstPass) node.firstPass = false;\r\n\r\n            //for sedimentation\r\n            if (!('active' in node)) node.active = true;\r\n            if (!('fixed' in node)) node.fixed = false;\r\n\r\n            //Push to nodes\r\n            nodes.push(node);\r\n        }\r\n\r\n        //stop it if has already been started\r\n        if (raf) clearInterval(raf);\r\n        if (once) {\r\n            setTimeout(move.tick.bind(this), timeFrame * 1000);\r\n        } else {\r\n            //start the layout\r\n            move.tick.call(this);\r\n            raf = setInterval(move.tick.bind(this), timeFrame * 1000);\r\n        }\r\n\r\n\r\n    };\r\n\r\n    move.pause = function() {\r\n        if (raf) clearInterval(raf);\r\n    };\r\n    move.resume = function() {\r\n        if (raf) clearInterval(raf);\r\n        move.tick.call(this);\r\n        raf = setInterval(move.tick.bind(this), timeFrame * 1000);\r\n    };\r\n\r\n    move.tick = function() {\r\n        //let start = Date.now();\r\n        let nodesNum = nodes.length,\r\n            i = -1,\r\n            a, //accelerate\r\n            gravityAngle, gx, gy,\r\n            node,\r\n            tx, ty,\r\n            timeFrameDeltaSquare = hack.timeFrameDeltaSquare\r\n            ;\r\n\r\n        for (let j = 0; j < stepNumPerFrame; ++j) {\r\n            //Verlet\r\n            i = -1;\r\n            while (++i < nodesNum) {\r\n                node = nodes[i];\r\n                if (node && !node.fixed) {\r\n                    //Accumulate Forces\r\n                    if (isDirectionGravity) {\r\n                        gx = isDirectionGravity.x;\r\n                        gy = isDirectionGravity.y;\r\n                    } else {\r\n                        gravityAngle = Math.atan2(gravity.y - node.y, gravity.x - node.x);\r\n                        gx = gravity.magnitude * Math.cos(gravityAngle);\r\n                        gy = gravity.magnitude * Math.sin(gravityAngle);\r\n                    }\r\n\r\n                    a = { x: gx + friction.x * (node.px - node.x), y: gy + friction.y * (node.py - node.y) };\r\n\r\n                    //accelerate\r\n                    node.x += a.x * timeFrameDeltaSquare;\r\n                    node.y += a.y * timeFrameDeltaSquare;\r\n                }\r\n            }\r\n\r\n            //collide here\r\n            ResolveCollide(false);\r\n\r\n            i = -1;\r\n            while (++i < nodesNum) {\r\n                node = nodes[i];\r\n                if (node && !node.fixed) {\r\n                    //border_collide here\r\n                    if (isAABBBoundary ? AABBBorder_collide(node) : Border_collide(node)) {\r\n                        firstPassNodes.push(node);\r\n                        node.r *= 0.8;\r\n                    }\r\n\r\n                    //inertia\r\n                    tx = node.x * 2 - node.px;\r\n                    node.px = node.x;\r\n                    node.x = tx;\r\n\r\n                    ty = node.y * 2 - node.py;\r\n                    node.py = node.y;\r\n                    node.y = ty;\r\n                }\r\n            }\r\n\r\n            //collide here again with preserve impulse\r\n            ResolveCollide(true);\r\n\r\n            //SatisfyConstraints\r\n            i = -1;\r\n            while (++i < nodesNum) {\r\n                node = nodes[i];\r\n                if (node.fixed) continue;\r\n\r\n                if (isAABBBoundary ? AABBBorder_collide_preserve_impulse(node) : Border_collide_preserve_impulse(node)) {\r\n                    firstPassNodes.push(node);\r\n                    node.r *= 0.8;\r\n                }\r\n            }\r\n        }\r\n\r\n        i = nodesNum;\r\n        let isSeded = false;\r\n        let sedLayers = {};\r\n        let fixedCount = 0;\r\n        let unFixedNodes = [];\r\n        while (--i >= 0) {\r\n            node = nodes[i];\r\n            if (!node.fixed && node.firstPass) { //delete !node.active here\r\n                node.timeToShrink -= timeFrame;\r\n                if (node.timeToShrink < 0) {\r\n                    node.timeToShrink = 1.5;//s\r\n                    node.r *= 0.7;\r\n                    if (node.r < rToShrink) {\r\n                        isSeded = true;\r\n                        if (!(node.boundary in sedLayers)) {\r\n                            sedLayers[node.boundary] = true;\r\n                        }\r\n                        node.fixed = true;\r\n                    }\r\n                    node.active = true;\r\n                }\r\n            }\r\n\r\n            if (node.fixed) {\r\n                ++fixedCount;\r\n            } else {\r\n                unFixedNodes.push(node);\r\n            }\r\n        }\r\n\r\n        if (isSeded) {\r\n            eventHandler['sed'].apply(this, [{ 'type': 'sed', sedLayers: Object.keys(sedLayers), firstPassNodes: firstPassNodes }]);\r\n            firstPassNodes = [];\r\n        }\r\n\r\n        if ((fixedCount / nodes.length) > 0.98) {\r\n            move.finish(unFixedNodes);\r\n        }\r\n\r\n        eventHandler['tick'].apply(this, [{ 'type': 'tick', balls: nodes, bounds: bounds, gy: isDirectionGravity.y }]);\r\n    };\r\n\r\n    move.canBeFinished = function(t) {\r\n        if (typeof t === \"boolean\") {\r\n            canBeFinished = t;\r\n        }\r\n        return move;\r\n    };\r\n    move.finish = function(unFixedNodes) {\r\n        if (!canBeFinished) return;\r\n        console.log(\"finish\");\r\n        if (raf) clearInterval(raf);\r\n        let i = -1,\r\n            tick = 0;\r\n        let timer = setInterval(() => {\r\n            while (++i < unFixedNodes.length) {\r\n                unFixedNodes[i].r *= 0.8;\r\n            }\r\n            eventHandler['tick'].apply(this, [{ 'type': 'tick', balls: unFixedNodes, bounds: bounds }]);\r\n            if (tick > 10) {\r\n                clearInterval(timer);\r\n                eventHandler['tick'].apply(this, [{ 'type': 'tick', balls: [], bounds: bounds }]);\r\n                eventHandler['end'].apply(this, [{ 'type': 'end' }]);\r\n                firstPassNodes = [];\r\n            }\r\n            ++tick;\r\n        }, 30);\r\n    };\r\n\r\n    move.on = function(event, callback) {\r\n        if (!arguments.length) return eventHandler;\r\n        if (arguments.length === 1) return eventHandler[event];\r\n        if (arguments.length === 2) {\r\n            eventHandler[event] = callback;\r\n        }\r\n        return move;\r\n    };\r\n\r\n    move.isAABBBoundary = function(x) {\r\n        if (!arguments.length) return isAABBBoundary;\r\n        isAABBBoundary = x;\r\n        return move;\r\n    };\r\n\r\n    move.bounds = function(x) {\r\n        if (!arguments.length) return bounds;\r\n        bounds = x;\r\n        return move;\r\n    };\r\n\r\n    move.friction = function(params) {\r\n        if (!arguments.length) return friction;\r\n        let type = typeof params;\r\n        switch (type) {\r\n            case 'object': {\r\n                if (Array.isArray(params)) {\r\n                    if (params.length === 2) {\r\n                        friction = { x: params[0], y: params[1] };\r\n                    } else if (params.length === 1) {\r\n                        friction = { x: params[0], y: params[0] };\r\n                    }\r\n                } else {\r\n                    friction = { x: params.x, y: params.y };\r\n                }\r\n                break;\r\n            }\r\n            case 'number': {\r\n                friction = { x: params, y: params };\r\n                break;\r\n            }\r\n        }\r\n        return move;\r\n    };\r\n\r\n    move.gravity = function(params) {\r\n        if (!arguments.length) return friction;\r\n        let type = typeof params;\r\n        switch (type) {\r\n            case 'object': {\r\n                if (Array.isArray(params)) {\r\n                    gravity = { x: params[0], y: params[1], magnitude: params[2] };\r\n                    if (isNaN(+params[0] * +params[1])) {\r\n                        isDirectionGravity = {\r\n                            x: params[0] == 0 ? 0 : params[0] > 0 ? params[2] : -params[2],\r\n                            y: params[1] == 0 ? 0 : params[1] > 0 ? params[2] : -params[2],\r\n                        };\r\n                    }\r\n                    else isDirectionGravity = null;\r\n                } else {\r\n                    gravity = { x: params.x, y: params.y, magnitude: params.magnitude };\r\n                    if (isNaN(+params.x * +params.y)) {\r\n                        isDirectionGravity = {\r\n                            x: params.x == 0 ? 0 : params.x > 0 ? params.magnitude : -params.magnitude,\r\n                            y: params.y == 0 ? 0 : params.y > 0 ? params.magnitude : -params.magnitude,\r\n                        };\r\n                    }\r\n                    else isDirectionGravity = null;\r\n                }\r\n                break;\r\n            }\r\n            case 'number': {\r\n                gravity = { x: 0, y: Infinity, magnitude: params };\r\n                isDirectionGravity = {\r\n                    x: 0,\r\n                    y: params\r\n                };\r\n                break;\r\n            }\r\n        }\r\n        return move;\r\n    }\r\n\r\n    move.boundary = function(params) {\r\n        if (!arguments.length) return boundary;\r\n        let type = typeof params;\r\n        switch (type) {\r\n            case 'object': {\r\n                if (Array.isArray(params)) {\r\n                    isBoundaryGroup = false;\r\n                } else {\r\n                    boundaryGroupKeys = Object.keys(params);\r\n                    isBoundaryGroup = true;\r\n                }\r\n                boundary = params;\r\n            }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return move;\r\n    }\r\n\r\n    move.remove = function() {\r\n        if (raf) clearInterval(raf);\r\n        move = null;\r\n    }\r\n\r\n    return move;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Static/MoveEngine.js","module.exports = \"\\n<div class=\\\"bubble-float\\\"></div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/BubbleFloat/BubbleFloat.vue\n// module id = 97\n// module chunks = 0","import d3 from \"d3\";\r\n\r\nconst TWOPI = Math.PI * 2;\r\nconst BASECIRCLERADIUS = 35;\r\nvar TIMELINEUIDGEN = -1;\r\nexport default class {\r\n\r\n    /**\r\n     * @param  {d3-selection} backCanvas\r\n     * @param  {d3-selection} frontCanvas\r\n     * @param  {number} timeLineHeight\r\n     */\r\n    constructor(backCanvas, frontCanvas, timeLineHeight) {\r\n        // init variables      \r\n        this.backCanvas = backCanvas;\r\n        this.frontCanvas = frontCanvas\r\n        this.width = +this.backCanvas.attr(\"width\");\r\n        this.height = +this.backCanvas.attr(\"height\");\r\n        this.center = [this.width * 0.5, this.helght * 0.5];\r\n        this.timeLineHeight = timeLineHeight;\r\n        this.halfTimeLineHeight = timeLineHeight * 0.5;\r\n\r\n        // default value for variables;\r\n        this.frontContext = this.frontCanvas.node().getContext(\"2d\");\r\n        this.backContext = this.backCanvas.node().getContext(\"2d\");\r\n        this.timeFormat = d3.time.format(\"%b.%d,%H\");\r\n        //this.dotsNum = 10;\r\n        //this.dotPadding = 10;\r\n        this.skewLinePerDot = 20;\r\n        //this.skewLineNum = this.dotsNum * this.skewLinePerDot;\r\n        //this.skewLinePadding = 1;\r\n        this.circleRadius = BASECIRCLERADIUS;\r\n        this.dotRadius = 2;\r\n        this.distToSplit = 30;\r\n        this.dropBalls = true;\r\n\r\n        // private variables\r\n        this._id = ++TIMELINEUIDGEN;\r\n        this._timeLineData = null;\r\n\r\n        this.testTick = 0;\r\n    }\r\n    /**\r\n     * @param  {Function} drawFunc\r\n     * @param  {Array<any>} parameters\r\n     * @param  {number} x=undefined\r\n     * @param  {number} y=undefined\r\n     * @param  {number} scale=undefined\r\n     */\r\n    DrawUsingCustom(drawFunc, parameters, x = undefined, y = undefined, scale = undefined) {\r\n\r\n        this.backContext.clearRect(0, 0, this.width, this.height);\r\n        this.frontContext.clearRect(0, 0, this.width, this.height);\r\n\r\n        let transform = d3.transform(this.backCanvas.attr(\"transform\"));\r\n        let tx = typeof x === \"number\" ? x : 0;\r\n        let ty = typeof y === \"number\" ? y : 0;\r\n        let ts = typeof scale === \"number\" ? scale : 1;\r\n\r\n        this.backContext.save();\r\n        this.backContext.translate(tx + transform.translate[0], ty + transform.translate[1]);\r\n        this.backContext.scale(ts * transform.scale[0], ts * transform.scale[1]);\r\n\r\n        this.frontContext.save();\r\n        this.frontContext.translate(tx + transform.translate[0], ty + transform.translate[1]);\r\n        this.frontContext.scale(ts * transform.scale[0], ts * transform.scale[1]);\r\n\r\n        let splitResult = drawFunc.apply(this, parameters);\r\n\r\n        this.backContext.restore();\r\n        this.frontContext.restore();\r\n\r\n        return splitResult;\r\n    }\r\n\r\n    /**\r\n     * @param  {Array<number>} dotsXPosition\r\n     * @param  {Array<number>} dotsYPosition\r\n     * @param  {number} id\r\n     */\r\n    DrawTimeLine(dotsXPosition, circlesData, xOffset = 0, yOffset = 0, splitBalls = undefined) {\r\n        let drawer = function(dotsXPosition, circlesData, xOffset, yOffset, splitBalls) {\r\n            if (!dotsXPosition || !Array.isArray(dotsXPosition)) return;\r\n\r\n            let timeLineData = this._timeLineData || {};\r\n\r\n            let dotsNum = dotsXPosition.length;\r\n            let dotPadding = (dotsXPosition[dotsXPosition.length - 1] - dotsXPosition[0]) / (dotsNum - 1);\r\n            let skewLineNum = dotsNum * this.skewLinePerDot;\r\n            let skewLinePadding = dotPadding / this.skewLinePerDot;\r\n\r\n            this.AtomDrawSkewLines(dotsXPosition, skewLineNum, skewLinePadding, xOffset);\r\n            this.AtomDrawLinks(dotsXPosition);\r\n            let resultObj = this.AtomDrawCircles(circlesData, xOffset, yOffset, splitBalls);\r\n            let lineWidth = resultObj.circleLineWidth;\r\n\r\n            let maxHeight = d3.max(circlesData),\r\n                maxWidth = d3.max(dotsXPosition);\r\n\r\n            timeLineData.x = 0;\r\n            timeLineData.y = this.halfTimeLineHeight - this.circleRadius - lineWidth;\r\n            timeLineData.width = this.width + lineWidth * 2 + maxWidth;\r\n            timeLineData.height = (this.circleRadius + lineWidth) * 2 + maxHeight;\r\n            timeLineData.dotsXPosition = dotsXPosition;\r\n            timeLineData.dotsYPosition = circlesData;\r\n            this._timeLineData = timeLineData;\r\n\r\n            return resultObj.splitBallsFinished;\r\n        }\r\n\r\n        let newDrawer = function(dotsXPosition, circlesData, xOffset, yOffset, splitBalls) {\r\n            if (!dotsXPosition || !Array.isArray(dotsXPosition)) return;\r\n            let timeLineData = this._timeLineData || {};\r\n\r\n            // link line\r\n            let end = dotsXPosition[dotsXPosition.length - 1];\r\n            this.backContext.lineWidth = 8;\r\n            this.backContext.strokeStyle = \"rgb(73,75,87)\";\r\n            this.backContext.lineWidth = 8;\r\n            this.backContext.beginPath();\r\n            this.backContext.moveTo(0, this.halfTimeLineHeight);\r\n            this.backContext.lineTo(end, this.halfTimeLineHeight);\r\n            this.backContext.stroke();\r\n\r\n            let resultObj = this.NewAtomDrawCircles(circlesData, xOffset, yOffset, splitBalls);\r\n            let lineWidth = resultObj.circleLineWidth;\r\n\r\n            let maxHeight = d3.max(circlesData),\r\n                maxWidth = d3.max(dotsXPosition);\r\n\r\n            timeLineData.x = 0;\r\n            timeLineData.y = this.halfTimeLineHeight - this.circleRadius - lineWidth;\r\n            timeLineData.width = this.width + lineWidth * 2 + maxWidth;\r\n            timeLineData.height = (this.circleRadius + lineWidth) * 2 + maxHeight;\r\n            timeLineData.dotsXPosition = dotsXPosition;\r\n            timeLineData.dotsYPosition = circlesData;\r\n            this._timeLineData = timeLineData;\r\n\r\n            return resultObj.splitBallsFinished;\r\n        };\r\n\r\n        return this.DrawUsingCustom(newDrawer, [dotsXPosition, circlesData, xOffset, yOffset, splitBalls]);\r\n        //return this.DrawUsingCustom(drawer, [dotsXPosition, circlesData, xOffset, yOffset, splitBalls]);\r\n    }\r\n\r\n    setDistToSplit(d) {\r\n        if (typeof d === \"number\") {\r\n            this.distToSplit = d;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setDropBalls(t) {\r\n        if (typeof t === \"boolean\") {\r\n            this.dropBalls = t;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    NewAtomDrawCircles(circlesData, xOffset = 0, yOffset = 0, splitBalls = undefined) {\r\n        // Circle\r\n        let circleLineWidth = 5;\r\n        let circleNum = circlesData.length;\r\n        this.frontContext.lineWidth = 5;\r\n        this.frontContext.strokeStyle = \"rgb(73,75,87)\";\r\n        this.frontContext.fillStyle = \"rgb(204,110,76)\";//\"rgb(233, 30, 99)\";//\"rgb(199,166,63)\";\r\n        this.frontContext.beginPath();\r\n\r\n        for (let i = 0; i < circleNum; ++i) {\r\n            if (this.dropBalls && !circlesData[i].firstDrop) continue;\r\n            this.frontContext\r\n                .moveTo(circlesData[i].x + this.circleRadius - (Array.isArray(xOffset) ? xOffset[i] : xOffset),\r\n                this.halfTimeLineHeight + circlesData[i].y + (Array.isArray(yOffset) ? yOffset[i] : yOffset));\r\n            this.frontContext\r\n                .arc(circlesData[i].x - (Array.isArray(xOffset) ? xOffset[i] : xOffset),\r\n                this.halfTimeLineHeight + circlesData[i].y + (Array.isArray(yOffset) ? yOffset[i] : yOffset),\r\n                this.circleRadius,\r\n                0,\r\n                TWOPI);\r\n        }\r\n        this.frontContext.fill();\r\n        this.frontContext.stroke();\r\n\r\n        //text\r\n        this.frontContext.fillStyle = \"#fff\"; //\"rgb(73,75,87)\";\r\n        this.frontContext.font = \"25px Segoe UI Light\";//\"28px Arial Black\";\r\n        this.frontContext.textBaseline = \"middle\";\r\n        this.frontContext.textAlign = \"center\";\r\n        this.frontContext.beginPath();\r\n        for (let i = 0; i < circleNum; ++i) {\r\n            if (this.dropBalls && !circlesData[i].firstDrop) continue;\r\n            this.frontContext\r\n                .fillText(this.timeFormat(new Date(circlesData[i].ts)),\r\n                circlesData[i].x - (Array.isArray(xOffset) ? xOffset[i] : xOffset),\r\n                this.halfTimeLineHeight + circlesData[i].y + (Array.isArray(yOffset) ? yOffset[i] : yOffset));\r\n        }\r\n        this.frontContext.fill();\r\n\r\n\r\n        let splitBallsFinished = false;\r\n        if (splitBalls) {\r\n\r\n            let dist = 0;\r\n            for (let i = 0, len = splitBalls.length; i < len; ++i) {\r\n                let ball = splitBalls[i];\r\n                this.frontContext.fillStyle = ball.color;\r\n                this.frontContext.beginPath();\r\n                this.frontContext\r\n                    .moveTo(ball.x + ball.r,\r\n                    this.halfTimeLineHeight + ball.y);\r\n                this.frontContext\r\n                    .arc(ball.x,\r\n                    this.halfTimeLineHeight + ball.y,\r\n                    ball.r,\r\n                    0,\r\n                    TWOPI);\r\n\r\n                let tx = ball.x + (ball.x - ball.px) * 0.9;\r\n                ball.px = ball.x;\r\n                ball.x = tx;\r\n                dist += Math.abs(ball.px - ball.x);\r\n\r\n                let ty = ball.y + (ball.y - ball.py) * 0.9;\r\n                ball.py = ball.y;\r\n                ball.y = ty;\r\n                this.frontContext.fill();\r\n\r\n            }\r\n            this.testTick++;\r\n            if (dist < (1 * splitBalls.length)) {\r\n                splitBallsFinished = true;\r\n                console.log(\"tick time:\" + this.testTick);\r\n                this.testTick = 0;\r\n            }\r\n        }\r\n\r\n        return { 'circleLineWidth': circleLineWidth, 'splitBallsFinished': splitBallsFinished };\r\n    }\r\n\r\n    /**\r\n     * @param  {Array<number>} dotsXPosition\r\n     * @returns {(t)=>void} callBack function for d3-tween\r\n     */\r\n    AnimationInitTimeLine(dotsXPosition) {\r\n        let dotsNum = dotsXPosition.length;\r\n        let dotPadding = (dotsXPosition[dotsXPosition.length - 1].x - dotsXPosition[0].x) / (dotsNum - 1);\r\n        let dotDelay = 1 / dotsNum;\r\n\r\n        let skewLineNum = dotsNum * this.skewLinePerDot;\r\n        let skewLinePadding = dotPadding / this.skewLinePerDot;\r\n        let skewLineDelay = 1 / skewLineNum;\r\n\r\n        let start = dotsXPosition[0].x;\r\n        let end = dotsXPosition[dotsXPosition.length - 1].x;\r\n        let i = 0,\r\n            j = 0;\r\n\r\n        let transform = d3.transform(this.backCanvas.attr(\"transform\"));\r\n\r\n        let newCallBack = function(t) {\r\n            this.backContext.save();\r\n            this.frontContext.save();\r\n            this.backContext.translate(transform.translate[0], transform.translate[1]);\r\n            this.frontContext.translate(transform.translate[0], transform.translate[1]);\r\n\r\n            //circle\r\n            while (t > j * dotDelay) {\r\n                if (dotsXPosition[j].empty) {\r\n                    ++j;\r\n                    continue;\r\n                }\r\n\r\n                this.frontContext.lineWidth = 5;\r\n                this.frontContext.strokeStyle = \"rgb(73,75,87)\";\r\n                this.frontContext.fillStyle = \"rgb(204,110,76)\";//\"rgb(233, 30, 99)\";//\"rgb(199,166,63)\";\r\n                this.frontContext.beginPath();\r\n                this.frontContext.moveTo(dotsXPosition[j].x + this.circleRadius, this.halfTimeLineHeight);\r\n                this.frontContext.arc(dotsXPosition[j].x, this.halfTimeLineHeight, this.circleRadius, 0, TWOPI);\r\n                this.frontContext.fill();\r\n                this.frontContext.stroke();\r\n\r\n                //text\r\n                this.frontContext.fillStyle = \"#fff\";//\"rgb(73,75,87)\";\r\n                this.frontContext.font = \"28px Segoe UI Light\";//\"28px Arial Black\";\r\n                this.frontContext.textBaseline = \"middle\";\r\n                this.frontContext.textAlign = \"center\";\r\n                this.frontContext.beginPath();\r\n                this.frontContext.fillText(this.timeFormat(dotsXPosition[j].ts), dotsXPosition[j].x, this.halfTimeLineHeight);\r\n                this.frontContext.fill();\r\n                ++j;\r\n            }\r\n\r\n            // link line\r\n            let tempEnd = this.width * t;\r\n            this.backContext.lineWidth = 8;\r\n            this.backContext.strokeStyle = \"rgb(73,75,87)\";\r\n            this.backContext.lineWidth = 8;\r\n            this.backContext.beginPath();\r\n            this.backContext.moveTo(0, this.halfTimeLineHeight);\r\n            this.backContext.lineTo(tempEnd, this.halfTimeLineHeight);\r\n            this.backContext.stroke();\r\n\r\n            this.backContext.restore();\r\n            this.frontContext.restore();\r\n        };\r\n\r\n\r\n        let callBack = function(t) {\r\n            this.backContext.save();\r\n            this.frontContext.save();\r\n            this.backContext.translate(transform.translate[0], transform.translate[1]);\r\n            this.frontContext.translate(transform.translate[0], transform.translate[1]);\r\n\r\n            // skewLine\r\n            while (t > i * skewLineDelay) {\r\n                this.backContext.strokeStyle = \"#D90429\";\r\n                this.backContext.fillStyle = \"#D90429\";\r\n                this.backContext.lineWidth = 0.5;\r\n\r\n                let x = start + i * skewLinePadding;\r\n                this.backContext.beginPath();\r\n\r\n                this.backContext.moveTo(x + skewLinePadding, this.halfTimeLineHeight);\r\n                this.backContext.lineTo(x, this.timeLineHeight);\r\n\r\n                if ((i & 3) === 0) {\r\n                    this.backContext.moveTo(x + skewLinePadding, this.halfTimeLineHeight);\r\n                    this.backContext.arc(x + skewLinePadding, this.halfTimeLineHeight, this.dotRadius, 0, TWOPI);\r\n                }\r\n\r\n                this.backContext.fill();\r\n                this.backContext.stroke();\r\n                ++i;\r\n            }\r\n\r\n            // Circle\r\n            while (t > j * dotDelay) {\r\n                if (dotsXPosition[j].empty) {\r\n                    ++j;\r\n                    continue;\r\n                }\r\n\r\n                this.frontContext.lineWidth = 5;\r\n                this.frontContext.strokeStyle = \"rgb(221, 196, 207)\";\r\n                this.frontContext.fillStyle = \"rgb(233,243,246)\";\r\n                this.frontContext.beginPath();\r\n                this.frontContext.moveTo(dotsXPosition[j].x + this.circleRadius, this.halfTimeLineHeight);\r\n                this.frontContext.arc(dotsXPosition[j].x, this.halfTimeLineHeight, this.circleRadius, 0, TWOPI);\r\n                this.frontContext.fill();\r\n                this.frontContext.stroke();\r\n\r\n                // text\r\n                this.frontContext.fillStyle = \"#D90429\";\r\n                this.frontContext.font = \"28px Arial Black\";\r\n                this.frontContext.textBaseline = \"middle\";\r\n                this.frontContext.textAlign = \"center\";\r\n                this.frontContext.beginPath();\r\n                this.frontContext.fillText(this.timeFormat(dotsXPosition[j].ts), dotsXPosition[j].x, this.halfTimeLineHeight);\r\n                this.frontContext.fill();\r\n                ++j;\r\n            }\r\n\r\n            let tempEnd = this.width * t;\r\n            // link\r\n            this.backContext.lineWidth = 1;\r\n            this.backContext.strokeStyle = \"rgb(221, 196, 207)\";\r\n            this.backContext.beginPath();\r\n            this.backContext.moveTo(0, 0);\r\n            this.backContext.lineTo(tempEnd, 0);\r\n            this.backContext.moveTo(0, this.timeLineHeight);\r\n            this.backContext.lineTo(tempEnd, this.timeLineHeight);\r\n            this.backContext.stroke();\r\n\r\n            this.backContext.restore();\r\n            this.frontContext.restore();\r\n\r\n        };\r\n\r\n        return newCallBack.bind(this);\r\n    }\r\n\r\n    AnimationAggregateCircles(startCirclesData, endCirclesData, scale) {\r\n        let transform = d3.transform(this.backCanvas.attr(\"transform\"));\r\n        let targetR = BASECIRCLERADIUS * scale;\r\n        let startGap, endGap;\r\n        if (startCirclesData[1] && endCirclesData[1]) {\r\n            startGap = startCirclesData[1].ts - startCirclesData[0].ts;\r\n            endGap = endCirclesData[1].ts - endCirclesData[0].ts;\r\n        }\r\n\r\n\r\n        let sourceCirclesData, targetCirclesData;\r\n        if (startGap > endGap) {\r\n            sourceCirclesData = endCirclesData;\r\n            targetCirclesData = startCirclesData;\r\n        } else {\r\n            sourceCirclesData = startCirclesData;\r\n            targetCirclesData = endCirclesData;\r\n        }\r\n        for (let i = 0, len = sourceCirclesData.length; i < len; ++i) {\r\n            let circle = sourceCirclesData[i];\r\n            let insideIndex = -1;\r\n            while (targetCirclesData[++insideIndex] && targetCirclesData[insideIndex].ts < circle.ts);\r\n            if (--insideIndex < 0) insideIndex = 0;\r\n\r\n            if (startGap > endGap) {\r\n                circle.aggregate = {\r\n                    sx: targetCirclesData[insideIndex].x,\r\n                    ex: circle.x\r\n                };\r\n            } else {\r\n                circle.aggregate = {\r\n                    sx: circle.x,\r\n                    ex: targetCirclesData[insideIndex].x\r\n                };\r\n            }\r\n        }\r\n\r\n        let newCallback = (t) => {\r\n            this.frontContext.clearRect(0, this.height * 0.2, this.width, this.height * 0.8);\r\n            this.frontContext.save();\r\n            this.frontContext.translate(transform.translate[0], transform.translate[1]);\r\n            this.frontContext.scale(transform.scale[0], transform.scale[1]);\r\n\r\n            let circleLineWidth = 5;\r\n            let circleNum = sourceCirclesData.length;\r\n            this.frontContext.lineWidth = 5;\r\n            this.frontContext.strokeStyle = \"rgb(73,75,87)\";\r\n            this.frontContext.fillStyle = \"rgb(204,110,76)\";//\"rgb(233, 30, 99)\";//\"rgb(199,166,63)\";\r\n            this.frontContext.beginPath();\r\n            for (let i = 0; i < circleNum; ++i) {\r\n                let circle = sourceCirclesData[i];\r\n                if (!circle.firstDrop) continue;\r\n                this.frontContext\r\n                    .moveTo(circle.aggregate.sx + (circle.aggregate.ex - circle.aggregate.sx) * t + this.circleRadius + (targetR - this.circleRadius) * t,\r\n                    this.halfTimeLineHeight + circle.y);\r\n                this.frontContext\r\n                    .arc(circle.aggregate.sx + (circle.aggregate.ex - circle.aggregate.sx) * t,\r\n                    this.halfTimeLineHeight,\r\n                    this.circleRadius + (targetR - this.circleRadius) * t,\r\n                    0,\r\n                    TWOPI);\r\n            }\r\n            this.frontContext.fill();\r\n            this.frontContext.stroke();\r\n\r\n            //text\r\n            this.frontContext.fillStyle = \"#fff\";//\"rgb(73,75,87)\";\r\n            this.frontContext.font = \"28px Segoe UI Light\";//\"28px Arial Black\";\r\n            this.frontContext.textBaseline = \"middle\";\r\n            this.frontContext.textAlign = \"center\";\r\n            this.frontContext.beginPath();\r\n            for (let i = 0; i < circleNum; ++i) {\r\n                let circle = sourceCirclesData[i];\r\n                if (!circle.firstDrop) continue;\r\n                this.frontContext\r\n                    .fillText(this.timeFormat(new Date(circle.ts)),\r\n                    circle.aggregate.sx + (circle.aggregate.ex - circle.aggregate.sx) * t,\r\n                    this.halfTimeLineHeight + circle.y);\r\n            }\r\n            this.frontContext.fill();\r\n\r\n            if (t === 1) {\r\n                this.circleRadius = targetR;\r\n            }\r\n            this.frontContext.restore();\r\n\r\n        };\r\n\r\n        let callBack = (t) => {\r\n            this.frontContext.clearRect(0, this.height * 0.2, this.width, this.height * 0.8);\r\n            this.frontContext.save();\r\n            this.frontContext.translate(transform.translate[0], transform.translate[1]);\r\n            this.frontContext.scale(transform.scale[0], transform.scale[1]);\r\n\r\n            let circleLineWidth = 5;\r\n            let circleNum = sourceCirclesData.length;\r\n            this.frontContext.lineWidth = circleLineWidth;\r\n            this.frontContext.strokeStyle = \"rgb(221, 196, 207)\";\r\n            this.frontContext.fillStyle = \"rgb(233,243,246)\";\r\n            this.frontContext.beginPath();\r\n            for (let i = 0; i < circleNum; ++i) {\r\n                let circle = sourceCirclesData[i];\r\n                if (!circle.firstDrop) continue;\r\n                this.frontContext\r\n                    .moveTo(circle.aggregate.sx + (circle.aggregate.ex - circle.aggregate.sx) * t + this.circleRadius + (targetR - this.circleRadius) * t,\r\n                    this.halfTimeLineHeight + circle.y);\r\n                this.frontContext\r\n                    .arc(circle.aggregate.sx + (circle.aggregate.ex - circle.aggregate.sx) * t,\r\n                    this.halfTimeLineHeight,\r\n                    this.circleRadius + (targetR - this.circleRadius) * t,\r\n                    0,\r\n                    TWOPI);\r\n            }\r\n            this.frontContext.fill();\r\n            this.frontContext.stroke();\r\n\r\n            // text\r\n            this.frontContext.fillStyle = \"#D90429\";\r\n            this.frontContext.font = \"28px Arial Black\";\r\n            this.frontContext.textBaseline = \"middle\";\r\n            this.frontContext.textAlign = \"center\";\r\n            this.frontContext.beginPath();\r\n            for (let i = 0; i < circleNum; ++i) {\r\n                let circle = sourceCirclesData[i];\r\n                if (!circle.firstDrop) continue;\r\n                this.frontContext\r\n                    .fillText(this.timeFormat(new Date(circle.ts)),\r\n                    circle.aggregate.sx + (circle.aggregate.ex - circle.aggregate.sx) * t,\r\n                    this.halfTimeLineHeight + circle.y);\r\n            }\r\n            this.frontContext.fill();\r\n\r\n            if (t === 1) {\r\n                this.circleRadius = targetR;\r\n            }\r\n            this.frontContext.restore();\r\n        };\r\n\r\n        return newCallback.bind(this);\r\n        // return callBack.bind(this);\r\n    }\r\n\r\n    /**\r\n     * @param  {Array<number>} dotsXPosition\r\n     */\r\n    AtomDrawSkewLines(dotsXPosition, skewLineNum, skewLinePadding, xOffset = 0) {\r\n        this.backContext.strokeStyle = \"#D90429\";\r\n        this.backContext.fillStyle = \"#D90429\";\r\n        this.backContext.lineWidth = 0.5;\r\n        this.backContext.beginPath();\r\n        for (let i = 0; i < skewLineNum; ++i) {\r\n\r\n            let tempX = dotsXPosition[0] + i * skewLinePadding;\r\n            this.backContext.moveTo(tempX + skewLinePadding - xOffset, this.halfTimeLineHeight);\r\n            this.backContext.lineTo(tempX - xOffset, this.timeLineHeight);\r\n\r\n            if ((i & 3) == 0) {\r\n                this.backContext.moveTo(tempX + skewLinePadding - xOffset, this.halfTimeLineHeight);\r\n                this.backContext.arc(tempX + skewLinePadding - xOffset, this.halfTimeLineHeight, this.dotRadius, 0, TWOPI);\r\n            }\r\n\r\n        }\r\n        this.backContext.fill();\r\n        this.backContext.stroke();\r\n\r\n    }\r\n\r\n    /**\r\n     * @param  {Array<number>} dotsXPosition\r\n     * @param  {Array<number>} dotsYPosition\r\n     */\r\n    AtomDrawCircles(circlesData, xOffset = 0, yOffset = 0, splitBalls = undefined) {\r\n\r\n        // Circle\r\n        let circleLineWidth = 5;\r\n        let circleNum = circlesData.length;\r\n        this.frontContext.lineWidth = circleLineWidth;\r\n        this.frontContext.strokeStyle = \"rgb(221, 196, 207)\";\r\n        this.frontContext.fillStyle = \"rgb(233,243,246)\";\r\n        this.frontContext.beginPath();\r\n\r\n        for (let i = 0; i < circleNum; ++i) {\r\n            if (!circlesData[i].firstDrop) continue;\r\n            this.frontContext\r\n                .moveTo(circlesData[i].x + this.circleRadius - (Array.isArray(xOffset) ? xOffset[i] : xOffset),\r\n                this.halfTimeLineHeight + circlesData[i].y + (Array.isArray(yOffset) ? yOffset[i] : yOffset));\r\n            this.frontContext\r\n                .arc(circlesData[i].x - (Array.isArray(xOffset) ? xOffset[i] : xOffset),\r\n                this.halfTimeLineHeight + circlesData[i].y + (Array.isArray(yOffset) ? yOffset[i] : yOffset),\r\n                this.circleRadius,\r\n                0,\r\n                TWOPI);\r\n        }\r\n        this.frontContext.fill();\r\n        this.frontContext.stroke();\r\n\r\n        // text\r\n        this.frontContext.fillStyle = \"#D90429\";\r\n        this.frontContext.font = \"28px Arial Black\";\r\n        this.frontContext.textBaseline = \"middle\";\r\n        this.frontContext.textAlign = \"center\";\r\n        this.frontContext.beginPath();\r\n        for (let i = 0; i < circleNum; ++i) {\r\n            if (!circlesData[i].firstDrop) continue;\r\n            this.frontContext\r\n                .fillText(this.timeFormat(new Date(circlesData[i].ts)),\r\n                circlesData[i].x - (Array.isArray(xOffset) ? xOffset[i] : xOffset),\r\n                this.halfTimeLineHeight + circlesData[i].y + (Array.isArray(yOffset) ? yOffset[i] : yOffset));\r\n        }\r\n        this.frontContext.fill();\r\n\r\n        let splitBallsFinished = false;\r\n        if (splitBalls) {\r\n\r\n            let dist = 0;\r\n            for (let i = 0, len = splitBalls.length; i < len; ++i) {\r\n                let ball = splitBalls[i];\r\n                this.frontContext.fillStyle = ball.color;\r\n                this.frontContext.beginPath();\r\n                this.frontContext\r\n                    .moveTo(ball.x + ball.r,\r\n                    this.halfTimeLineHeight + ball.y);\r\n                this.frontContext\r\n                    .arc(ball.x,\r\n                    this.halfTimeLineHeight + ball.y,\r\n                    ball.r,\r\n                    0,\r\n                    TWOPI);\r\n\r\n                let tx = ball.x + (ball.x - ball.px) * 0.9;\r\n                ball.px = ball.x;\r\n                ball.x = tx;\r\n                dist += Math.abs(ball.px - ball.x);\r\n\r\n                let ty = ball.y + (ball.y - ball.py) * 0.9;\r\n                ball.py = ball.y;\r\n                ball.y = ty;\r\n                this.frontContext.fill();\r\n\r\n            }\r\n            this.testTick++;\r\n            if (dist < (1 * splitBalls.length)) {\r\n                splitBallsFinished = true;\r\n                console.log(\"tick time:\" + this.testTick);\r\n                this.testTick = 0;\r\n            }\r\n        }\r\n\r\n        return { 'circleLineWidth': circleLineWidth, 'splitBallsFinished': splitBallsFinished };\r\n    }\r\n\r\n    /**\r\n     * @param  {Array<number>} dotsXPosition\r\n     */\r\n    AtomDrawLinks(dotsXPosition) {\r\n        let end = dotsXPosition[dotsXPosition.length - 1];\r\n        // link\r\n        this.backContext.lineWidth = 1;\r\n        this.backContext.strokeStyle = \"rgb(221, 196, 207)\";\r\n        this.backContext.beginPath();\r\n        this.backContext.moveTo(0, 0);\r\n        this.backContext.lineTo(end, 0);\r\n        this.backContext.moveTo(0, this.timeLineHeight);\r\n        this.backContext.lineTo(end, this.timeLineHeight);\r\n        this.backContext.stroke();\r\n    }\r\n\r\n    /**\r\n     * @param  {number} id\r\n     */\r\n    GetDotsYPosition() {\r\n        return this._timeLineData && this._timeLineData.dotsYPosition;\r\n    }\r\n\r\n\r\n    ClearCanvas() {\r\n        this.circleRadius = BASECIRCLERADIUS;\r\n        this.backContext.clearRect(0, 0, this.width, this.height);\r\n        this.frontContext.clearRect(0, 0, this.width, this.height);\r\n        this.backContext.setTransform(1, 0, 0, 1, 0, 0);\r\n        this.frontContext.setTransform(1, 0, 0, 1, 0, 0);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Static/TimeLine.js","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/classCallCheck.js\n// module id = 99\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/createClass.js\n// module id = 100\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/define-property.js\n// module id = 101\n// module chunks = 0","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/define-property.js\n// module id = 102\n// module chunks = 0","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.define-property.js\n// module id = 103\n// module chunks = 0","module.exports = \"\\n<!-- Your content goes here -->\\n<div class=\\\"screen-scroll mdl-card mdl-shadow--3dp mdl-cell mdl-cell--12-col\\\" _v-613ff422=\\\"\\\">\\n    <div class=\\\"mdl-card__title\\\" _v-613ff422=\\\"\\\">\\n        <h2 class=\\\"mdl-card__title-text\\\" _v-613ff422=\\\"\\\">Video-{{selectedVideo}}</h2>\\n    </div>\\n\\n    <svg class=\\\"screen-scroll-svg\\\" _v-613ff422=\\\"\\\"></svg>\\n    <div class=\\\"mdl-card__actions mdl-card--border\\\" _v-613ff422=\\\"\\\"> </div>\\n    <bubble-float v-ref:bubble-float-component=\\\"\\\" _v-613ff422=\\\"\\\"></bubble-float>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-613ff422!./src/components/NoBallDrop/no-ball-drop.html\n// module id = 104\n// module chunks = 0","module.exports = \"<div class=\\\"mdl-layout mdl-js-layout\\\" _v-81cd484e=\\\"\\\">\\n    <header class=\\\"mdl-layout__header mdl-layout__header--scroll\\\" _v-81cd484e=\\\"\\\">\\n        <div class=\\\"mdl-layout__header-row\\\" _v-81cd484e=\\\"\\\">\\n            <!-- Title -->\\n            <span class=\\\"mdl-layout-title\\\" _v-81cd484e=\\\"\\\">Videos</span>\\n            <!-- Add spacer, to align navigation to the right -->\\n            <div class=\\\"mdl-layout-spacer\\\" _v-81cd484e=\\\"\\\"></div>\\n            <!-- Navigation. We hide it in small screens. -->\\n            <nav class=\\\"mdl-navigation\\\" _v-81cd484e=\\\"\\\">\\n                <a class=\\\"mdl-navigation__link\\\" v-link=\\\"vLinkIndex\\\" _v-81cd484e=\\\"\\\">Ours</a>\\n                <a class=\\\"mdl-navigation__link\\\" v-link=\\\"vLinkCongleiPath\\\" _v-81cd484e=\\\"\\\">Conglei's</a>\\n                <a class=\\\"mdl-navigation__link\\\" v-link=\\\"vLinkNoForeshadow\\\" _v-81cd484e=\\\"\\\">No ForeShadow</a>\\n            </nav>\\n        </div>\\n    </header>\\n    <div class=\\\"mdl-layout__drawer\\\" _v-81cd484e=\\\"\\\">\\n        <span class=\\\"mdl-layout-title\\\" _v-81cd484e=\\\"\\\">Videos</span>\\n        <nav class=\\\"mdl-navigation\\\" _v-81cd484e=\\\"\\\">\\n            <label class=\\\"mdl-navigation__link\\\" _v-81cd484e=\\\"\\\">Video\\n                <select v-model=\\\"selectedVideo\\\" @change=\\\"SelectVideo\\\" :disabled=\\\"selectVideoDisabled\\\" _v-81cd484e=\\\"\\\">\\n                    <option v-for=\\\"id in videoIds\\\" :value=\\\"id\\\" _v-81cd484e=\\\"\\\">\\n                        {{ id }}\\n                    </option>\\n                </select>\\n            </label>\\n\\n            <label class=\\\"mdl-navigation__link\\\" _v-81cd484e=\\\"\\\">Speed X\\n                <select v-model=\\\"zoomScaleMax\\\" @change=\\\"SelectSpeed\\\" :disabled=\\\"selectVideoDisabled\\\" _v-81cd484e=\\\"\\\">\\n                    <option v-for=\\\"speed in zoomScaleList\\\" :value=\\\"speed\\\" _v-81cd484e=\\\"\\\">\\n                        {{ speed }}\\n                    </option>\\n                </select>\\n            </label>\\n\\n            <label class=\\\"mdl-navigation__link\\\" _v-81cd484e=\\\"\\\">\\n                <label class=\\\"mdl-switch mdl-js-switch mdl-js-ripple-effect \\\" for=\\\"isAcceleration\\\" _v-81cd484e=\\\"\\\">\\n                    <input type=\\\"checkbox\\\" id=\\\"isAcceleration\\\" class=\\\"mdl-switch__input\\\" v-model=\\\"isAcceleration\\\" @change=\\\"ChangeAcceleration\\\" _v-81cd484e=\\\"\\\">\\n                    <span class=\\\"mdl-switch__label\\\" _v-81cd484e=\\\"\\\">Accerleration</span>\\n                </label>\\n            </label>\\n\\n            <label class=\\\"mdl-navigation__link\\\" for=\\\"btn-play\\\" _v-81cd484e=\\\"\\\">\\n                <button id=\\\"btn-play\\\" class=\\\"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent mdl-color-text--grey-800\\\" type=\\\"button\\\" @click=\\\"Resume\\\" _v-81cd484e=\\\"\\\"> Play </button>\\n            </label>\\n\\n            <label class=\\\"mdl-navigation__link\\\" for=\\\"btn-Pause\\\" _v-81cd484e=\\\"\\\">\\n                <button id=\\\"btn-Pause\\\" class=\\\"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect\\\" type=\\\"button\\\" @click=\\\"Pause\\\" _v-81cd484e=\\\"\\\">\\n                    Pause </button>\\n            </label>\\n\\n            <label class=\\\"mdl-navigation__link\\\" _v-81cd484e=\\\"\\\">\\n                <hr _v-81cd484e=\\\"\\\">\\n            </label>\\n        </nav>\\n\\n    </div>\\n    <main class=\\\"mdl-layout__content\\\" _v-81cd484e=\\\"\\\">\\n        <div class=\\\"page-content\\\" _v-81cd484e=\\\"\\\">\\n            <!-- Your content goes here -->\\n            <router-view v-ref:click-animation-component=\\\"\\\" _v-81cd484e=\\\"\\\">\\n            </router-view>\\n        </div>\\n    </main>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-81cd484e!./src/components/App/app.html\n// module id = 105\n// module chunks = 0","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"remove\\\":true}!css!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./CongleiBaseline.vue\")\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"remove\\\":true}!css!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-5d610277&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=1!./CongleiBaseline.vue\")\n__vue_script__ = require(\"!!babel-loader!./conglei-baseline.js\")\nif (__vue_script__ &&\n    __vue_script__.__esModule &&\n    Object.keys(__vue_script__).length > 1) {\n  console.warn(\"[vue-loader] src\\\\components\\\\CongleiBaseline\\\\CongleiBaseline.vue: named exports in *.vue files are ignored.\")}\n__vue_template__ = require(\"!!vue-html-loader!./../../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-5d610277!./conglei-baseline.html\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/CongleiBaseline/CongleiBaseline.vue\n// module id = 106\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"remove\":true}!./~/css-loader!./~/vue-loader/lib/style-rewriter.js!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/CongleiBaseline/CongleiBaseline.vue\n// module id = 107\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"remove\":true}!./~/css-loader!./~/vue-loader/lib/style-rewriter.js?id=_v-5d610277&scoped=true!./~/vue-loader/lib/selector.js?type=style&index=1!./src/components/CongleiBaseline/CongleiBaseline.vue\n// module id = 108\n// module chunks = 0","import Bubble from './../BubbleFloat/BubbleFloat.vue';\r\n\r\nexport default {\r\n    components: {\r\n        BubbleFloat: Bubble\r\n    },\r\n    ready() {\r\n        Array.prototype.aggregate = function (num) {\r\n            let length = this.length;\r\n            let newArray = [];\r\n            let sum = 0;\r\n            for (let i = 0; i < length; i++) {\r\n                sum += this[i];\r\n                if ((i + 1) % num == 0) {\r\n                    newArray.push(sum / num);\r\n                    sum = 0;\r\n                }\r\n            }\r\n            if (length % num != 0) newArray.push(sum / length % num);\r\n            return newArray;\r\n        };\r\n\r\n        this.InitVariables();\r\n        if (!this.clickData) {\r\n            this.$root.getData();\r\n        }\r\n    },\r\n    doc: null,\r\n    svg: null,\r\n    stackGraph: null,\r\n    contextTimeLineG: null,\r\n    contextXscale: null,\r\n    contextTimeLineXAxisGen: null,\r\n    contextTimeLineXAxis: null,\r\n\r\n    stackXscale: null,\r\n    stackYscale: null,\r\n    stackXAxisGen: null,\r\n    stackYAxisGen: null,\r\n    stackXAxis: null,\r\n    stackYAxis: null,\r\n    xAxisTimeFormat: null,\r\n    areaGen: null,\r\n    stackLayout: null,\r\n    digitalClock: null,\r\n    digitalTimeFormat: null,\r\n    digitalDateFormat: null,\r\n    clickData: null,\r\n    stackData: null,\r\n    animationTimer: null,\r\n\r\n    data() {\r\n        return {\r\n            padding: { top: 0, right: 50, bottom: 30, left: 50 },\r\n            width: null,\r\n            height: null,\r\n            center: null,\r\n            titleHeight: null,\r\n            viewInnerWidth: null,\r\n            viewInnerHeight: null,\r\n\r\n            selectedVideo: null,\r\n\r\n            timeInterval: 60,\r\n            stackBarMaxY: 0,\r\n            stackBarMaxIndex: 0,\r\n            stackBarWidth: 0,\r\n            chartHeight: 300,\r\n            barHeight: 300,\r\n            chartWidth: 0,\r\n            playrate: 20000,\r\n            clickColor: {\r\n                \"pause\": \"#FFC107\",\r\n                \"play\": \"#80CBC4\",\r\n                \"seeked\": \"#03A9F4\",\r\n                \"error\": \"#607D8B\",\r\n                \"ratechange\": \"#00BCD4\",\r\n                \"stalled\": \"#EF5350\"\r\n            },\r\n            orderMapping: {\r\n                \"stalled\": 0,\r\n                \"ratechange\": 1,\r\n                \"play\": 2,\r\n                \"seeked\": 3,\r\n                \"pause\": 4,\r\n                //\"error\": 5,\r\n            },\r\n        }\r\n    },\r\n    methods: {\r\n        setRawdata(data, stackData) {\r\n            this.clickData = {};\r\n            for (let i = 0, len = data.length; i < len; ++i) {\r\n                if (data[i].currentTime === 0) continue;\r\n                data[i].date = new Date(data[i].ts);\r\n\r\n                let videoId = data[i].videoId;\r\n                if (!this.clickData[videoId]) this.clickData[videoId] = {};\r\n                let videoData = this.clickData[videoId];\r\n\r\n                if (!videoData.clickDataGroupByTimeArray) videoData.clickDataGroupByTimeArray = [];\r\n                videoData.clickDataGroupByTimeArray.push(data[i]);\r\n            }\r\n\r\n            let videoIds = Object.keys(this.clickData);\r\n            for (let i = 0, len = videoIds.length; i < len; ++i) {\r\n                let videoData = this.clickData[videoIds[i]];\r\n                videoData.clickDataGroupByTimeArray.sort(function (a, b) {\r\n                    return +a.ts - +b.ts;\r\n                });\r\n            }\r\n\r\n            this.stackData = stackData;\r\n\r\n            this.$refs.bubbleFloatComponent\r\n                .setBarHeight(this.stackBarChartHeight)\r\n                .setTimeInterval(30)\r\n                .videosData(stackData);\r\n            return videoIds;\r\n        },\r\n        SelectVideo(selectedVideo) {\r\n            this.selectedVideo = selectedVideo;\r\n\r\n            this.clean();\r\n\r\n            let videoData = this.clickData[this.selectedVideo];\r\n            let tempL1A = videoData.clickDataGroupByTimeArray;\r\n\r\n            //set up domain of each scale\r\n            this.contextXscale.domain(d3.extent(tempL1A, function (d) { return +d.ts; }));\r\n            this.xDomainMin = this.contextXscale.domain()[0];\r\n            this.xDomainMax = this.contextXscale.domain()[1];\r\n            setTimeout(this.InitView, 20);\r\n        },\r\n        InitVariables() {\r\n            this.doc = d3.select(this.$el);\r\n            this.titleHeight = this.doc.select(\".mdl-card__title\").node().clientHeight;\r\n            this.width = this.doc.node().clientWidth;\r\n            this.height = this.doc.node().clientHeight - this.titleHeight;\r\n            this.viewInnerWidth = this.width;\r\n            this.viewInnerHeight = this.height;\r\n            this.contextTimeLineHeight = this.height * 0.10;\r\n            this.chartWidth = this.width - this.padding.left - this.padding.right;\r\n            this.chartHeight = this.height * 0.7;\r\n            this.svg = this.doc.select(\"svg.conglei-svg\").attr(\"height\", this.viewInnerHeight);\r\n\r\n            this.center = [this.viewInnerWidth * 0.5, this.viewInnerHeight * 0.5];\r\n\r\n            this.svg.append(\"rect\").attr({\r\n                \"class\": \"svg-background\",\r\n                \"x\": 0,\r\n                \"y\": 0,\r\n                \"width\": this.width,\r\n                \"height\": this.height * 0.15\r\n            });\r\n\r\n            this.stackLayout = d3.layout.stack()\r\n                .offset(\"zero\")\r\n                .values(function (d) { return d.values; })\r\n                .x(function (d) { return d.x; })\r\n                .y(function (d) { return d.y; });\r\n            this.xAxisTimeFormat = d3.time.format(\"%M:%S\");\r\n            this.contextXscale = d3.time.scale().range([this.padding.right, this.viewInnerWidth - this.padding.left]);\r\n            this.contextTimeLineXAxisGen = d3.svg.axis()\r\n                .scale(this.contextXscale)\r\n                .orient(\"top\")\r\n                .tickSize(6, 0)\r\n                .tickFormat(function (d) { return d3.time.format(\"%b %d\")(d); });\r\n\r\n            this.stackXscale = d3.scale.linear()\r\n                .range([this.padding.left, this.chartWidth - this.padding.right]);\r\n            this.stackXAxisGen = d3.svg.axis()\r\n                .scale(this.stackXscale)\r\n                .tickSize(6, 0)\r\n                .orient(\"bottom\");\r\n\r\n            this.stackYscale = d3.scale.linear()\r\n                .range([this.chartHeight * 0.8 - this.padding.bottom, this.chartHeight * 0.8 - this.barHeight]);\r\n            this.stackYAxisGen = d3.svg.axis()\r\n                .scale(this.stackYscale)\r\n                .ticks(4)\r\n                .tickSize(6, 0)\r\n                .orient(\"left\");\r\n            this.areaGen = d3.svg.area()\r\n                .interpolate(\"basis\")\r\n                .x((d) => { return this.stackXscale(d.x); })\r\n                .y0((d) => { return this.stackYscale(d.y0); })\r\n                .y1((d) => { return this.stackYscale(d.y + d.y0); });\r\n\r\n            this.digitalDateFormat = d3.time.format(\"%b %d\");\r\n            this.digitalTimeFormat = d3.time.format(\"%H:%M\");\r\n        },\r\n        InitView() {\r\n            this.contextTimeLineG = this.svg.append(\"g\")\r\n                .attr(\"class\", \"time-line-context-group\")\r\n                .attr(\"transform\", \"translate(\" + [0, this.padding.top + this.titleHeight] + \")\");\r\n\r\n            this.contextTimeLineXAxis = this.contextTimeLineG.append(\"g\")\r\n                .attr(\"class\", \"x axis\");\r\n\r\n            this.contextTimeLineXAxis.call(this.contextTimeLineXAxisGen);\r\n            this.contextTimeLineXAxis\r\n                .append(\"circle\")\r\n                .attr({\r\n                    'cx': this.contextXscale.range()[0],\r\n                    'r': 10,\r\n                    'class': 'time-pivot'\r\n                });\r\n            this.drawStackGraph();\r\n        },\r\n        processStackData(data) {\r\n            if (!data) return;\r\n            // aggregate the clicks by time\r\n            if (!data.hasAggregate) {\r\n                for (let i = 0, len = data.layers.length; i < len; ++i) {\r\n                    let layer = data.layers[i];\r\n                    let oldValues = layer.values,\r\n                        newValues = [];\r\n                    for (let j = 0, lenj = Math.ceil(oldValues.length / this.timeInterval); j < lenj; ++j) {\r\n                        newValues.push({ x: j, y: 0 });\r\n                    }\r\n\r\n                    for (let j = 1, lenj = oldValues.length; j < lenj; ++j) {\r\n                        let newIndex = Math.floor(j / this.timeInterval);\r\n                        newValues[newIndex].y += oldValues[j].y;\r\n                    }\r\n                    layer.values = newValues;\r\n                    layer._original_values = oldValues;\r\n                }\r\n                data.maxTime = Math.floor(data.maxTime / this.timeInterval);\r\n\r\n                let maxY = -Infinity;\r\n                // calculate the max Y\r\n                for (let i = 0, len = data.layers[0].values.length; i < len; ++i) {\r\n                    let tempSum = 0;\r\n                    for (let j = 0, lenj = data.layers.length; j < lenj; ++j) {\r\n                        tempSum += data.layers[j].values[i].y;\r\n                    }\r\n                    if (tempSum > maxY) maxY = tempSum;\r\n                }\r\n                data.maxSumValues = maxY;\r\n                this.stackBarMaxY = maxY;\r\n                this.stackBarMaxIndex = data.maxTime;\r\n                data.hasAggregate = true;\r\n            }\r\n\r\n            // sort the order;\r\n            let sortedlayers = [];\r\n            this.layersName = [];\r\n            for (let i = 0, len = data.layers.length, d; i < len; ++i) {\r\n                d = data.layers[i];\r\n                sortedlayers[this.orderMapping[d.name]] = d;\r\n                this.layersName[this.orderMapping[d.name]] = d.name;\r\n            }\r\n            data.layers = sortedlayers;\r\n            this.layersName = this.layersName.reverse();\r\n            //update scale\r\n            this.stackXscale.domain([0, data.maxTime]);\r\n            this.stackYscale.domain([0, data.maxSumValues]);\r\n            //update axis-gen\r\n            this.stackXAxisGen.scale(this.stackXscale);\r\n            this.stackYAxisGen.scale(this.stackYscale);\r\n        },\r\n        drawStackGraph() {\r\n            this.processStackData(this.stackData[this.selectedVideo]);\r\n            let chart = this.stackGraph = this.svg.append(\"g\").attr({\r\n                \"class\": \"stack-graph\",\r\n                \"transform\": () => {\r\n                    return \"translate(\" + [this.padding.left, this.height * 0.25] + \")\"\r\n                }\r\n            });\r\n\r\n            let maxIndex = this.stackXscale.domain()[1];\r\n            this.stackBarWidth = this.chartWidth / maxIndex;\r\n            this.stackXAxisGen.ticks(maxIndex);\r\n            let data = this.stackLayout(this.stackData[this.selectedVideo].layers);\r\n            // append stackBar\r\n            chart.append(\"g\")\r\n                .attr(\"class\", \"back-ground upper-chart\")\r\n                .style('opacity', 1e-6)\r\n                .selectAll(\"g.layer\")\r\n                .data(data).enter()\r\n                .append(\"g\")\r\n                .attr(\"class\", function (d) { return \"layer \" + d.name; })\r\n                .append(\"path\")\r\n                .attr(\"d\", (d) => { return this.areaGen(d.values); });\r\n\r\n            //this.drawLegends(chart);\r\n            this.drawDigitalClock(this.svg);\r\n            this.start();\r\n        },\r\n        drawLegends(chart) {\r\n            this.stackXAxis = chart.select(\"g.back-ground.upper-chart\").append(\"g\")\r\n                .attr({\r\n                    \"class\": \"x axis\",\r\n                    \"transform\": \"translate(\" + [-this.stackBarWidth * 0.5 + this.padding.left, this.chartHeight * 0.8 - this.padding.bottom] + \")\"\r\n                })\r\n                .call(this.stackXAxisGen);\r\n            this.stackXAxis\r\n                .selectAll(\".tick text\")\r\n                .text((d, i) => {\r\n                    if (i & 1) return this.xAxisTimeFormat(new Date(this.timeInterval * d * 1000));\r\n                });\r\n            this.stackXAxis.append(\"text\")\r\n                .attr({\r\n                    \"class\": \"caption\",\r\n                    \"x\": this.chartWidth * 0.5,\r\n                    \"y\": this.padding.bottom + 20\r\n                })\r\n                .text(\"Video Progress\");\r\n\r\n            this.stackYAxis = chart.select(\"g.back-ground.upper-chart\").append(\"g\")\r\n                .attr({\r\n                    \"class\": \"y axis\",\r\n                    \"transform\": \"translate(\" + [this.padding.left, 0] + \")\"\r\n                })\r\n                .call(this.stackYAxisGen);\r\n\r\n            this.stackYAxis.append(\"text\")\r\n                .attr({\r\n                    \"class\": \"caption vertical-caption\",\r\n                    \"x\": - this.chartHeight * 0.8 + this.barHeight * 0.5 + this.padding.bottom,\r\n                    \"y\": -45\r\n                })\r\n                .text(\"Number of Clicks\");\r\n\r\n            let legends = chart.append(\"g\")\r\n                .attr({\r\n                    \"class\": \"legend\",\r\n                    \"transform\": \"translate(\" + [this.chartWidth - this.padding.left, 10] + \")\"\r\n                })\r\n                .selectAll(\"g.legend-rect\")\r\n                .data(this.layersName)\r\n                .enter()\r\n                .append(\"g\")\r\n                .attr(\"class\", function (d) { return \"legend-rect \" + d; });\r\n\r\n            legends\r\n                .append(\"rect\")\r\n                .attr({\r\n                    \"y\": (d, i) => { return i * 25; },\r\n                    \"height\": 20,\r\n                    \"width\": 20\r\n                })\r\n                ;\r\n\r\n            legends\r\n                .append(\"text\")\r\n                .attr({\r\n                    \"y\": (d, i) => { return i * 25 + 15; },\r\n                    \"x\": - 5,\r\n                })\r\n                .style({\r\n                    \"text-anchor\": \"end\",\r\n                })\r\n                .text(function (d) { return d; });\r\n\r\n            //draw digital clock\r\n        },\r\n        drawDigitalClock(chart) {\r\n            this.digitalClock = chart.append(\"g\")\r\n                .attr(\"class\", \"clock-group\")\r\n                .attr(\"transform\", \"translate(\" + [this.center[0], this.padding.top + this.titleHeight + this.height * 0.2] + \")\");\r\n            this.digitalClock\r\n                .append(\"line\")\r\n                .attr({\r\n                    \"x1\": - 150,\r\n                    \"y1\": 20,\r\n                    \"y2\": 20,\r\n                    \"x2\": 150\r\n                });\r\n            this.digitalClock\r\n                .append(\"text\")\r\n                .attr({\r\n                    \"class\": \"date\"\r\n                })\r\n                .text(\"TEST\");\r\n            this.digitalClock\r\n                .append(\"text\")\r\n                .attr({\r\n                    \"class\": \"time\",\r\n                    \"y\": 85\r\n                })\r\n                .text(\"TEST\");\r\n        },\r\n\r\n        AnimationUpdateDigitalClock(date) {\r\n            if (!this.digitalClock) return;\r\n            if (typeof date === \"number\" || typeof date === \"string\") date = new Date(date);\r\n            this.digitalClock.select(\"text.date\").text(this.digitalDateFormat(date));\r\n            this.digitalClock.select(\"text.time\").text(this.digitalTimeFormat(date));\r\n        },\r\n        start() {\r\n            let draw = () => {\r\n\r\n                if (allDataLength < sliceCount * sliceSize) return;\r\n                //get the data to be shown in this slice\r\n                let start = sliceCount * sliceSize;\r\n                let end = Math.min(tempL1A.length, (sliceCount + 1) * sliceSize);\r\n                let slicedData = tempL1A.slice(start, end);\r\n                let dataCount = slicedData.length;\r\n                let minTime = slicedData[0].ts;\r\n                sliceCount++;\r\n\r\n                let endCount = 0;\r\n                chart\r\n                    .selectAll('.points_' + sliceCount)\r\n                    .data(slicedData, function (d) { return d.ts; })\r\n                    .enter().append('circle')\r\n                    .attr({\r\n                        class: (d) => { return d.type; },\r\n                        cx: (d) => { return this.stackXscale(d.currentTime / this.timeInterval); },\r\n                        r: 0,\r\n                        opacity: 1\r\n                    })\r\n                    .transition()\r\n                    .delay((d) => { return (d.ts - minTime) / this.playrate })\r\n                    .duration(1000)\r\n                    .ease('cubic')\r\n                    .attr({\r\n                        opacity: 0.2,\r\n                        r: circleRadiu\r\n                    })\r\n                    .each(\"end\", function (d) {\r\n                        ++endCount;\r\n                        d3.select(this).remove();\r\n                        if (endCount === dataCount) {\r\n                            draw();\r\n                        }\r\n                    });\r\n\r\n                //this.animationTimer = setTimeout(draw, (slicedData[slicedData.length - 1].ts + 1010 - minTime) / this.playrate);\r\n            }\r\n            console.log(this.stackXscale.domain());\r\n            console.log(this.stackXscale.range());\r\n\r\n            let currentTime,\r\n                lastTime = this.contextXscale.domain()[0].getTime();\r\n            let isBegin = false;\r\n\r\n            let tempL1A = this.clickData[this.selectedVideo].clickDataGroupByTimeArray,\r\n                allDataLength = tempL1A.length;\r\n\r\n            console.log(tempL1A);\r\n\r\n            let sliceCount = 0,\r\n                sliceSize = 100;\r\n\r\n            let circleRadiu = 40;\r\n            let chart = this.stackGraph.append(\"g\")\r\n                .attr(\"class\", \"event-circle\")\r\n                .attr(\"transform\", \"translate(\" + [0, this.chartHeight - this.padding.bottom - circleRadiu] + \")\");\r\n\r\n            setTimeout(() => {\r\n                this.stackGraph.select('g.back-ground').transition().duration(1000).style('opacity', '1');\r\n            }, 10000);\r\n\r\n\r\n            this.contextTimeLineXAxis\r\n                .select(\"circle\")\r\n                .transition().ease(\"linear\")\r\n                .duration((this.contextXscale.domain()[1].getTime() - this.contextXscale.domain()[0].getTime()) / this.playrate)\r\n                .attrTween(\"cx\", () => {\r\n                    return (t) => {\r\n                        currentTime = this.contextXscale.domain()[0].getTime() + t * (this.contextXscale.domain()[1].getTime() - this.contextXscale.domain()[0].getTime());\r\n                        this.AnimationUpdateDigitalClock(currentTime);\r\n                        if (!isBegin) {\r\n                            if (currentTime < tempL1A[0].ts) return;\r\n                            else {\r\n                                isBegin = true;\r\n                                draw();\r\n                            }\r\n                        }\r\n                        lastTime = currentTime;\r\n                        return this.contextXscale.range()[0] + t * (this.contextXscale.range()[1] - this.contextXscale.range()[0]);\r\n                    }\r\n                });\r\n\r\n        },\r\n        stop() {\r\n            clearTimeout(this.animationTimer);\r\n        },\r\n        clean() {\r\n            this.stop();\r\n            this.contextTimeLineG && this.contextTimeLineG.selectAll(\"*\").remove();\r\n            this.stackGraph && this.stackGraph.selectAll(\"*\").remove();\r\n            this.digitalClock && this.digitalClock.selectAll(\"*\").remove();\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/CongleiBaseline/conglei-baseline.js","module.exports = \"<!-- Your content goes here -->\\n<div class=\\\"conglei mdl-card mdl-shadow--3dp mdl-cell mdl-cell--12-col\\\" _v-5d610277=\\\"\\\">\\n    <div class=\\\"mdl-card__title\\\" _v-5d610277=\\\"\\\">\\n        <h2 class=\\\"mdl-card__title-text\\\" _v-5d610277=\\\"\\\">Video-{{selectedVideo}}</h2>\\n    </div>\\n\\n    <svg class=\\\"conglei-svg\\\" _v-5d610277=\\\"\\\"></svg>\\n    <bubble-float v-ref:bubble-float-component=\\\"\\\" _v-5d610277=\\\"\\\"></bubble-float>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-5d610277!./src/components/CongleiBaseline/conglei-baseline.html\n// module id = 110\n// module chunks = 0","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"remove\\\":true}!css!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./NoForeshadowBaseline.vue\")\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"remove\\\":true}!css!./../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-24f243ef&scoped=true!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=1!./NoForeshadowBaseline.vue\")\n__vue_script__ = require(\"!!babel-loader!./no-foreshadow-baseline.js\")\nif (__vue_script__ &&\n    __vue_script__.__esModule &&\n    Object.keys(__vue_script__).length > 1) {\n  console.warn(\"[vue-loader] src\\\\components\\\\NoForeShadowBaseline\\\\NoForeshadowBaseline.vue: named exports in *.vue files are ignored.\")}\n__vue_template__ = require(\"!!vue-html-loader!./../../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-24f243ef!./no-foreshadow-baseline.html\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NoForeShadowBaseline/NoForeshadowBaseline.vue\n// module id = 111\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"remove\":true}!./~/css-loader!./~/vue-loader/lib/style-rewriter.js!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/NoForeShadowBaseline/NoForeshadowBaseline.vue\n// module id = 112\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"remove\":true}!./~/css-loader!./~/vue-loader/lib/style-rewriter.js?id=_v-24f243ef&scoped=true!./~/vue-loader/lib/selector.js?type=style&index=1!./src/components/NoForeShadowBaseline/NoForeshadowBaseline.vue\n// module id = 113\n// module chunks = 0","import d3 from 'd3';\r\nimport mdl from \"material-design-lite\";\r\nimport \"material-design-lite/src/material-design-lite.scss\";\r\n\r\n// components here\r\nimport Bubble from \"./../BubbleFloat/BubbleFloat.vue\";\r\n\r\n// self lib here\r\nimport TimeLine from './../../Static/TimeLine.js';\r\n\r\n\r\nexport default {\r\n    components: {\r\n        BubbleFloat: Bubble\r\n    },\r\n    ready() {\r\n        this.InitVariables();\r\n        console.log(\"ready no-ball-drop\");\r\n        if (!this.clickData) {\r\n            this.$root.getData();\r\n        }\r\n    },\r\n\r\n    // Complex data here\r\n    //d3 element\r\n    doc: null,\r\n    svg: null,\r\n    contextTimeLineG: null,\r\n    //xAxis: null,\r\n    timelineChartData: null,\r\n    timelineChartLineGen: null,\r\n    animation: null,\r\n    digitalClock: null,\r\n\r\n    //d3 drawing helper\r\n    focusXscale: null,\r\n    contextXscale: null,\r\n    contextBarChartYscale: null,\r\n    arcGen: null,\r\n    brush: null,\r\n    dateFormat: null,\r\n    timeFormat: null,\r\n\r\n    clickData: null,\r\n    data() {\r\n        return {\r\n            padding: { top: 0, right: 50, bottom: 30, left: 50 },\r\n            width: null,\r\n            height: null,\r\n            center: null,\r\n            titleHeight: null,\r\n            viewInnerWidth: null,\r\n            viewInnerHeight: null,\r\n            contextTimeLineHeight: null,\r\n            contextTimeLineY: null,\r\n            stackBarChartHeight: 300,\r\n\r\n            //control panel\r\n            zoomScaleMax: 8,\r\n            focusTimeLineViewScale: 1,\r\n            focusDataScale: 1,\r\n            isAcceleration: true,\r\n            accelerateMode: \"domain\",\r\n\r\n            selectedVideo: \"\",\r\n\r\n            // durations:[5000,1500,2500,5000],\r\n            baseDuration: 1000,\r\n            currentDuration: 1000,\r\n\r\n            timeInterval: { name: \"Hour\", ms: 60 * 60 * 1000 }, // hour\r\n\r\n            //data to draw\r\n            xDomainMin: null,\r\n            xDomainMax: null,\r\n        }\r\n    },\r\n    methods: {\r\n        setRawdata(data, stackData) {\r\n            this.clickData = {};\r\n            let time2edInterval = (this.zoomScaleMax * this.timeInterval.ms);\r\n            for (let i = 0, len = data.length; i < len; ++i) {\r\n                if (data[i].currentTime === 0) continue;\r\n                data[i].date = new Date(data[i].ts);\r\n\r\n                let videoId = data[i].videoId;\r\n                if (!this.clickData[videoId]) this.clickData[videoId] = {};\r\n                let videoData = this.clickData[videoId];\r\n\r\n                if (!videoData.clickDataGroupByTimeArray) videoData.clickDataGroupByTimeArray = {};\r\n                if (!videoData.clickDataGroupByTimeDict) videoData.clickDataGroupByTimeDict = {};\r\n                if (!videoData.clickDataGroupByTimeArray[this.focusTimeLineViewScale]) videoData.clickDataGroupByTimeArray[this.focusTimeLineViewScale] = [];\r\n                if (!videoData.clickDataGroupByTimeDict[this.focusTimeLineViewScale]) videoData.clickDataGroupByTimeDict[this.focusTimeLineViewScale] = {};\r\n                if (!videoData.clickDataGroupByTimeArray[this.zoomScaleMax]) videoData.clickDataGroupByTimeArray[this.zoomScaleMax] = [];\r\n                if (!videoData.clickDataGroupByTimeDict[this.zoomScaleMax]) videoData.clickDataGroupByTimeDict[this.zoomScaleMax] = {};\r\n\r\n                let index = Math.floor(data[i].ts / this.timeInterval.ms);\r\n                if (!videoData.clickDataGroupByTimeDict[this.focusTimeLineViewScale][index]) videoData.clickDataGroupByTimeDict[this.focusTimeLineViewScale][index] = [];\r\n                videoData.clickDataGroupByTimeDict[this.focusTimeLineViewScale][index].push(data[i]);\r\n\r\n                index = Math.floor(data[i].ts / time2edInterval);\r\n                if (!videoData.clickDataGroupByTimeDict[this.zoomScaleMax][index]) videoData.clickDataGroupByTimeDict[this.zoomScaleMax][index] = [];\r\n                videoData.clickDataGroupByTimeDict[this.zoomScaleMax][index].push(data[i]);\r\n            }\r\n\r\n            let videoIds = Object.keys(this.clickData);\r\n            for (let i = 0, len = videoIds.length; i < len; ++i) {\r\n                let videoData = this.clickData[videoIds[i]];\r\n                let timeKeys = Object.keys(videoData.clickDataGroupByTimeDict[this.focusTimeLineViewScale]);\r\n                for (let j = 0, lenj = timeKeys.length; j < lenj; ++j) {\r\n                    videoData.clickDataGroupByTimeArray[this.focusTimeLineViewScale][j] = {\r\n                        ts: +timeKeys[j] * this.timeInterval.ms,\r\n                        value: videoData.clickDataGroupByTimeDict[this.focusTimeLineViewScale][timeKeys[j]]\r\n                    };\r\n                }\r\n\r\n                timeKeys = Object.keys(videoData.clickDataGroupByTimeDict[this.zoomScaleMax]);\r\n                for (let j = 0, lenj = timeKeys.length; j < lenj; ++j) {\r\n                    videoData.clickDataGroupByTimeArray[this.zoomScaleMax][j] = {\r\n                        ts: +timeKeys[j] * time2edInterval,\r\n                        value: videoData.clickDataGroupByTimeDict[this.zoomScaleMax][timeKeys[j]]\r\n                    };\r\n                }\r\n            }\r\n\r\n\r\n            this.$refs.bubbleFloatComponent\r\n                .setBarHeight(this.stackBarChartHeight)\r\n                .setIs2D(this.is2D)\r\n                .setTimeInterval(30)\r\n                .videosData(stackData);\r\n\r\n            return videoIds;\r\n        },\r\n        processData(tempL1A) {\r\n            if (tempL1A.statics) return;\r\n            let extent = d3.extent(tempL1A, function(d) { return d.value.length; });\r\n            let max = extent[1];\r\n            let min = extent[0];\r\n            let mean = d3.mean(tempL1A, function(d) { return d.value.length; });\r\n            let median = d3.median(tempL1A, function(d) { return d.value.length; });\r\n            let deviation = d3.deviation(tempL1A, function(d) { return d.value.length; });\r\n            tempL1A.statics = {\r\n                extent: extent,\r\n                max: max,\r\n                min: min,\r\n                mean: mean,\r\n                median: median,\r\n                deviation: deviation\r\n            };\r\n        },\r\n        calOutLier(tempL1A) {\r\n            if (tempL1A.outliers) return;\r\n            if (!tempL1A.statics) this.processData(tempL1A);\r\n            let statics = tempL1A.statics;\r\n            let mean = statics.mean;\r\n            let deviation = statics.deviation;\r\n            let sigmaCount = 2;\r\n            let upperBound = mean + sigmaCount * deviation;\r\n            let lowerBound = mean - sigmaCount * deviation;\r\n            let outliers = [];\r\n            for (let i = 0, len = tempL1A.length, value; i < len; ++i) {\r\n                value = tempL1A[i].value.length;\r\n                if (value > upperBound || value < lowerBound) {\r\n                    tempL1A[i].isOutlier = true;\r\n                    outliers.push(tempL1A[i]);\r\n                }\r\n            }\r\n            tempL1A.outliers = outliers;\r\n        },\r\n        SelectVideo(selectedVideo) {\r\n            this.selectedVideo = selectedVideo;\r\n            let videoData = this.clickData[this.selectedVideo];\r\n            let tempL1A = videoData.clickDataGroupByTimeArray[1];\r\n            let tempL2A = videoData.clickDataGroupByTimeArray[this.zoomScaleMax];\r\n            if (!tempL2A) {\r\n                tempL2A = videoData.clickDataGroupByTimeArray[this.zoomScaleMax] = [];\r\n                let tempL2D = videoData.clickDataGroupByTimeDict[this.zoomScaleMax] = {};\r\n                let time2edInterval = this.timeInterval.ms * this.zoomScaleMax;\r\n                for (let i = 0, len = tempL1A.length; i < len; ++i) {\r\n                    let clicks = tempL1A[i].value;\r\n                    for (let j = 0, lenj = clicks.length; j < lenj; ++j) {\r\n                        let click = clicks[j];\r\n                        let index = Math.floor(click.ts / time2edInterval);\r\n                        if (!tempL2D[index]) tempL2D[index] = [];\r\n                        tempL2D[index].push(click);\r\n                    }\r\n                }\r\n\r\n                let timeKeys = Object.keys(tempL2D);\r\n                for (let i = 0, len = timeKeys.length; i < len; ++i) {\r\n                    tempL2A[i] = {\r\n                        ts: +timeKeys[i] * time2edInterval,\r\n                        value: tempL2D[timeKeys[i]]\r\n                    };\r\n                }\r\n            }\r\n            this.calOutLier(tempL1A);\r\n            this.calOutLier(tempL2A);\r\n\r\n            //set up domain of each scale\r\n            this.contextBarChartYscale.domain(tempL1A.statics.extent);\r\n            this.focusXscale.domain(d3.extent(tempL1A, function(d) { return +d.ts; }));\r\n            this.contextXscale.domain(this.focusXscale.domain());\r\n            this.xDomainMin = this.focusXscale.domain()[0];\r\n            this.xDomainMax = this.focusXscale.domain()[1];\r\n            setTimeout(this.InitView, 20);\r\n        },\r\n        SelectSpeed(zoomScaleMax) {\r\n            this.zoomScaleMax = zoomScaleMax;\r\n            let videoData = this.clickData[this.selectedVideo];\r\n            let tempL1A = videoData.clickDataGroupByTimeArray[1];\r\n            let tempL2A = videoData.clickDataGroupByTimeArray[this.zoomScaleMax];\r\n            if (!tempL2A) {\r\n                tempL2A = videoData.clickDataGroupByTimeArray[this.zoomScaleMax] = [];\r\n                let tempL2D = videoData.clickDataGroupByTimeDict[this.zoomScaleMax] = {};\r\n                let time2edInterval = this.timeInterval.ms * this.zoomScaleMax;\r\n                for (let i = 0, len = tempL1A.length; i < len; ++i) {\r\n                    let clicks = tempL1A[i].value;\r\n                    for (let j = 0, lenj = clicks.length; j < lenj; ++j) {\r\n                        let click = clicks[j];\r\n                        let index = Math.floor(click.ts / time2edInterval);\r\n                        if (!tempL2D[index]) tempL2D[index] = [];\r\n                        tempL2D[index].push(click);\r\n                    }\r\n                }\r\n\r\n                let timeKeys = Object.keys(tempL2D);\r\n                for (let i = 0, len = timeKeys.length; i < len; ++i) {\r\n                    tempL2A[i] = {\r\n                        ts: +timeKeys[i] * time2edInterval,\r\n                        value: tempL2D[timeKeys[i]]\r\n                    };\r\n                }\r\n            }\r\n            this.calOutLier(tempL1A);\r\n            this.calOutLier(tempL2A);\r\n\r\n            this.InitView();\r\n        },\r\n        ChangeAcceleration(isAcceleration) {\r\n            this.isAcceleration = isAcceleration;\r\n            if (!this.isAcceleration) {\r\n                this.focusTimeLineViewScale = 1;\r\n            }\r\n        },\r\n        InitVariables() {\r\n            this.doc = d3.select(this.$el);\r\n            this.titleHeight = this.doc.select(\".mdl-card__title\").node().clientHeight;\r\n            this.width = this.doc.node().clientWidth;\r\n            this.viewInnerWidth = this.width;\r\n            this.height = this.doc.node().clientHeight - this.titleHeight;\r\n            this.contextTimeLineHeight = this.height * 0.10;\r\n            this.viewInnerHeight = this.height * 0.15;\r\n            this.svg = this.doc.select(\"svg.no-foreshadow-baseline-svg\").attr(\"height\", this.viewInnerHeight);\r\n            this.svg.append(\"rect\").attr({\r\n                \"class\": \"svg-background\",\r\n                \"x\": 0,\r\n                \"y\": 0,\r\n                \"width\": this.width,\r\n                \"height\": this.viewInnerHeight\r\n            });\r\n            this.center = [this.viewInnerWidth * 0.5, this.viewInnerHeight * 0.5];\r\n\r\n            this.contextTimeLineY = 0;\r\n\r\n            // Scales\r\n            this.contextXscale = d3.time.scale();\r\n\r\n            this.contextBarChartYscale = d3.scale.linear()\r\n                .range([0, this.contextTimeLineHeight]);\r\n\r\n            this.focusXscale = d3.time.scale();\r\n            this.arcGen = d3.svg.arc().innerRadius(0).outerRadius(200).startAngle(0).endAngle(2 * Math.PI);\r\n            this.timelineChartLineGen = d3.svg.line().interpolate(\"basis\").x((d) => { return d.x; }).y((d) => { return d.y; });\r\n            this.dateFormat = d3.time.format(\"%b %d\");\r\n            this.timeFormat = d3.time.format(\"%H:%M\");\r\n\r\n            this.brush = d3.svg.brush()\r\n                .x(this.contextXscale);\r\n        },\r\n        drawDigitalClock(chart) {\r\n            this.digitalClock = chart.append(\"g\")\r\n                .attr(\"class\", \"clock-group\")\r\n                .attr(\"transform\", \"translate(\" + [this.center[0], this.center[1]] + \")\");\r\n            this.digitalClock\r\n                .append(\"line\")\r\n                .attr({\r\n                    \"x1\": - 150,\r\n                    \"y1\": 20,\r\n                    \"y2\": 20,\r\n                    \"x2\": 150\r\n                });\r\n            this.digitalClock\r\n                .append(\"text\")\r\n                .attr({\r\n                    \"class\": \"date\"\r\n                })\r\n                .text(\"TEST\");\r\n            this.digitalClock\r\n                .append(\"text\")\r\n                .attr({\r\n                    \"class\": \"time\",\r\n                    \"y\": 85\r\n                })\r\n                .text(\"TEST\");\r\n        },\r\n        InitView(timeLinePosition = null) {\r\n            if (this.animation) this.animation.interrupt();\r\n            //clear\r\n            this.focusTimeLineViewScale = 1;\r\n            this.focusDataScale = 1;\r\n            let videoData = this.clickData[this.selectedVideo];\r\n            let tempL1A = videoData.clickDataGroupByTimeArray[1],\r\n                tempL2A = videoData.clickDataGroupByTimeArray[this.zoomScaleMax];\r\n            this.calOutLier(tempL1A);\r\n            this.calOutLier(tempL2A);\r\n\r\n            for (let i = 0, len = tempL1A.length; i < len; ++i) {\r\n                tempL1A[i].firstDrop = true;\r\n            }\r\n            for (let i = 0, len = tempL2A.length; i < len; ++i) {\r\n                tempL2A[i].firstDrop = true;\r\n            }\r\n\r\n            this.contextTimeLineY = this.padding.top;\r\n            this.$refs.bubbleFloatComponent\r\n                .setPosition(0, this.viewInnerHeight + this.titleHeight)\r\n                .setSize([this.viewInnerWidth, this.height - this.viewInnerHeight]);\r\n\r\n            this.zoomInView = [this.center[0], this.halfTimeLineHeight, this.viewInnerWidth];\r\n            this.zoomOutView = [this.center[0], this.timeLineHeight, this.viewInnerWidth * 2];\r\n            //modify the domain of xScale for focus view\r\n            this.focusXscale\r\n                .range([this.padding.left, this.width - this.padding.right])\r\n                .domain([d3.time.hour.offset(this.xDomainMin, -5), d3.time.hour.offset(this.xDomainMin, 5)]);\r\n\r\n            // clear the svg\r\n            this.contextTimeLineG && this.contextTimeLineG.selectAll(\"*\").remove();\r\n            this.svg.select(\"defs\").selectAll(\"*\").remove();\r\n\r\n            this.drawContextTimeLine(tempL1A);\r\n\r\n            this.zoomIn = false;\r\n            this.focusTimeLineViewScale = 1;\r\n\r\n            let syncDelay = 0.3;\r\n            this.$refs.bubbleFloatComponent\r\n                .drawNoStackChart( this.selectedVideo)\r\n                .start()\r\n                ;\r\n            this.animation = d3.select(\"svg.no-foreshadow-baseline-svg\");\r\n            this.AnimationTick(this.baseDuration);\r\n        },\r\n        AnimationUpdateDigitalClock(date) {\r\n            if (!this.digitalClock) return;\r\n            if (typeof date === \"number\" || typeof date === \"string\") date = new Date(date);\r\n            this.digitalClock.select(\"text.date\").text(this.dateFormat(date));\r\n            this.digitalClock.select(\"text.time\").text(this.timeFormat(date));\r\n        },\r\n        drawContextTimeLine(tempL1A) {\r\n            this.contextXscale.range([this.padding.left, this.width - this.padding.right]);\r\n            this.contextTimeLineG = this.svg.append(\"g\")\r\n                .attr(\"class\", \"time-line-context-group\")\r\n                .attr(\"transform\", \"translate(\" + [0, 0] + \")\");\r\n\r\n            this.brush\r\n                .x(this.contextXscale)\r\n                .extent(this.focusXscale.domain());\r\n            // Context TimeLine here\r\n            this.contextTimeLineG.append(\"g\").attr(\"class\", \"x brush\")\r\n                .on(\"mousedown\", function() { d3.event.stopImmediatePropagation(); })\r\n                .call(this.brush)\r\n                .style(\"pointer-events\", \"none\")\r\n                .selectAll(\"rect\")\r\n                .attr({\r\n                    \"y\": this.viewInnerHeight - this.padding.bottom - this.contextTimeLineHeight,\r\n                    \"height\": this.contextTimeLineHeight\r\n                });\r\n\r\n            this.contextTimeLineXAxis = this.contextTimeLineG.append(\"g\")\r\n                .attr(\"class\", \"x axis\")\r\n                .attr(\"transform\", \"translate(\" + [0, this.viewInnerHeight - this.padding.bottom] + \")\");\r\n\r\n            this.contextTimeLineXAxis.call(d3.svg.axis()\r\n                .scale(this.contextXscale)\r\n                .orient(\"top\")\r\n                .tickSize(6, 0)\r\n                .tickFormat(function(d) { return d3.time.format(\"%b %d\")(d); }));\r\n\r\n            this.contextTimeLineXAxis\r\n                .append(\"circle\")\r\n                .attr({\r\n                    'cx': this.contextXscale.range()[0],\r\n                    'r': 10,\r\n                    'class': 'time-pivot'\r\n                });\r\n        },\r\n        AddOffsetToDomain(xScale) {\r\n            let domain = xScale.domain();\r\n            let domainWidth = 0.2 * (domain[1].getTime() - domain[0].getTime());\r\n            let tempDomainMin = domain[0].getTime() + domainWidth,\r\n                tempDomainMax = domain[1].getTime() + domainWidth;\r\n            if (tempDomainMax > this.xDomainMax) { //limit to the max\r\n                tempDomainMin = domain[0];\r\n                tempDomainMax = domain[1];\r\n            }\r\n            return [tempDomainMin, tempDomainMax];\r\n        },\r\n        AnimationTick(duration) {\r\n            let stop = false;\r\n            this.animation.transition().duration(duration).ease(\"linear\")\r\n                .each(\"interrupt\", () => {\r\n                    console.log(\"interrupt\");\r\n                    stop = true;\r\n                })\r\n                .each(() => {\r\n                    // update the domains               \r\n                    let lastDomain = this.focusXscale.domain();\r\n                    let lastDomainCenter = lastDomain[0].getTime() + 0.5 * (lastDomain[1].getTime() - lastDomain[0].getTime());\r\n                    let currentDomain = this.AddOffsetToDomain(this.focusXscale);\r\n                    let currentDomainCenter = currentDomain[0] + 0.5 * (currentDomain[1] - currentDomain[0]);\r\n\r\n                    // 1.determine the position of each bar firstly\r\n                    let focusBarData = [];\r\n                    let targetData = this.clickData[this.selectedVideo].clickDataGroupByTimeArray[1];\r\n                    this.zoomIn = false;\r\n                    for (let i = 0, len = targetData.length; i < len; ++i) {\r\n                        if (targetData[i].ts >= lastDomain[0]) {\r\n                            if (targetData[i].ts <= currentDomain[1]) {\r\n                                if (targetData[i].isOutlier) {\r\n                                    this.zoomIn = true;\r\n                                }\r\n                                focusBarData.push(targetData[i]);\r\n                            } else {\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    d3.select({}).transition().tween(\"main\", () => {\r\n                        let interpolateDomain = d3.interpolateNumber(lastDomainCenter, currentDomainCenter);\r\n                        return (t) => {\r\n                            if (stop) return;\r\n                            let offset = interpolateDomain(t);\r\n                            this.$refs.bubbleFloatComponent.AnimationUpdateDigitalClock(offset);\r\n                            this.contextTimeLineXAxis.select(\"circle\").attr(\"cx\", this.contextXscale(offset));\r\n\r\n                            for (let i = 0, len = focusBarData.length; i < len; ++i) {\r\n                                if (focusBarData[i].ts > offset) {\r\n                                    if (focusBarData[i].firstDrop) {\r\n                                        focusBarData[i].firstDrop = false;\r\n                                        this.$refs\r\n                                            .bubbleFloatComponent\r\n                                            .inputClicks(focusBarData[i].value, focusBarData[i])\r\n                                            .drawClicks();\r\n                                    }\r\n                                }\r\n                            }\r\n                        };\r\n                    });\r\n\r\n                    // 2.update new domain\r\n                    this.focusXscale.domain(currentDomain);\r\n                    // 3.define our brush extent with new domain\r\n                    this.brush.extent(currentDomain);\r\n                    this.brush(this.contextTimeLineG.select(\".x.brush\").transition());\r\n                })\r\n                .transition().duration(10)\r\n                .each(\"end\", () => {\r\n                    if (!stop && this.focusXscale.domain()[1] < this.xDomainMax) {\r\n                        if (this.isAcceleration && !this.zoomIn) {\r\n                            switch (this.accelerateMode) {\r\n                                case \"domain\": {\r\n                                    this.focusTimeLineViewScale = this.zoomScaleMax;\r\n                                    this.AccelerateByDomain(this.zoomScaleMax);\r\n                                    this.$refs.bubbleFloatComponent.accelerateBallsDropping(this.zoomScaleMax);\r\n                                    break;\r\n                                }\r\n                                case \"screen\": {\r\n                                    this.zoomIn = true;\r\n                                    this.focusTimeLineViewScale = this.zoomScaleMax;\r\n                                    this.zoomOutView = [this.zoomInView[0] + this.viewInnerWidth * 0.5,\r\n                                        this.timeLineHeight,\r\n                                        this.viewInnerWidth * this.focusTimeLineViewScale];\r\n                                    this.AccelerateByScreen(duration, this.zoomInView, this.zoomOutView);\r\n                                    break;\r\n                                }\r\n                            }\r\n                        } else if (this.isAcceleration && this.zoomIn) {\r\n                            switch (this.accelerateMode) {\r\n                                case \"domain\": {\r\n                                    this.focusTimeLineViewScale = 1;\r\n                                    this.AccelerateByDomain(1);\r\n                                    this.$refs.bubbleFloatComponent.accelerateBallsDropping(1)\r\n                                    break;\r\n                                }\r\n                                case \"screen\": {\r\n                                    this.zoomIn = false;\r\n                                    this.focusTimeLineViewScale = 1;\r\n                                    this.zoomInView = [this.zoomOutView[0] + this.viewInnerWidth * 0.5,\r\n                                        this.timeLineHeight * 0.5,\r\n                                        this.viewInnerWidth * this.focusTimeLineViewScale];\r\n                                    this.AccelerateByScreen(duration, this.zoomOutView, this.zoomInView);\r\n                                    break;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            this.AnimationTick(duration);\r\n                        }\r\n                    }\r\n                });\r\n        },\r\n\r\n\r\n        Pause() {\r\n            this.animation.interrupt();\r\n            this.$refs.bubbleFloatComponent.pause();\r\n        },\r\n        Resume() {\r\n            this.AnimationTick(this.baseDuration);\r\n            this.$refs.bubbleFloatComponent.resume();\r\n        },\r\n        AccelerateByDomain(scale) {\r\n            let targetDuration = this.baseDuration / scale;\r\n            let sourceDuration = this.baseDuration / (scale != 1 ? 1 : this.zoomScaleMax);\r\n            let offset = (targetDuration - sourceDuration) * 0.2;\r\n            if (this.currentDuration != targetDuration) this.currentDuration += offset;\r\n            this.AnimationTick(this.currentDuration);\r\n        },\r\n        AccelerateByScreen(duration, start, end) {\r\n            this.animation.interrupt();\r\n            this.selectVideoDisabled = true;\r\n            let originalFocusXscale = this.focusXscale.copy();\r\n            let halfScreen = end[2] * 0.5;\r\n            this.focusXscale.domain([end[0] - halfScreen, end[0] + halfScreen].map(originalFocusXscale.invert));\r\n            this.selectVideoDisabled = false;\r\n            this.AnimationTick(duration);\r\n        },\r\n\r\n\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/NoForeShadowBaseline/no-foreshadow-baseline.js","module.exports = \"\\n<!-- Your content goes here -->\\n<div class=\\\"no-foreshadow-baseline mdl-card mdl-shadow--3dp mdl-cell mdl-cell--12-col\\\" _v-24f243ef=\\\"\\\">\\n    <div class=\\\"mdl-card__title\\\" _v-24f243ef=\\\"\\\">\\n        <h2 class=\\\"mdl-card__title-text\\\" _v-24f243ef=\\\"\\\">Video-{{selectedVideo}}</h2>\\n    </div>\\n\\n    <svg class=\\\"no-foreshadow-baseline-svg\\\" _v-24f243ef=\\\"\\\"></svg>\\n    <div class=\\\"mdl-card__actions mdl-card--border\\\" _v-24f243ef=\\\"\\\"> </div>\\n    <bubble-float v-ref:bubble-float-component=\\\"\\\" _v-24f243ef=\\\"\\\"></bubble-float>\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-24f243ef!./src/components/NoForeShadowBaseline/no-foreshadow-baseline.html\n// module id = 115\n// module chunks = 0"],"sourceRoot":""}